// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../../geometry ../../../core/maybe ../../../geometry/support/jsonUtils ../CIMEffects ../enums ../../../geometry/SpatialReference".split(" "),function(h,g,l,k,m,q,n){g=function(){function d(){}d.local=function(){null===d.instance&&(d.instance=new d);return d.instance};d.prototype.execute=function(a,b,c,e,f){return new p(a,b,c,e,f)};return d}();g.instance=null;let p=function(){function d(a,b,c,e,f){this._inputGeometries=a;this._tileKey=e;this._geometryEngine=f;this._width=(void 0!==
b.width?b.width:2)*c;this._option=b.option}d.prototype.next=function(){let a;for(;a=this._inputGeometries.next();){if(k.isExtent(a)&&0<this._width){if(0>Math.min(a.xmax-a.xmin,a.ymax-a.ymin)-2*this._width)return a;var b=[];b.push([[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]);b.push([[a.xmin+this._width,a.ymin+this._width],[a.xmax-this._width,a.ymin+this._width],[a.xmax-this._width,a.ymax-this._width],[a.xmin+this._width,a.ymax-this._width],[a.xmin+this._width,
a.ymin+this._width]]);return{rings:b}}if(k.isPolygon(a)){b=null;var c=this._geometryEngine;let e=a;if(this._tileKey&&(e=m.clipPolygonToTileExtent(a,Math.abs(this._width)+1),!e||!e.rings||0===e.rings.length))continue;l.isSome(c)&&(b=c.buffer(n.WebMercator,e,-this._width,1));if(0<this._width){c=[];for(const f of a.rings)f&&c.push(f);if(b)for(const f of b.rings)f&&c.push(f.reverse());if(c.length)return{rings:c}}}}return null};return d}();h.EffectDonut=g;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});