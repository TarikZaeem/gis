// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../config ../../core/Error ../../core/has ../../core/Logger ../../geometry/Point ../../geometry/support/webMercatorUtils ../../portal/Portal ../../chunks/_rollupPluginBabelHelpers ../../request ../../kernel ../../core/arrayUtils ../../core/urlUtils ../../geometry ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Polygon ../../geometry/Polyline ../../rest/geometryService/units ../../rest/operations/generalize ../../rest/support/GeneralizeParameters ../../rest/operations/lengths ../../rest/support/LengthsParameters ../../rest/operations/offset ../../rest/support/OffsetParameters ../../rest/geometryService/project ../../rest/operations/relation ../../rest/support/RelationParameters ../../rest/operations/trimExtend ../../rest/support/TrimExtendParameters ../../rest/support/ProjectParameters".split(" "),
function(e,g,f,l,m,n,p,q,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,r,S,T,U,V,t){function u({longitude:a,latitude:c,altitude:b}){return new n({longitude:a,latitude:c,z:b||void 0,spatialReference:{wkid:4326}})}function v(a,c,b){if(!c)return Promise.resolve(a);const d=c.spatialReference;return d.isWGS84?Promise.resolve(a):d.isWebMercator?Promise.resolve(p.geographicToWebMercator(a)):w(b).then(h=>{if(!h)throw new f("geometry-service:missing-url","Geometry service URL is missing");const x=new t({geometries:[a],
outSpatialReference:d});return r.project(h,x,b).then(y=>y[0])})}function w(a){if(g.geometryServiceUrl)return Promise.resolve(g.geometryServiceUrl);const c=q.getDefault();return c.load(a).catch(()=>{}).then(()=>c.get("helperServices.geometry.url"))}const k=m.getLogger("esri.widgets.support.geolocationUtils"),z={maximumAge:0,timeout:15E3,enableHighAccuracy:!0};e.getCurrentPosition=function(a){a||(a=z);return new Promise((c,b)=>{setTimeout(()=>b(new f("geolocation:timeout","getting the current geolocation position timed out")),
15E3);navigator.geolocation.getCurrentPosition(c,b,a)})};e.positionToPoint=function(a,c){const {position:b,view:d}=a;a=b&&b.coords||{};a={accuracy:a.accuracy,altitude:a.altitude,altitudeAccuracy:a.altitudeAccuracy,heading:a.heading,latitude:a.latitude,longitude:a.longitude,speed:a.speed};a=(b?{coords:a,timestamp:b.timestamp}:b)?.coords;if(!a)throw new f("geometry-service:no-coords","Geolocation has no coordinates");a=u(a);return v(a,d,c)};e.supported=function(){var a=l("esri-geolocation");a||k.warn("geolocation-unsupported",
"Geolocation unsupported.");a&&((a=window.isSecureContext)||k.warn("insecure-context","Geolocation requires a secure origin."));return a};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});