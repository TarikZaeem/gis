// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../intl ../core/Collection ../core/events ../core/Handles ../core/Logger ../core/maybe ../core/reactiveUtils ../core/throttle ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/cast ../core/arrayUtils ../core/accessorSupport/decorators/subclass ./Feature ./Spinner ./Widget ./Feature/resources ./Feature/support/FeatureContentMixin ./Popup/actionUtils ./Popup/css ./Popup/PopupViewModel ./support/Heading ./support/decorators/accessibleHandler ./support/decorators/messageBundle ./support/decorators/vmEvent ./support/jsxFactory ./support/widgetUtils ../support/themeUtils ../intl/substitute".split(" "),
function(A,F,l,k,H,B,P,J,C,r,Q,p,R,ba,S,T,U,V,W,X,Y,e,K,Z,w,L,aa,m,x,M,u){function v(D,y){return void 0===y?`${"esri-popup"}__${D}`:`${"esri-popup"}__${D}-${y}`}const N={buttonEnabled:!0,position:"auto",breakpoint:{width:544}},O={closeButton:!0,featureNavigation:!0};k=function(D){function y(a,c){var b=D.call(this,a,c)||this;b._blurClose=!1;b._blurContainer=!1;b._containerNode=null;b._mainContainerNode=null;b._featureMenuNode=null;b._actionsMenuNode=null;b._focusClose=!1;b._focusContainer=!1;b._focusDockButton=
!1;b._focusFeatureMenuButton=!1;b._focusActionsMenuButton=!1;b._focusFirstFeature=!1;b._focusFirstAction=!1;b._handles=new P;b._pointerOffsetInPx=16;b._spinner=null;b._feature=null;b._featureMenuIntersectionObserverNode=null;b._featureMenuViewportNode=null;b._rootFlowItemNode=null;b._featureMenuIntersectionObserverCallback=([f])=>{f?.isIntersecting&&null!=b.viewModel.featurePage&&b.viewModel.featurePage++};b._featureMenuIntersectionObserver=new IntersectionObserver(b._featureMenuIntersectionObserverCallback,
{root:window.document});b._displaySpinnerThrottled=Q.throttle(()=>b._displaySpinner(),0);b._exitRelatedRecordsActions=new WeakMap;b._featureSelectionActions=new WeakMap;b._flowItems=new H;b.alignment="auto";b.collapsed=!1;b.collapseEnabled=!0;b.dockEnabled=!1;b.featureMenuOpen=!1;b.headingLevel=2;b.maxInlineActions=3;b.messages=null;b.messagesCommon=null;b.spinnerEnabled=!0;b.viewModel=new K;b.visibleElements={...O};b._handleOpenRelatedFeature=f=>{b._openRelatedFeature(f)};b._addSelectedFeatureIndexHandle();
b.addHandles([r.watch(()=>b.viewModel?.screenLocation,()=>b._positionContainer()),r.watch(()=>[b.viewModel?.active,b.dockEnabled],()=>b._toggleScreenLocationEnabled()),r.watch(()=>b.viewModel?.screenLocation,(f,g)=>{!!f!==!!g&&b.reposition()}),r.watch(()=>[b.viewModel?.view?.padding,b.viewModel?.view?.size,b.viewModel?.active,b.viewModel?.location,b.alignment],()=>b.reposition()),r.watch(()=>b.spinnerEnabled,f=>b._spinnerEnabledChange(f)),r.watch(()=>b.viewModel?.view?.size,(f,g)=>b._updateDockEnabledForViewSize(f,
g)),r.watch(()=>b.viewModel?.view,(f,g)=>b._viewChange(f,g)),r.watch(()=>b.viewModel?.view?.ready,(f,g)=>b._viewReadyChange(f??!1,g??!1)),r.watch(()=>[b.viewModel?.waitingForResult,b.viewModel?.location],()=>{b._hideSpinner();b._displaySpinnerThrottled()}),r.watch(()=>b.selectedFeatureWidget,()=>b._destroyFlowItemWidgets()),r.watch(()=>[b.selectedFeatureWidget?.viewModel?.title,b.selectedFeatureWidget?.viewModel?.state],()=>b._setTitleFromFeatureWidget()),r.watch(()=>[b.selectedFeatureWidget?.viewModel?.content,
b.selectedFeatureWidget?.viewModel?.state],()=>b._setContentFromFeatureWidget()),r.when(()=>!b.collapsed,()=>{"xsmall"===b.viewModel?.view?.widthBreakpoint&&b.viewModel.active&&b.collapseEnabled&&b.viewModel.centerAtLocation()}),r.on(()=>b.viewModel?.allActions,"change",()=>b._watchActions()),r.watch(()=>b.viewModel?.allActions,()=>b._watchActions(),r.initial),r.watch(()=>b.viewModel?.featureViewModels,()=>b._featureMenuViewportScrollTop()),r.on(()=>b._flowItems,"change",()=>{b.notifyChange("_activeFlowItemWidget");
b.scheduleRender()}),r.watch(()=>[b._activeFlowItemWidget?.viewModel?.state,b._activeFlowItemWidget?.viewModel?.title],()=>b.scheduleRender())]);return b}F._inheritsLoose(y,D);var d=y.prototype;d.loadDependencies=function(){return Promise.all([new Promise((a,c)=>A(["../chunks/calcite-flow"],a,c)),new Promise((a,c)=>A(["../chunks/calcite-flow-item"],a,c)),new Promise((a,c)=>A(["../chunks/calcite-action"],a,c)),new Promise((a,c)=>A(["../chunks/calcite-tooltip"],a,c)),new Promise((a,c)=>A(["../chunks/calcite-icon"],
a,c))])};d.destroy=function(){this._destroyFlowItemWidgets();this._destroySelectedFeatureWidget();this._destroySpinner();this._handles?.destroy();this._unobserveFeatureMenuObserver();this._featureMenuIntersectionObserver?.disconnect()};d.castVisibleElements=function(a){return{...O,...a}};d.blur=function(){const {active:a}=this.viewModel;a||J.getLogger(this.declaredClass).warn("Popup can only be blurred when currently active.");this.visibleElements.closeButton?this._blurClose=!0:this._blurContainer=
!0;this.scheduleRender()};d.clear=function(){return this.viewModel.clear()};d.close=function(){this.visible=!1};d.fetchFeatures=function(a,c){return this.viewModel.fetchFeatures(a,c)};d.focus=function(){const {active:a}=this.viewModel;a||J.getLogger(this.declaredClass).warn("Popup can only be focused when currently active.");this.visibleElements.closeButton?this._focusClose=!0:this._focusContainer=!0;this.scheduleRender()};d.next=function(){return this.viewModel.next()};d.open=function(a){this._handles.remove("selected-index");
const c={collapsed:a?!!a.collapsed:!1,actionsMenuOpen:a?!!a.actionsMenuOpen:!1,featureMenuOpen:a?!!a.featureMenuOpen:!1};"xsmall"===this.viewModel?.view?.widthBreakpoint&&(c.collapsed=!0);this.set(c);this.viewModel.open(a);this._shouldFocus(a);this._addSelectedFeatureIndexHandle()};d.previous=function(){return this.viewModel.previous()};d.reposition=function(){this.renderNow();this._positionContainer();this._setCurrentAlignment()};d.triggerAction=function(a){return this.viewModel.triggerAction(a)};
d.render=function(){const {actionsMenuOpen:a,dockEnabled:c,featureMenuVisible:b,dividedActions:f,currentAlignment:g,currentDockPosition:h}=this,{active:n}=this.viewModel,{menuActions:q}=f,t=this.selectedFeature?.layer?.title,E=this.selectedFeature?.layer?.id;return m.tsx("div",{class:this.classes(e.CSS.base,{[e.CSS.alignTopCenter]:"top-center"===g,[e.CSS.alignBottomCenter]:"bottom-center"===g,[e.CSS.alignTopLeft]:"top-left"===g,[e.CSS.alignBottomLeft]:"bottom-left"===g,[e.CSS.alignTopRight]:"top-right"===
g,[e.CSS.alignBottomRight]:"bottom-right"===g,[e.CSS.isDocked]:n&&c,[e.CSS.shadow]:n&&!c,[e.CSS.isDockedTopLeft]:"top-left"===h,[e.CSS.isDockedTopCenter]:"top-center"===h,[e.CSS.isDockedTopRight]:"top-right"===h,[e.CSS.isDockedBottomLeft]:"bottom-left"===h,[e.CSS.isDockedBottomCenter]:"bottom-center"===h,[e.CSS.isDockedBottomRight]:"bottom-right"===h,[e.CSS.isFeatureMenuOpen]:b,[e.CSS.isActionsMenuOpen]:n&&1<q.length&&a}),role:"presentation","data-layer-title":t,"data-layer-id":E,bind:this,afterCreate:this._positionContainer,
afterUpdate:this._positionContainer},n?[this.renderMainContainer(),this.renderPointer()]:null)};d.renderLoadingIcon=function(){return m.tsx("span",{"aria-hidden":"true",class:this.classes(e.CSS.icon,e.CSS.iconLoading,e.CSS.rotating)})};d.renderNavigationLoading=function(){const {messagesCommon:a}=this;return this.viewModel.pendingPromisesCount?m.tsx("div",{key:v("loading-container"),role:"presentation",class:e.CSS.loadingContainer,"aria-label":a.loading,title:a.loading},this.renderLoadingIcon()):
null};d.renderPreviousIcon=function(){const a=x.isRTL(this.container);return m.tsx("span",{"aria-hidden":"true",class:this.classes(e.CSS.icon,{[e.CSS.iconRightTriangleArrow]:a,[e.CSS.paginationPreviousIconRTL]:a,[e.CSS.iconLeftTriangleArrow]:!a,[e.CSS.paginationPreviousIconLTR]:!a})})};d.renderPreviousButton=function(){const {messages:a}=this;return m.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._previous,onkeydown:this._previous,class:this.classes(e.CSS.button,e.CSS.paginationPrevious),
"aria-label":a.previous,title:a.previous},this.renderPreviousIcon())};d.renderNextIcon=function(){const a=x.isRTL(this.container);return m.tsx("span",{"aria-hidden":"true",class:this.classes(e.CSS.icon,{[e.CSS.iconLeftTriangleArrow]:a,[e.CSS.paginationNextIconRTL]:a,[e.CSS.iconRightTriangleArrow]:!a,[e.CSS.paginationNextIconLTR]:!a})})};d.renderNextButton=function(){const {messages:a}=this;return m.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._next,onkeydown:this._next,class:this.classes(e.CSS.button,
e.CSS.paginationNext),"aria-label":a.next,title:a.next},this.renderNextIcon())};d.renderFeatureMenuButton=function(){const {featureMenuOpen:a,featureMenuId:c,messagesCommon:b}=this,{featureCount:f,selectedFeatureIndex:g}=this.viewModel;return m.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._toggleFeatureMenu,onkeydown:this._toggleFeatureMenu,afterCreate:this._focusFeatureMenuButtonNode,afterUpdate:this._focusFeatureMenuButtonNode,class:this.classes(e.CSS.button,e.CSS.featureMenuButton),
"aria-haspopup":"true","aria-controls":c,"aria-expanded":a.toString(),"aria-label":b.menu,title:b.menu},this._getPageText(f,g))};d.renderNavigationButtons=function(){return this.featureNavigationVisible?[this.renderPreviousButton(),this.renderNavigationLoading()||this.renderFeatureMenuButton(),this.renderNextButton()]:[]};d.renderDockIcon=function(){const {dockEnabled:a}=this,c=this._wouldDockTo();return m.tsx("span",{"aria-hidden":"true",class:this.classes({[e.CSS.iconUndock]:a,[e.CSS.iconDock]:!a,
[e.CSS.iconDockToRight]:!a&&("top-right"===c||"bottom-right"===c),[e.CSS.iconDockToLeft]:!a&&("top-left"===c||"bottom-left"===c),[e.CSS.iconDockToTop]:!a&&"top-center"===c,[e.CSS.iconDockToBottom]:!a&&"bottom-center"===c},e.CSS.icon)})};d.renderDockButton=function(){const {dockEnabled:a,messages:c}=this,b=a?c.undock:c.dock;return"xsmall"!==this.viewModel?.view?.widthBreakpoint&&this.dockOptions?.buttonEnabled?m.tsx("div",{role:"button","aria-label":b,title:b,tabIndex:0,bind:this,onclick:this._toggleDockEnabled,
onkeydown:this._toggleDockEnabled,afterCreate:this._focusDockButtonNode,afterUpdate:this._focusDockButtonNode,class:this.classes(e.CSS.button,e.CSS.buttonDock)},this.renderDockIcon()):null};d.renderTitle=function(){const {title:a}=this.viewModel,{titleId:c,collapsible:b,contentCollapsed:f,messagesCommon:g}=this;var h={[e.CSS.headerContainerButton]:b};const n=m.tsx(Z.Heading,{level:this.headingLevel,class:e.CSS.headerTitle,innerHTML:a??""});h=b?m.tsx("button",{key:`${a}--collapsible`,id:c,title:f?
g.expand:g.collapse,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(e.CSS.headerContainer,h),"aria-expanded":f?"false":"true",onclick:this._toggleCollapsed,type:"button"},n,m.tsx("calcite-icon",{class:e.CSS.collapseIcon,key:"collapse-icon",icon:f?"chevron-down":"chevron-up",scale:"m"})):m.tsx("div",{key:a??"title",id:c,bind:this,enterAnimation:this._createFeatureUpdatedAnimation(),class:this.classes(e.CSS.headerContainer,h)},n);return a?h:null};d.renderCloseIcon=
function(){return m.tsx("span",{"aria-hidden":"true",class:this.classes(e.CSS.icon,e.CSS.iconClose)})};d.renderCloseButton=function(){const {visibleElements:a,messagesCommon:c}=this;return a.closeButton?m.tsx("div",{role:"button",tabIndex:0,bind:this,onclick:this._close,onkeydown:this._close,class:e.CSS.button,"aria-label":c.close,title:c.close,afterCreate:this._closeButtonNodeUpdated,afterUpdate:this._closeButtonNodeUpdated},this.renderCloseIcon()):null};d.renderHeader=function(){return m.tsx("header",
{class:e.CSS.header},this.renderTitle(),m.tsx("div",{class:e.CSS.headerButtons},this.renderDockButton(),this.renderCloseButton()))};d.renderContentContainer=function(){const {contentId:a,hasContent:c,contentCollapsed:b,_flowItems:f}=this,{content:g}=this.viewModel,h=f.toArray(),n={[e.CSS.contentHasFlows]:!!h.length};return c&&!b?m.tsx("div",{key:g??"content",enterAnimation:this._createFeatureUpdatedAnimation(),id:a,class:this.classes(e.CSS.content,n)},m.tsx("calcite-flow",{bind:this},m.tsx("calcite-flow-item",
{bind:this,"data-node-ref":"_rootFlowItemNode",afterCreate:x.storeNode,key:"root-flow-item",onCalciteFlowItemBack:this._handleBackClick},this.renderContent()),h.map(q=>this.renderFlowItem(q))),h.map(q=>this.renderFlowItemTooltips(q))):null};d.renderFlowItem=function(a){const {messages:c}=this,b=M.isDarkTheme(),f="graphic"in a&&!a.isTable;return m.tsx("calcite-flow-item",{bind:this,class:this.classes({[e.CSS.calciteThemeDark]:!b,[e.CSS.calciteThemeLight]:b}),heading:a.title??"",description:this._getFlowItemDescription(a),
onCalciteFlowItemBack:this._handleBackClick,key:`flow-item-${a.viewModel.uid}`},m.tsx("calcite-action",{class:e.CSS.actionExit,icon:"move-up",label:c?.exitRelatedRecords,text:c?.exitRelatedRecords,slot:"header-actions-start",bind:this,afterCreate:g=>this._storeExitRelatedRecordsAction(a,g),onclick:this._destroyFlowItemWidgets}),f?m.tsx("calcite-action",{class:e.CSS.actionSelectFeature,icon:"zoom-to-object",label:c?.selectFeature,text:c?.selectFeature,slot:"header-actions-end",bind:this,afterCreate:g=>
this._storeFeatureSelectionAction(a,g),onclick:()=>this._handleOpenRelatedFeature(a)}):null,m.tsx("div",{class:this.classes(e.CSS.contentFlowItem,{[e.CSS.calciteThemeDark]:b,[e.CSS.calciteThemeLight]:!b})},a.render()))};d.renderFlowItemTooltips=function(a){const {messages:c,_exitRelatedRecordsActions:b,_featureSelectionActions:f}=this,g=M.isDarkTheme(),h=f.get(a);return[m.tsx("calcite-tooltip",{class:this.classes({[e.CSS.calciteThemeDark]:!g,[e.CSS.calciteThemeLight]:g}),key:`exit-related-records-tooltip-${a.viewModel.uid}`,
label:c?.exitRelatedRecords,overlayPositioning:"fixed",referenceElement:b.get(a),placement:"top"},c?.exitRelatedRecords),h?m.tsx("calcite-tooltip",{class:this.classes({[e.CSS.calciteThemeDark]:!g,[e.CSS.calciteThemeLight]:g}),key:`select-related-record-tooltip-${a.viewModel.uid}`,label:c?.selectFeature,overlayPositioning:"fixed",referenceElement:h,placement:"top"},c?.selectFeature):null]};d.renderActionsMenuButton=function(){const {actionsMenuId:a,actionsMenuButtonId:c,actionsMenuOpen:b,dividedActions:f,
messagesCommon:g}=this,h=b?g.close:g.open,{menuActions:n}=f;return n.length?m.tsx("div",{key:v("actions-menu-button"),class:this.classes(e.CSS.button,e.CSS.actionsMenuButton),role:"button",id:c,"aria-haspopup":"true","aria-controls":b?a:null,tabIndex:0,bind:this,onclick:this._toggleActionsMenu,onkeydown:this._toggleActionsMenu,afterCreate:this._focusActionsMenuButtonNode,afterUpdate:this._focusActionsMenuButtonNode,"aria-label":h,title:h},m.tsx("span",{"aria-hidden":"true",class:e.CSS.iconActionsMenu})):
null};d.renderMenuActions=function(){const {actionsMenuId:a,actionsMenuButtonId:c,actionsMenuOpen:b,dividedActions:f}=this,{menuActions:g}=f;return g.length&&b?m.tsx("ul",{id:a,role:"menu","aria-labelledby":c,key:v("actions"),class:e.CSS.actions,bind:this,onkeyup:this._handleActionMenuKeyup,afterCreate:this._actionsMenuNodeUpdated,afterUpdate:this._actionsMenuNodeUpdated},g.toArray().map(h=>this.renderAction({action:h,type:"menu-item"}))):null};d.renderInlineActions=function(){const {inlineActions:a}=
this.dividedActions;return a.length?a.toArray().map(c=>this.renderAction({action:c,type:"inline"})):[]};d.renderInlineActionsContainer=function(){const {inlineActions:a,menuActions:c}=this.dividedActions,b=!!a.length,f=!!c.length;return b||f?m.tsx("div",{key:"inline-actions-container","data-inline-actions":b.toString(),"data-menu-actions":f.toString(),class:e.CSS.inlineActionsContainer},this.renderInlineActions(),this.renderActionsMenuButton(),this.renderMenuActions()):null};d.renderNavigation=function(){return this.featureNavigationVisible?
m.tsx("section",{key:v("navigation"),class:this.classes(e.CSS.navigation)},this.renderNavigationButtons()):null};d.renderFooter=function(){const {featureNavigationVisible:a,dividedActions:c}=this,{inlineActions:b,menuActions:f}=c,g=!!b.length,h={[e.CSS.footerHasPagination]:a,[e.CSS.footerHasActions]:g,[e.CSS.footerHasActionsMenu]:!!f.length};return a||g?m.tsx("div",{key:v("feature-buttons"),class:this.classes(e.CSS.footer,h)},this.renderInlineActionsContainer(),this.renderNavigation()):null};d.renderFeatureMenuContainer=
function(){var {messages:a}=this;const {featureViewModels:c,isLoadingFeature:b}=this.viewModel;a=u.substitute(a.selectedFeatures,{total:c.length});return m.tsx("section",{key:v("menu"),class:e.CSS.featureMenu},m.tsx("strong",{class:e.CSS.featureMenuHeader},a),m.tsx("nav",{bind:this,class:e.CSS.featureMenuViewport,"data-node-ref":"_featureMenuViewportNode",afterCreate:x.storeNode},this.renderFeatureMenu(),m.tsx("div",{class:e.CSS.featureMenuObserver,bind:this,afterCreate:this._featureMenuIntersectionObserverCreated}),
b?m.tsx("div",{class:e.CSS.featureMenuLoader},this.renderLoadingIcon()):null))};d.renderPointer=function(){return this.dockEnabled?null:m.tsx("div",{key:v("pointer"),class:e.CSS.pointer,role:"presentation"},m.tsx("div",{class:this.classes(e.CSS.pointerDirection,e.CSS.shadow)}))};d.renderMainContainer=function(){const {dockEnabled:a,currentAlignment:c,currentDockPosition:b,titleId:f,contentId:g,collapsible:h,hasContent:n,contentCollapsed:q,visibleElements:t}=this,{title:E}=this.viewModel,G="bottom-left"===
c||"bottom-center"===c||"bottom-right"===c||"top-left"===b||"top-center"===b||"top-right"===b,z="top-left"===c||"top-center"===c||"top-right"===c||"bottom-left"===b||"bottom-center"===b||"bottom-right"===b;return m.tsx("div",{class:this.classes(e.CSS.main,e.CSS.widget,{[e.CSS.shadow]:a,[e.CSS.isCollapsible]:h,[e.CSS.isCollapsed]:q}),tabIndex:t.closeButton?void 0:-1,role:"dialog","aria-labelledby":E?f:"","aria-describedby":n&&!q?g:"",bind:this,onkeyup:this._handleMainKeyup,afterCreate:this._mainContainerNodeUpdated,
afterUpdate:this._mainContainerNodeUpdated},G?this.renderFooter():null,G?this.renderFeatureMenuContainer():null,this.renderHeader(),this.renderContentContainer(),z?this.renderFooter():null,z?this.renderFeatureMenuContainer():null)};d.renderContent=function(){const a=this.viewModel?.content;return a?"string"===typeof a?m.tsx("div",{class:W.CSS.contentNode,key:a,innerHTML:a}):this.renderNodeContent(a):null};d.renderActionText=function(a){return m.tsx("span",{key:"text",class:e.CSS.actionText},a)};d.renderActionIcon=
function(a){const c=this._getActionClass(a),b=this._getActionImage(a),f={[e.CSS.iconLoading]:a.active,[e.CSS.rotating]:a.active,[e.CSS.icon]:!!c,[e.CSS.actionImage]:!a.active&&!!b};c&&(f[c]=!a.active);return m.tsx("span",{key:"icon","aria-hidden":"true",class:this.classes(e.CSS.icon,f),styles:this._getIconStyles(b)})};d.renderAction=function(a){const {action:c,type:b}=a;a=this._getActionTitle(c);const f={[e.CSS.action]:"toggle"!==c.type,[e.CSS.actionToggle]:"toggle"===c.type,[e.CSS.actionToggleOn]:"toggle"===
c.type&&c.value,[e.CSS.buttonDisabled]:c.disabled},g=[this.renderActionIcon(c),this.renderActionText(a)];a="menu-item"===b?m.tsx("li",{key:c.uid,role:"menuitem",tabIndex:0,title:a,"aria-label":a,class:this.classes(e.CSS.button,f),onkeyup:this._handleActionMenuItemKeyup,bind:this,"data-action-uid":c.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},g):m.tsx("div",{key:c.uid,role:"button",tabIndex:0,title:a,"aria-label":a,class:this.classes(e.CSS.button,f),onkeyup:this._handleActionMenuItemKeyup,
bind:this,"data-action-uid":c.uid,onclick:this._triggerAction,onkeydown:this._triggerAction},g);return c.visible?a:null};d.renderFeatureMenuItem=function(a,c){const {messages:b,messagesCommon:f}=this,{selectedFeatureIndex:g,selectedFeatureViewModel:h}=this.viewModel;var n=a===h;const q={[e.CSS.featureMenuSelected]:n};n=n?m.tsx("span",{key:v(`feature-menu-selected-feature-${g}`),title:b.selectedFeature,"aria-label":b.selectedFeature,class:e.CSS.iconCheckMark}):null;a=m.tsx("span",{innerHTML:a.title||
f.untitled});return m.tsx("li",{role:"menuitem",tabIndex:-1,key:v(`feature-menu-feature-${g}`),class:this.classes(q,e.CSS.featureMenuItem),bind:this,"data-feature-index":c,onblur:this._removeActiveFeature,onfocus:this._setActiveFeature,onkeyup:this._handleFeatureMenuItemKeyup,onclick:this._selectFeature,onkeydown:this._selectFeature,onmouseover:this._setActiveFeature,onmouseleave:this._removeActiveFeature},m.tsx("span",{class:e.CSS.featureMenuTitle},a,n))};d.renderFeatureMenu=function(){const {featureMenuId:a}=
this,{featureViewModels:c}=this.viewModel;return 1<c.length?m.tsx("ol",{class:e.CSS.featureMenuList,id:a,bind:this,afterCreate:this._featureMenuNodeUpdated,afterUpdate:this._featureMenuNodeUpdated,onkeyup:this._handleFeatureMenuKeyup,role:"menu"},c.filter(b=>!!b.graphic).map((b,f)=>this.renderFeatureMenuItem(b,f))):null};d._storeFeatureSelectionAction=function(a,c){this._featureSelectionActions.set(a,c);this.scheduleRender()};d._storeExitRelatedRecordsAction=function(a,c){this._exitRelatedRecordsActions.set(a,
c);this.scheduleRender()};d._getFlowItemDescription=function(a){return"featureCountDescription"in a?a.featureCountDescription:a.viewModel.description??""};d._openRelatedFeature=function(){var a=F._asyncToGenerator(function*(c){yield c.viewModel.updateGeometry();c=c.graphic;var b=c?.geometry;C.isNone(b)||C.isNone(c)||(this._destroyFlowItemWidgets(),yield this.viewModel.zoomTo({target:b}),b=Y.getPointFromGeometry(b),this.open({features:[c],location:C.isSome(b)?b:void 0}))});return function(c){return a.apply(this,
arguments)}}();d._destroyFlowItemWidgets=function(){this._flowItems.removeAll().forEach(a=>{"showAllEnabled"in a.viewModel&&(a.viewModel.showAllEnabled=!1);a.viewModel=null;a.destroy()})};d._handleBackClick=function(){const a=this._flowItems.pop();a&&(this._exitRelatedRecordsActions.delete(a),this._featureSelectionActions.delete(a),"showAllEnabled"in a.viewModel&&(a.viewModel.showAllEnabled=!1),a&&(a.viewModel=null,a.destroy()))};d._getActionTitle=function(a){const {messages:c,selectedFeature:b,messagesCommon:f}=
this,{id:g}=a,h=b?.attributes,n=a.title??"";return(a="zoom-to-feature"===g?u.substitute(n,{messages:c}):"remove-selected-feature"===g?u.substitute(n,{messages:f}):"zoom-to-clustered-features"===g?u.substitute(n,{messages:c}):"browse-clustered-features"===g?u.substitute(n,{messages:c}):a.title)&&h?u.substitute(a,h):a??""};d._getActionClass=function(a){var {selectedFeature:c}=this;c=c?.attributes;const {className:b,image:f}=a;return(a=f||b?b:e.CSS.iconDefaultAction)&&c?u.substitute(a,c):a??""};d._getActionImage=
function(a){var {selectedFeature:c}=this;c=c?.attributes;({image:a}=a);return a&&c?u.substitute(a,c):a??""};d._createFeatureUpdatedAnimation=function(){return x.cssTransition("enter",e.CSS.hasFeatureUpdated)};d._getInlineActionCount=function(){const {maxInlineActions:a,featureNavigationVisible:c}=this;if("number"!==typeof a)return null;const b=Math.round(a);return Math.max(c?b-1:b,0)};d._watchActions=function(){const {allActions:a}=this.viewModel;this.notifyChange("dividedActions");this._handles.remove("actions");
a&&a.forEach(c=>{this._handles.add(r.watch(()=>[c.uid,c.active,c.className,c.disabled,c.id,c.title,c.image,c.visible],()=>this.scheduleRender()),"actions")})};d._divideActions=function(){var {allActions:a}=this.viewModel;a=a.filter(g=>g.visible);const c=this._getInlineActionCount(),b=null===c,f=0===c;return{inlineActions:b?a.slice(0):f?new H:a.slice(0,c),menuActions:b?new H:f?a.slice(0):a.slice(c)}};d._featureMenuOpenChanged=function(a){a?this._focusFirstFeature=!0:this._focusFeatureMenuButton=!0};
d._actionsMenuOpenChanged=function(a){a?this._focusFirstAction=!0:this._focusActionsMenuButton=!0};d._setTitleFromFeatureWidget=function(){const {selectedFeatureWidget:a,messagesCommon:c}=this;a&&(this.viewModel.title="error"===a.viewModel?.state?c.errorMessage:a.viewModel?.title||"")};d._setContentFromFeatureWidget=function(){const {selectedFeatureWidget:a}=this;a&&(this.viewModel.content=a)};d._unobserveFeatureMenuObserver=function(){this._featureMenuIntersectionObserverNode&&this._featureMenuIntersectionObserver.unobserve(this._featureMenuIntersectionObserverNode)};
d._featureMenuIntersectionObserverCreated=function(a){this._unobserveFeatureMenuObserver();this._featureMenuIntersectionObserver.observe(a);this._featureMenuIntersectionObserverNode=a};d._handleFeatureMenuKeyup=function(a){"Escape"===B.eventKey(a)&&(a.stopPropagation(),this._focusFeatureMenuButton=!0,this.featureMenuOpen=!1,this.scheduleRender())};d._handleActionMenuKeyup=function(a){"Escape"===B.eventKey(a)&&(a.stopPropagation(),this._focusActionsMenuButton=!0,this.actionsMenuOpen=!1,this.scheduleRender())};
d._setActiveFeature=function(a){const {viewModel:c}=this;c.activeFeature=c.features[a.currentTarget["data-feature-index"]]||null};d._removeActiveFeature=function(){this.viewModel.activeFeature=null};d._handleFeatureMenuItemKeyup=function(a){const c=B.eventKey(a);var {_featureMenuNode:b}=this;const f=a.currentTarget["data-feature-index"];if(b){b=b.querySelectorAll("li");var g=b.length;"ArrowUp"===c?(a.stopPropagation(),b[(f-1+g)%g].focus()):"ArrowDown"===c?(a.stopPropagation(),b[(f+1+g)%g].focus()):
"Home"===c?(a.stopPropagation(),b[0].focus()):"End"===c&&(a.stopPropagation(),b[b.length-1].focus())}};d._handleActionMenuItemKeyup=function(a){const c=B.eventKey(a);var {_actionsMenuNode:b}=this;const f=a.currentTarget.dataset.actionUid;var {menuActions:g}=this.dividedActions;g=g.findIndex(n=>n.uid===f);if(b){b=b.querySelectorAll("li");var h=b.length;"ArrowUp"===c?(a.stopPropagation(),b[(g-1+h)%h].focus()):"ArrowDown"===c?(a.stopPropagation(),b[(g+1+h)%h].focus()):"Home"===c?(a.stopPropagation(),
b[0].focus()):"End"===c&&(a.stopPropagation(),b[b.length-1].focus())}};d._handleMainKeyup=function(a){const c=B.eventKey(a);"ArrowLeft"===c&&(a.stopPropagation(),this.previous());"ArrowRight"===c&&(a.stopPropagation(),this.next())};d._spinnerEnabledChange=function(a){this._destroySpinner();a&&(a=this.get("viewModel.view"),this._createSpinner(a))};d._hideSpinner=function(){const {_spinner:a}=this;a&&(a.location=null,a.hide())};d._displaySpinner=function(){const {_spinner:a}=this;if(a){var {location:c,
waitingForResult:b}=this.viewModel;b&&c?a.show({location:c}):a.hide()}};d._getIconStyles=function(a){return{"background-image":a?`url(${a})`:""}};d._shouldFocus=function(){var a=F._asyncToGenerator(function*(c){c?.shouldFocus&&(yield r.whenOnce(()=>!0===this.viewModel?.active),this.focus())});return function(c){return a.apply(this,arguments)}}();d._addSelectedFeatureIndexHandle=function(){const a=r.watch(()=>this.viewModel?.selectedFeatureIndex,(c,b)=>this._selectedFeatureIndexUpdated(c,b));this._handles.add(a,
"selected-index")};d._selectedFeatureIndexUpdated=function(a,c){const {featureCount:b}=this;b&&a!==c&&-1!==a&&(this._destroyFlowItemWidgets(),this.featureMenuOpen=this.actionsMenuOpen=!1,this._mainContainerNode&&(this._mainContainerNode.scrollTop=0),this._rootFlowItemNode&&this._rootFlowItemNode.scrollContentTo({top:0}))};d._destroySelectedFeatureWidget=function(){const {_feature:a}=this;a&&(a.viewModel=null,a&&!a.destroyed&&a.destroy());this._feature=null};d._isScreenLocationWithinView=function(a,
c){return-1<a.x&&-1<a.y&&a.x<=c.width&&a.y<=c.height};d._isOutsideView=function(a){const {popupHeight:c,popupWidth:b,screenLocation:f,side:g,view:h}=a;if(isNaN(b)||isNaN(c)||!h||!f)return!1;a=h.padding;return"right"===g&&f.x+b/2>h.width-a.right||"left"===g&&f.x-b/2<a.left||"top"===g&&f.y-c<a.top||"bottom"===g&&f.y+c>h.height-a.bottom?!0:!1};d._calculateAutoAlignment=function(a){if("auto"!==a)return a;const {_pointerOffsetInPx:c,_containerNode:b,_mainContainerNode:f,viewModel:g}=this,{screenLocation:h,
view:n}=g;if(C.isNone(h)||!n||!b)return"top-center";if(!this._isScreenLocationWithinView(h,n))return this._get("currentAlignment")||"top-center";var q=(a=f?window.getComputedStyle(f,null):null)?parseInt(a.getPropertyValue("max-height").replace(/[^-\d\.]/g,""),10):0,t=a?parseInt(a.getPropertyValue("height").replace(/[^-\d\.]/g,""),10):0;const {height:E,width:G}=b.getBoundingClientRect();a=G+c;const z=Math.max(E,q,t)+c;q=this._isOutsideView({popupHeight:z,popupWidth:a,screenLocation:h,side:"right",
view:n});t=this._isOutsideView({popupHeight:z,popupWidth:a,screenLocation:h,side:"left",view:n});const I=this._isOutsideView({popupHeight:z,popupWidth:a,screenLocation:h,side:"top",view:n});a=this._isOutsideView({popupHeight:z,popupWidth:a,screenLocation:h,side:"bottom",view:n});return t?I?"bottom-right":"top-right":q?I?"bottom-left":"top-left":I?a?"top-center":"bottom-center":"top-center"};d._callCurrentAlignment=function(a){return"function"===typeof a?a.call(this):a};d._getCurrentAlignment=function(){const {alignment:a,
dockEnabled:c}=this;return c||!this.viewModel.active?null:this._calculatePositionResult(this._calculateAutoAlignment(this._callCurrentAlignment(a)))};d._setCurrentAlignment=function(){this._set("currentAlignment",this._getCurrentAlignment())};d._setCurrentDockPosition=function(){this._set("currentDockPosition",this._getCurrentDockPosition())};d._calculatePositionResult=function(a){const c=["left","right"];x.isRTL(this.container)&&c.reverse();return a.replace(/leading/gi,c[0]).replace(/trailing/gi,
c[1])};d._callDockPosition=function(a){return"function"===typeof a?a.call(this):a};d._getDockPosition=function(){return this._calculatePositionResult(this._calculateAutoDockPosition(this._callDockPosition(this.dockOptions?.position)))};d._getCurrentDockPosition=function(){return this.dockEnabled&&this.viewModel.active?this._getDockPosition():null};d._wouldDockTo=function(){return this.dockEnabled?null:this._getDockPosition()};d._calculateAutoDockPosition=function(a){if("auto"!==a)return a;var c=this.viewModel?.view;
a=x.isRTL(this.container)?"top-left":"top-right";if(!c)return a;var b=c.padding||{left:0,right:0,top:0,bottom:0};b=c.width-b.left-b.right;({breakpoints:c}=c);return c&&b<=c.xsmall?"bottom-center":a};d._positionContainer=function(a=this._containerNode){a&&(this._containerNode=a);if(this._containerNode){({screenLocation:a}=this.viewModel);var {width:c}=this._containerNode.getBoundingClientRect();(a=this._calculatePositionStyle(a,c))&&Object.assign(this._containerNode.style,a)}};d._calculateFullWidth=
function(a){const {currentAlignment:c,_pointerOffsetInPx:b}=this;return"top-left"===c||"bottom-left"===c||"top-right"===c||"bottom-right"===c?a+b:a};d._calculateAlignmentPosition=function(a,c,b,f){const {currentAlignment:g,_pointerOffsetInPx:h}=this;if(b){var {padding:n}=b;f/=2;var q=b.height-c;b=b.width-a;if("bottom-center"===g)return{top:c+h-n.top,left:a-f-n.left};if("top-left"===g)return{bottom:q+h-n.bottom,right:b+h-n.right};if("bottom-left"===g)return{top:c+h-n.top,right:b+h-n.right};if("top-right"===
g)return{bottom:q+h-n.bottom,left:a+h-n.left};if("bottom-right"===g)return{top:c+h-n.top,left:a+h-n.left};if("top-center"===g)return{bottom:q+h-n.bottom,left:a-f-n.left}}};d._calculatePositionStyle=function(a,c){const {dockEnabled:b,view:f}=this;if(f){if(b)return{left:"",top:"",right:"",bottom:""};if(!C.isNone(a)&&c&&(c=this._calculateFullWidth(c),a=this._calculateAlignmentPosition(a.x,a.y,f,c)))return{top:void 0!==a.top?`${a.top}px`:"auto",left:void 0!==a.left?`${a.left}px`:"auto",bottom:void 0!==
a.bottom?`${a.bottom}px`:"auto",right:void 0!==a.right?`${a.right}px`:"auto"}}};d._viewChange=function(a,c){a&&c&&(this.close(),this.clear())};d._viewReadyChange=function(a,c){a?(a=this.get("viewModel.view"),this._wireUpView(a)):c&&(this.close(),this.clear())};d._wireUpView=function(a){this._destroySpinner();if(a){var {spinnerEnabled:c}=this;c&&this._createSpinner(a);this._setDockEnabledForViewSize(this.dockOptions)}};d._dockingThresholdCrossed=function(a,c,b){const [f,g]=a,[h,n]=c,{width:q=0,height:t=
0}=b??{};return f<=q&&h>q||f>q&&h<=q||g<=t&&n>t||g>t&&n<=t};d._updateDockEnabledForViewSize=function(a,c){if(a&&c){var b=this.get("viewModel.view.padding")||{left:0,right:0,top:0,bottom:0},f=b.left+b.right,g=b.top+b.bottom;b=[];var h=[];b[0]=a[0]-f;b[1]=a[1]-g;h[0]=c[0]-f;h[1]=c[1]-g;({dockOptions:a}=this);this._dockingThresholdCrossed(b,h,a.breakpoint)&&this._setDockEnabledForViewSize(a);this._setCurrentDockPosition()}};d._focusDockButtonNode=function(a){this._focusDockButton&&(this._focusDockButton=
!1,a.focus())};d._closeButtonNodeUpdated=function(a){this._focusClose?(this._focusClose=!1,a.focus()):this._blurClose&&(this._blurClose=!1,a.blur())};d._mainContainerNodeUpdated=function(a){this._mainContainerNode=a;this._focusContainer?(this._focusContainer=!1,a.focus()):this._blurContainer&&(this._blurContainer=!1,a.blur())};d._featureMenuNodeUpdated=function(a){(this._featureMenuNode=a)&&this._focusFirstFeature&&(this._focusFirstFeature=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus())};d._actionsMenuNodeUpdated=
function(a){(this._actionsMenuNode=a)&&this._focusFirstAction&&(this._focusFirstAction=!1,a=a.querySelectorAll("li"),a.length&&a[0].focus())};d._focusFeatureMenuButtonNode=function(a){this._focusFeatureMenuButton&&(this._focusFeatureMenuButton=!1,a.focus())};d._focusActionsMenuButtonNode=function(a){this._focusActionsMenuButton&&(this._focusActionsMenuButton=!1,a.focus())};d._featureMenuViewportScrollTop=function(){this._featureMenuViewportNode&&(this._featureMenuViewportNode.scrollTop=0)};d._toggleScreenLocationEnabled=
function(){const {dockEnabled:a,viewModel:c}=this;c&&(c.screenLocationEnabled=c.active&&!a)};d._shouldDockAtCurrentViewSize=function(a){a=a.breakpoint;var c=this.viewModel?.view?.ui;if(!c)return!1;const {width:b,height:f}=c;if(isNaN(b)||isNaN(f)||!a)return!1;c=a.hasOwnProperty("width")&&b<=(a.width??0);a=a.hasOwnProperty("height")&&f<=(a.height??0);return c||a};d._setDockEnabledForViewSize=function(a){a.breakpoint&&(this.dockEnabled=this._shouldDockAtCurrentViewSize(a))};d._getPageText=function(a,
c){return this.featureNavigationVisible?u.substitute(this.messages.pageText,{index:c+1,total:a}):null};d._destroySpinner=function(){const {_spinner:a,view:c}=this;a&&(c&&c.ui&&c.ui.remove(a,"popup-spinner"),a.destroy(),this._spinner=null)};d._createSpinner=function(a){a&&(this._spinner=new U({view:a}),a.ui.add(this._spinner,{key:"popup-spinner",position:"manual"}))};d._toggleCollapsed=function(){this.collapsed=!this.collapsed};d._close=function(){this.close();this.view&&this.view.focus()};d._toggleDockEnabled=
function(){this.dockEnabled=!this.dockEnabled;this._focusDockButton=!0;this.scheduleRender()};d._toggleFeatureMenu=function(){const a=!this.featureMenuOpen;this._featureMenuOpenChanged(a);this.actionsMenuOpen=!1;this.featureMenuOpen=a};d._toggleActionsMenu=function(){const a=!this.actionsMenuOpen;this._actionsMenuOpenChanged(a);this.featureMenuOpen=!1;this.actionsMenuOpen=a};d._triggerAction=function(a){const c=a.currentTarget.dataset.actionUid;var {allActions:b}=this.viewModel;a=b.findIndex(f=>f.uid===
c);(b=b.getItemAt(a))&&"toggle"===b.type&&(b.value=!b.value);this.actionsMenuOpen=!1;this.viewModel.triggerAction(a)};d._selectFeature=function(a){a=a.currentTarget["data-feature-index"];isNaN(a)||(this.viewModel.selectedFeatureIndex=a);this.featureMenuOpen=!1;this._focusFeatureMenuButton=!0;this.scheduleRender()};d._next=function(){this.next()};d._previous=function(){this.previous()};F._createClass(y,[{key:"actionsMenuId",get:function(){return`${this.id}-actions-menu`}},{key:"actionsMenuButtonId",
get:function(){return`${this.id}-actions-menu-button`}},{key:"featureMenuId",get:function(){return`${this.id}-feature-menu`}},{key:"titleId",get:function(){return`${this.id}-popup-title`}},{key:"contentId",get:function(){return`${this.id}-popup-content`}},{key:"hasContent",get:function(){const {selectedFeatureWidget:a,viewModel:c}=this;if(!a)return!!c?.content;var b=a.viewModel;if(b?.waitingForContent||"error"===b?.state)return!0;b=b?.content;return Array.isArray(b)?!!b.length:!!b}},{key:"featureNavigationVisible",
get:function(){return this.viewModel.active&&1<this.viewModel.featureCount&&null!=this.visibleElements.featureNavigation}},{key:"collapsible",get:function(){return!!(this.collapseEnabled&&this.viewModel.title&&this.hasContent)}},{key:"featureMenuVisible",get:function(){return this.featureNavigationVisible&&this.featureMenuOpen}},{key:"contentCollapsed",get:function(){return this.collapsible&&!this.featureMenuVisible&&this.collapsed}},{key:"dividedActions",get:function(){return this._divideActions()}},
{key:"_activeFlowItemWidget",get:function(){const {_flowItems:a}=this;return a.getItemAt(a.length-1)||null}},{key:"actions",get:function(){return this.viewModel.actions},set:function(a){this.viewModel.actions=a}},{key:"actionsMenuOpen",get:function(){return this.viewModel.active?this._get("actionsMenuOpen"):!1},set:function(a){this._set("actionsMenuOpen",!!a)}},{key:"autoCloseEnabled",get:function(){return this.viewModel.autoCloseEnabled},set:function(a){this.viewModel.autoCloseEnabled=a}},{key:"autoOpenEnabled",
get:function(){return this.viewModel.autoOpenEnabled},set:function(a){this.viewModel.autoOpenEnabled=a}},{key:"defaultPopupTemplateEnabled",get:function(){return this.viewModel.defaultPopupTemplateEnabled},set:function(a){this.viewModel.defaultPopupTemplateEnabled=a}},{key:"content",get:function(){return this.viewModel.content},set:function(a){this.viewModel.content=a}},{key:"currentAlignment",get:function(){return this._getCurrentAlignment()}},{key:"currentDockPosition",get:function(){return this._getCurrentDockPosition()}},
{key:"dockOptions",get:function(){return this._get("dockOptions")||N},set:function(a){var c={...N};const b=this.viewModel?.view?.breakpoints;var f={};b&&(f.width=b.xsmall,f.height=b.xsmall);a={...c,...a};c={...c.breakpoint,...f};({breakpoint:f}=a);"object"===typeof f?a.breakpoint={...c,...f}:f&&(a.breakpoint=c);this._set("dockOptions",a);this._setCurrentDockPosition();this.reposition()}},{key:"featureCount",get:function(){return this.viewModel.featureCount}},{key:"features",get:function(){return this.viewModel.features},
set:function(a){this.viewModel.features=a}},{key:"goToOverride",get:function(){return this.viewModel.goToOverride},set:function(a){this.viewModel.goToOverride=a}},{key:"highlightEnabled",get:function(){return this.viewModel.highlightEnabled},set:function(a){this.viewModel.highlightEnabled=a}},{key:"location",get:function(){return this.viewModel.location},set:function(a){this.viewModel.location=a}},{key:"label",get:function(){return this.messages?.widgetLabel??""},set:function(a){this._overrideIfSome("label",
a)}},{key:"promises",get:function(){return this.viewModel.promises},set:function(a){this.viewModel.promises=a}},{key:"selectedFeature",get:function(){return this.viewModel.selectedFeature}},{key:"selectedFeatureIndex",get:function(){return this.viewModel.selectedFeatureIndex},set:function(a){this.viewModel.selectedFeatureIndex=a}},{key:"selectedFeatureWidget",get:function(){const {_feature:a,visibleElements:c,headingLevel:b,_flowItems:f}=this,{selectedFeatureViewModel:g}=this.viewModel,h={...c,title:!1};
if(!g)return null;a?(a.viewModel=g,a.visibleElements=h):this._feature=new T({flowItems:f,headingLevel:b+1,viewModel:g,visibleElements:h});return this._feature}},{key:"title",get:function(){return this.viewModel.title},set:function(a){this.viewModel.title=a}},{key:"updateLocationEnabled",get:function(){return this.viewModel.updateLocationEnabled},set:function(a){this.viewModel.updateLocationEnabled=a}},{key:"view",get:function(){return this.viewModel.view},set:function(a){this.viewModel.view=a}},{key:"visible",
get:function(){return this.viewModel.visible},set:function(a){this.viewModel.visible=a}}]);return y}(X.FeatureContentMixin(V));l.__decorate([p.property({readOnly:!0})],k.prototype,"actionsMenuId",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"actionsMenuButtonId",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"featureMenuId",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"titleId",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"contentId",null);l.__decorate([p.property({readOnly:!0})],
k.prototype,"hasContent",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"featureNavigationVisible",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"collapsible",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"featureMenuVisible",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"contentCollapsed",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"dividedActions",null);l.__decorate([p.property({readOnly:!0,dependsOn:["_flowItems.length"]})],k.prototype,
"_activeFlowItemWidget",null);l.__decorate([p.property()],k.prototype,"actions",null);l.__decorate([p.property()],k.prototype,"actionsMenuOpen",null);l.__decorate([p.property()],k.prototype,"alignment",void 0);l.__decorate([p.property()],k.prototype,"autoCloseEnabled",null);l.__decorate([p.property()],k.prototype,"autoOpenEnabled",null);l.__decorate([p.property()],k.prototype,"defaultPopupTemplateEnabled",null);l.__decorate([p.property()],k.prototype,"content",null);l.__decorate([p.property()],k.prototype,
"collapsed",void 0);l.__decorate([p.property()],k.prototype,"collapseEnabled",void 0);l.__decorate([p.property({readOnly:!0})],k.prototype,"currentAlignment",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"currentDockPosition",null);l.__decorate([p.property()],k.prototype,"dockOptions",null);l.__decorate([p.property()],k.prototype,"dockEnabled",void 0);l.__decorate([p.property({readOnly:!0})],k.prototype,"featureCount",null);l.__decorate([p.property()],k.prototype,"featureMenuOpen",void 0);
l.__decorate([p.property()],k.prototype,"features",null);l.__decorate([p.property()],k.prototype,"goToOverride",null);l.__decorate([p.property()],k.prototype,"headingLevel",void 0);l.__decorate([p.property()],k.prototype,"highlightEnabled",null);l.__decorate([p.property()],k.prototype,"location",null);l.__decorate([p.property()],k.prototype,"label",null);l.__decorate([p.property()],k.prototype,"maxInlineActions",void 0);l.__decorate([p.property(),L.messageBundle("esri/widgets/Popup/t9n/Popup")],k.prototype,
"messages",void 0);l.__decorate([p.property(),L.messageBundle("esri/t9n/common")],k.prototype,"messagesCommon",void 0);l.__decorate([p.property()],k.prototype,"promises",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"selectedFeature",null);l.__decorate([p.property()],k.prototype,"selectedFeatureIndex",null);l.__decorate([p.property({readOnly:!0})],k.prototype,"selectedFeatureWidget",null);l.__decorate([p.property()],k.prototype,"spinnerEnabled",void 0);l.__decorate([p.property()],k.prototype,
"title",null);l.__decorate([p.property()],k.prototype,"updateLocationEnabled",null);l.__decorate([p.property()],k.prototype,"view",null);l.__decorate([p.property({type:K}),aa.vmEvent(["triggerAction","trigger-action"])],k.prototype,"viewModel",void 0);l.__decorate([p.property()],k.prototype,"visible",null);l.__decorate([p.property()],k.prototype,"visibleElements",void 0);l.__decorate([R.cast("visibleElements")],k.prototype,"castVisibleElements",null);l.__decorate([w.accessibleHandler()],k.prototype,
"_close",null);l.__decorate([w.accessibleHandler()],k.prototype,"_toggleDockEnabled",null);l.__decorate([w.accessibleHandler()],k.prototype,"_toggleFeatureMenu",null);l.__decorate([w.accessibleHandler()],k.prototype,"_toggleActionsMenu",null);l.__decorate([w.accessibleHandler()],k.prototype,"_triggerAction",null);l.__decorate([w.accessibleHandler()],k.prototype,"_selectFeature",null);l.__decorate([w.accessibleHandler()],k.prototype,"_next",null);l.__decorate([w.accessibleHandler()],k.prototype,"_previous",
null);return k=l.__decorate([S.subclass("esri.widgets.Popup")],k)});