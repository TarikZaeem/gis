// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../Widget ./searchResultRendererCSS ./SearchViewModel ../support/decorators/accessibleHandler ../support/decorators/messageBundle ../support/jsxFactory ../support/widgetUtils".split(" "),function(r,h,l,g,z,t,u,e,v,p,w,c,A){g=function(q){function m(a,b){a=q.call(this,a,b)||this;
a.messages=null;a.showMoreResultsOpen=!1;a.viewModel=null;return a}r._inheritsLoose(m,q);var d=m.prototype;d.render=function(){return c.tsx("div",{class:e.CSS.base},c.tsx("div",{key:"esri-search-renderer__container",class:this.classes(e.CSS.moreResults,{[e.CSS.showMoreResults]:this.showMoreResultsOpen})},this.renderSearchResultName(),this.renderMoreResults()))};d.renderMoreResults=function(){return c.tsx("div",{key:"esri-search-renderer__more-results"},this.renderMoreResultsButton(),this.renderMoreResultsLists())};
d.renderSearchResultName=function(){const a=this.viewModel?.selectedResult;return c.tsx("div",{key:"esri-search-renderer__result-name",class:e.CSS.moreResultsItem},a&&a.name||"")};d.renderMoreResultsLists=function(){var a=this.viewModel?.results;const {resultCount:b}=this.viewModel;if(2>b)return null;a=a.map(f=>this.renderMoreResultsList(f));return c.tsx("div",{key:"esri-search-renderer__more-results-container",class:e.CSS.moreResultsList},a)};d.renderMoreResultsButton=function(){const {messages:a}=
this,{resultCount:b}=this.viewModel;return 2>b?null:c.tsx("div",{key:"esri-search-renderer__more-results-button",class:e.CSS.moreResultsItem},c.tsx("a",{class:e.CSS.anchor,href:"#",bind:this,onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?a.hideMoreResults:a.showMoreResults))};d.renderMoreResultsHeader=function(a,b){return c.tsx("div",{key:`esri-search-result-renderer__header-${b}`,class:e.CSS.moreResultsListHeader},a)};d.renderMoreResultsList=function(a){var {results:b}=
a,f=b.length;const n=!!f;var k=this.viewModel?.selectedResult;f=1===f&&b[0]===k;k=this._getSourceName(a.source,a.sourceIndex);k=1<this.viewModel?.results.length&&!f?this.renderMoreResultsHeader(k,a.sourceIndex):null;b=n&&b.map((x,y)=>this.renderMoreResultsListItem(x,y));b=n&&!f?c.tsx("ul",{key:`esri-search-result-renderer__list-${a.sourceIndex}`},b):null;return n?c.tsx("div",{key:`esri-search-result-renderer__results-${a.sourceIndex}`},k,b):null};d.renderMoreResultsListItem=function(a,b){const f=
this.get("viewModel.selectedResult");return a!==f?c.tsx("li",{key:`esri-search-result-renderer__list-item-${b}`},c.tsx("a",{class:e.CSS.anchor,href:"#",tabindex:"0",bind:this,"data-result":a,onclick:this._selectResultClick,onkeydown:this._selectResultClick},a.name)):null};d._showMoreResultsClick=function(a){a.preventDefault();this.showMoreResultsOpen=!this.showMoreResultsOpen;(a=this.get("viewModel.view.popup"))&&a.reposition()};d._selectResultClick=function(a){a.preventDefault();a=a.currentTarget["data-result"];
this.viewModel&&this.viewModel.select(a)};d._getSourceName=function(a,b){return b===v.ALL_INDEX?this.messages.all:a.name};return m}(u);h.__decorate([l.property(),w.messageBundle("esri/widgets/Search/t9n/Search")],g.prototype,"messages",void 0);h.__decorate([l.property()],g.prototype,"showMoreResultsOpen",void 0);h.__decorate([l.property()],g.prototype,"viewModel",void 0);h.__decorate([p.accessibleHandler()],g.prototype,"_showMoreResultsClick",null);h.__decorate([p.accessibleHandler()],g.prototype,
"_selectResultClick",null);return g=h.__decorate([t.subclass("esri.widgets.Search.SearchResultRenderer")],g)});