// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../geometry ../../Graphic ../../core/has ../../core/lang ../../core/maybe ../../core/typedArrayUtil ../../geometry/support/jsonUtils ./dehydratedFeatures ../../geometry/SpatialReference".split(" "),function(c,X,u,Y,k,v,l,w,x,y){function m(a){return"declaredClass"in a}function e(a){return"declaredClass"in a}function n(a){return"declaredClass"in a}function p(a){return v.isNone(a)?null:m(a)?a:w.fromJSON(z(a))}function z(a){const {wkid:b,wkt:f,latestWkid:g}=a.spatialReference,d={wkid:b,
wkt:f,latestWkid:g};switch(a.type){case "point":const {x:A,y:B,z:C,m:D}=a;return{x:A,y:B,z:C,m:D,spatialReference:d};case "polygon":const {rings:E,hasZ:F,hasM:G}=a;return{rings:q(E),hasZ:F,hasM:G,spatialReference:d};case "polyline":const {paths:H,hasZ:I,hasM:J}=a;return{paths:q(H),hasZ:I,hasM:J,spatialReference:d};case "extent":const {xmin:K,xmax:L,ymin:M,ymax:N,zmin:O,zmax:P,mmin:Q,mmax:R,hasZ:S,hasM:T}=a;return{xmin:K,xmax:L,ymin:M,ymax:N,zmin:O,zmax:P,mmin:Q,mmax:R,hasZ:S,hasM:T,spatialReference:d};
case "multipoint":const {points:h,hasZ:U,hasM:V}=a;return{points:r(h)?t(h):h,hasZ:U,hasM:V,spatialReference:d}}}function q(a){return W(a)?a.map(b=>t(b)):a}function t(a){return a.map(b=>Array.from(b))}function W(a){for(const b of a)if(0!==b.length)return r(b);return!1}function r(a){return 0<a.length&&(l.isFloat32Array(a[0])||l.isFloat64Array(a[0]))}c.clonePoint=function(a,b){if(!a)return null;if(e(a)){if(null==b)return a.clone();if(e(b))return b.copy(a)}null!=b?(b.x=a.x,b.y=a.y,b.spatialReference=
a.spatialReference,a.hasZ?(b.z=a.z,b.hasZ=a.hasZ):(b.z=void 0,b.hasZ=!1),a.hasM?(b.m=a.m,b.hasM=!0):(b.m=void 0,b.hasM=!1)):(b=x.makeDehydratedPoint(a.x,a.y,a.z,a.spatialReference),a.hasM&&(b.m=a.m,b.hasM=!0));return b};c.hydrateGeometry=p;c.hydrateGraphic=function(a,b){return a?n(a)?a:new u({layer:b,sourceLayer:b,visible:a.visible,symbol:k.clone(a.symbol),attributes:k.clone(a.attributes),geometry:p(a.geometry)}):null};c.hydratedSpatialReference=function(a){const {wkid:b,wkt:f,latestWkid:g}=a;return y.fromJSON({wkid:b,
wkt:f,latestWkid:g})};c.isHydratedGeometry=m;c.isHydratedGraphic=n;c.isHydratedPoint=e;Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});