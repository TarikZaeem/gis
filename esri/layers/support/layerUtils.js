// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/_rollupPluginBabelHelpers","../../kernel","../../request","../../core/maybe"],function(c,k,l,m,n){function h(){h=k._asyncToGenerator(function*(a,b){var d=l.id?.findServerInfo(a);if(null!=d?.currentVersion)return d.owningSystemUrl||null;d=a.toLowerCase().indexOf("/rest/services");if(-1===d)return null;a=`${a.substring(0,d)}/rest/info`;b=n.isSome(b)?b.signal:null;({data:b}=yield m(a,{query:{f:"json"},responseType:"json",signal:b}));return b?.owningSystemUrl||null});return h.apply(this,
arguments)}c.getEffectiveEditingEnabled=function(a){a:if("editingEnabled"in a)switch(a.type){case "csv":case "feature":case "geojson":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":var b=!0;break a;default:b=!1}else b=!1;return b?"effectiveEditingEnabled"in a?a.effectiveEditingEnabled:a.editingEnabled:!1};c.getEffectiveLayerCapabilities=function(a){a:if("capabilities"in a)switch(a.type){case "csv":case "feature":case "geojson":case "imagery":case "knowledge-graph-sublayer":case "ogc-feature":case "oriented-imagery":case "scene":case "subtype-group":case "subtype-sublayer":case "wfs":var b=
!0;break a;default:b=!1}else b=!1;return b?"effectiveCapabilities"in a?a.effectiveCapabilities:a.capabilities:null};c.getOwningPortalUrl=function(a,b){return h.apply(this,arguments)};c.getTileMaxtrixSetFromActiveLayer=function(a){if(a.activeLayer){const b=a.activeLayer.tileMatrixSet;if(b)return b;if(a=a.activeLayer.tileMatrixSets)return a}return null};c.isBaseLayer=function(a){return null!=a&&null!=a.parent&&"declaredClass"in a.parent&&"esri.Basemap"===a.parent.declaredClass&&a.parent.baseLayers.includes(a)};
c.isBasemapSupportedLayer=function(a){a=a?.type;return"imagery-tile"===a||"tile"===a||"open-street-map"===a||"vector-tile"===a||"web-tile"===a||"wmts"===a};c.isFeatureCollectionLayer=function(a){return"feature"===a?.type&&!a.url&&"memory"===a.source?.type};c.isFeatureServiceLayer=function(a){return"feature"===a?.type&&"feature-layer"===a.source?.type};c.isGroupLayer=function(a){return null!=a&&"type"in a&&"group"===a.type};c.isImageryTileLayer=function(a){return"imagery-tile"===a?.type};c.isSceneServiceLayer=
function(a){a=a?.type;return"building-scene"===a||"integrated-mesh"===a||"point-cloud"===a||"scene"===a};c.isTiledLayer=function(a){a=a?.type;return"base-tile"===a||"tile"===a||"elevation"===a||"imagery-tile"===a||"base-elevation"===a||"open-street-map"===a||"wcs"===a||"web-tile"===a||"wmts"===a||"vector-tile"===a};c.isVoxelLayer=function(a){return"voxel"===a?.type};c.sceneServiceLayerTypeToClassName={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",
Building:"BuildingSceneLayer"};c.serializeLayerDefinitions=function(a){const b=/[:;]/,d=[];let g=!1;if(a&&(a.forEach((e,f)=>{d.push([f,e]);!g&&b.test(e)&&(g=!0)}),0<d.length)){if(g){const e={};d.forEach(f=>{e[f[0]]=f[1]});a=JSON.stringify(e)}else{const e=[];d.forEach(f=>{e.push(f[0]+":"+f[1])});a=e.join(";")}return a}return null};c.serializeTimeOptions=function(a){if(a){var b=[];a.forEach((d,g)=>{b.push('"'+g+'":'+JSON.stringify(d))});if(b.length)return"{"+b.join(",")+"}"}};Object.defineProperty(c,
Symbol.toStringTag,{value:"Module"})});