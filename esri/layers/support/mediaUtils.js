// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../core/maybe ../../geometry/support/spatialReferenceUtils ./ControlPointsGeoreference ../../geometry/Extent ../../geometry/Point".split(" "),function(l,t,w,k,u,n,v,h){function m(){m=t._asyncToGenerator(function*(a,b){a.loaded||(yield a.load());const {width:e,height:d}=a.content;({spatialReference:a}=b);var c=u.getInfo(a),f=!1;c&&b.width>c.valid[1]-c.valid[0]&&(b=new v({xmin:c.valid[0],ymin:b.ymin,xmax:c.valid[1],ymax:b.ymax,
spatialReference:b.spatialReference}),f=!0);b=b.expand(.5);const {center:g,width:p,height:q}=b;c=f||e>d?p:e/d*q;b=f||e>d?d/e*p:q;f=g.x-c/2;c=g.x+c/2;const r=g.y+b/2;b=g.y-b/2;return new n({controlPoints:[{sourcePoint:{x:100,y:d-100},mapPoint:new h({x:f,y:b,spatialReference:a})},{sourcePoint:{x:100,y:100},mapPoint:new h({x:f,y:r,spatialReference:a})},{sourcePoint:{x:e-100,y:100},mapPoint:new h({x:c,y:r,spatialReference:a})},{sourcePoint:{x:e-100,y:d-100},mapPoint:new h({x:c,y:b,spatialReference:a})}],
width:e,height:d})});return m.apply(this,arguments)}l.createDefaultControlPointsGeoreference=function(a,b){return m.apply(this,arguments)};l.createLocalModeControlPointsGeoreference=function(a){a=k.unwrap(a.georeference);if("control-points"!==a.type)return null;const b={wkid:0},{width:e,height:d}=a;a=k.unwrap(a.controlPoints);return new n({controlPoints:a.map(c=>{const {x:f,y:g}=k.unwrap(k.unwrap(c).sourcePoint);return{sourcePoint:{x:f,y:g},mapPoint:new h({x:f,y:d-g,spatialReference:b})}}),width:e,
height:d})};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});