// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/PieChartRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../request ../../symbols ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/has ../../core/Identifiable ../../core/lang ../../core/Loadable ../../core/Logger ../../core/maybe ../../core/MultiOriginJSONSupport ../../core/sql ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../core/accessorSupport/PropertyOrigin ../../core/accessorSupport/utils ../graphics/sources/support/QueryTask ./FeatureType ./Field ./FieldsIndex ./LabelClass ./labelingInfo ./LayerFloorInfo ./serviceCapabilitiesUtils ./source/DataLayerSource ./source/MapLayerSource ../../rest/support/AttachmentQuery ../../rest/support/Query ../../support/popupUtils ../../geometry/Extent ../../geometry/support/typeUtils".split(" "),
function(N,u,f,e,O,sa,ta,ua,va,wa,xa,ya,za,Aa,I,P,Q,R,t,S,T,U,z,V,A,J,W,X,Y,h,Z,v,aa,y,w,m,D,ba,ca,da,ea,fa,ha,ia,ja,K,E,ka,la,ma,na,F){function G(l){return null!=l&&"esriSMS"===l.type}function H(l,q,g){l=this.originIdOf(q)>=m.nameToId(g.origin);return{ignoreOrigin:!0,allowNull:l,enabled:g?"map-image"===g.layer?.type&&(g.writeSublayerStructure||l):!1}}function L(l,q,g){return{enabled:g?"tile"===g.layer?.type&&this._isOverridden(q):!1}}function r(l,q,g){return{ignoreOrigin:!0,enabled:g&&g.writeSublayerStructure||
!1}}function B(l,q,g){return{ignoreOrigin:!0,enabled:g?g.writeSublayerStructure||this.originIdOf(q)>=m.nameToId(g.origin):!1}}var C;let oa=0;const x=new Set;x.add("layer");x.add("parent");x.add("loaded");x.add("loadStatus");x.add("loadError");x.add("loadWarnings");e=C=function(l){function q(a){a=l.call(this,a)||this;a.capabilities=void 0;a.fields=null;a.fullExtent=null;a.geometryType=null;a.globalIdField=null;a.legendEnabled=!0;a.objectIdField=null;a.popupEnabled=!0;a.popupTemplate=null;a.sourceJSON=
null;a.title=null;a.typeIdField=null;a.types=null;a._lastParsedUrl=null;return a}u._inheritsLoose(q,l);var g=q.prototype;g.load=function(){var a=u._asyncToGenerator(function*(b){var c=this;this.addResolvingPromise(u._asyncToGenerator(function*(){const {layer:d,source:k,url:p}=c;if(!d&&!p)throw new t("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:c});var n=null;!d||c.originIdOf("url")>m.OriginId.SERVICE||"data-layer"===k?.type?n=(yield P(p,{responseType:"json",
query:{f:"json"},...b})).data:(n=c.id,"map-layer"===k?.type&&(n=k.mapLayerId),n=yield d.fetchSublayerInfo(n,b));n&&(c.sourceJSON=n,c.read({layerDefinition:n},{origin:"service"}))})());return this});return function(b){return a.apply(this,arguments)}}();g.readCapabilities=function(a,b){b=b.layerDefinition||b;const {operations:{supportsQuery:c,supportsQueryAttachments:d},query:{supportsFormatPBF:k},data:{supportsAttachment:p}}=ja.getFeatureLayerCapabilities(b,this.url);return{exportMap:{supportsModification:!!b.canModifyLayer},
operations:{supportsQuery:c,supportsQueryAttachments:d},data:{supportsAttachment:p},query:{supportsFormatPBF:k}}};g.readGlobalIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.globalIdField)return b.globalIdField;if(b.fields)for(const c of b.fields)if("esriFieldTypeGlobalID"===c.type)return c.name};g.writeLabelingInfo=function(a,b,c,d){a&&a.length&&(b.layerDefinition={drawingInfo:{labelingInfo:a.map(k=>k.write({},d))}})};g.readMinScale=function(a,b){return b.minScale||b.layerDefinition&&
b.layerDefinition.minScale||0};g.readMaxScale=function(a,b){return b.maxScale||b.layerDefinition&&b.layerDefinition.maxScale||0};g.readObjectIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.objectIdField)return b.objectIdField;if(b.fields)for(const c of b.fields)if("esriFieldTypeOID"===c.type)return c.name};g.readOpacity=function(a,b){a=b.layerDefinition;return 1-.01*((null!=a?.transparency?a.transparency:a?.drawingInfo?.transparency)??0)};g.writeOpacity=function(a,b,c,d){b.layerDefinition=
{drawingInfo:{transparency:100-100*a}}};g.writeParent=function(a,b){b.parentLayerId=this.parent&&this.parent!==this.layer?w.ensureInteger(this.parent.id):-1};g.castSublayers=function(a){return w.ensureType(R.ofType(C),a)};g.writeSublayers=function(a,b,c){this.sublayers?.length&&(b[c]=this.sublayers.map(d=>d.id).toArray().reverse())};g.readTypeIdField=function(a,b){b=b.layerDefinition||b;let c=b.typeIdField;c&&b.fields&&(c=c.toLowerCase(),a=b.fields.find(d=>d.name.toLowerCase()===c))&&(c=a.name);return c};
g.writeVisible=function(a,b,c,d){b[c]=this.getAtOrigin("defaultVisibility","service")||a};g.clone=function(){const {store:a}=D.getProperties(this),b=new C;D.getProperties(b).store=a.clone(x);this.commitProperty("url");b._lastParsedUrl=this._lastParsedUrl;return b};g.createPopupTemplate=function(a){return ma.createPopupTemplate(this,a)};g.createQuery=function(){return new la({returnGeometry:!0,where:this.definitionExpression||"1\x3d1"})};g.createFeatureLayer=function(){var a=u._asyncToGenerator(function*(){if(this.hasOwnProperty("sublayers"))return null;
const {layer:b}=this,c=b?.parsedUrl,d=new (yield new Promise((k,p)=>N(["../FeatureLayer"],n=>k(Object.freeze(Object.defineProperty({__proto__:null,default:n},Symbol.toStringTag,{value:"Module"}))),p))).default({url:c?.path});c&&this.source&&("map-layer"===this.source.type?d.layerId=this.source.mapLayerId:d.dynamicDataSource=this.source);null!=b?.refreshInterval&&(d.refreshInterval=b.refreshInterval);this.definitionExpression&&(d.definitionExpression=this.definitionExpression);this.floorInfo&&(d.floorInfo=
z.clone(this.floorInfo));this.originIdOf("labelingInfo")>m.OriginId.SERVICE&&(d.labelingInfo=z.clone(this.labelingInfo));this.originIdOf("labelsVisible")>m.OriginId.DEFAULTS&&(d.labelsVisible=this.labelsVisible);this.originIdOf("legendEnabled")>m.OriginId.DEFAULTS&&(d.legendEnabled=this.legendEnabled);this.originIdOf("visible")>m.OriginId.DEFAULTS&&(d.visible=this.visible);this.originIdOf("minScale")>m.OriginId.DEFAULTS&&(d.minScale=this.minScale);this.originIdOf("maxScale")>m.OriginId.DEFAULTS&&
(d.maxScale=this.maxScale);this.originIdOf("opacity")>m.OriginId.DEFAULTS&&(d.opacity=this.opacity);this.originIdOf("popupTemplate")>m.OriginId.DEFAULTS&&(d.popupTemplate=z.clone(this.popupTemplate));this.originIdOf("renderer")>m.OriginId.SERVICE&&(d.renderer=z.clone(this.renderer));"data-layer"===this.source?.type&&(d.dynamicDataSource=this.source.clone());this.originIdOf("title")>m.OriginId.DEFAULTS&&(d.title=this.title);"map-image"===b?.type&&b.originIdOf("customParameters")>m.OriginId.DEFAULTS&&
(d.customParameters=b.customParameters);"tile"===b?.type&&b.originIdOf("customParameters")>m.OriginId.DEFAULTS&&(d.customParameters=b.customParameters);return d});return function(){return a.apply(this,arguments)}}();g.getField=function(a){return this.fieldsIndex.get(a)};g.getFeatureType=function(a){const {typeIdField:b,types:c}=this;if(!b||!a)return null;const d=a.attributes?a.attributes[b]:void 0;if(null==d)return null;let k=null;c?.some(p=>{const {id:n}=p;if(null==n)return!1;n.toString()===d.toString()&&
(k=p);return!!k});return k};g.getFieldDomain=function(a,b){return(b=this.getFeatureType(b&&b.feature))&&(b=b.domains&&b.domains[a])&&"inherited"!==b.type?b:this._getLayerDomain(a)};g.queryAttachments=function(){var a=u._asyncToGenerator(function*(b,c){yield this.load();b=ka.from(b);const d=this.capabilities;if(!d?.data?.supportsAttachment)throw new t("queryAttachments:not-supported","this layer doesn't support attachments");const {attachmentTypes:k,objectIds:p,globalIds:n,num:pa,size:qa,start:ra,
where:M}=b;if(!d?.operations?.supportsQueryAttachments&&(0<k?.length||0<n?.length||0<qa?.length||pa||ra||M))throw new t("queryAttachments:option-not-supported","when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",b);if(!(p?.length||n?.length||M))throw new t("queryAttachments:invalid-query","'objectIds', 'globalIds', or 'where' are required to perform attachment query",b);return this.queryTask.executeAttachmentQuery(b,c)});return function(b,c){return a.apply(this,
arguments)}}();g.queryFeatures=function(){var a=u._asyncToGenerator(function*(b=this.createQuery(),c){yield this.load();if(!this.capabilities.operations.supportsQuery)throw new t("queryFeatures:not-supported","this layer doesn't support queries.");if(!this.url)throw new t("queryFeatures:not-supported","this layer has no url.");b=yield this.queryTask.execute(b,{...c,query:{...this.layer?.customParameters,token:this.layer?.apiKey}});if(b?.features)for(const d of b.features)d.sourceLayer=this;return b});
return function(){return a.apply(this,arguments)}}();g.toExportImageJSON=function(a){const b={id:this.id,source:this.source?.toJSON()||{mapLayerId:this.id,type:"mapLayer"}};a=X.sqlAnd(a,this.definitionExpression);J.isSome(a)&&(b.definitionExpression=a);const c=["renderer","labelingInfo","opacity","labelsVisible"].reduce((d,k)=>{d[k]=this.originIdOf(k);return d},{});if(Object.keys(c).some(d=>c[d]>m.OriginId.SERVICE)){a=b.drawingInfo={};c.renderer>m.OriginId.SERVICE&&(a.renderer=this.renderer?this.renderer.toJSON():
null);c.labelsVisible>m.OriginId.SERVICE&&(a.showLabels=this.labelsVisible);if(this.labelsVisible&&c.labelingInfo>m.OriginId.SERVICE){!this.loaded&&this.labelingInfo.some(k=>!k.labelPlacement)&&A.getLogger(this.declaredClass).warnOnce(`A Sublayer (title: ${this.title}, id: ${this.id}) has an undefined 'labelPlacement' `+"and so labels cannot be displayed. Either define a valid 'labelPlacement' or call Sublayer.load() to use a default value based on geometry type.",{sublayer:this});let d=this.labelingInfo;
J.isSome(this.geometryType)&&(d=ha.validateLabelingInfo(this.labelingInfo,F.featureGeometryTypeKebabDictionary.toJSON(this.geometryType)));a.labelingInfo=d.filter(k=>k.labelPlacement).map(k=>k.toJSON({origin:"service",layer:this.layer}));a.showLabels=!0}c.opacity>m.OriginId.SERVICE&&(a.transparency=100-100*this.opacity);this._assignDefaultSymbolColors(a.renderer)}return b};g._assignDefaultSymbolColors=function(a){this._forEachSimpleMarkerSymbols(a,b=>{b.color||"esriSMSX"!==b.style&&"esriSMSCross"!==
b.style||(b.color=b.outline&&b.outline.color?b.outline.color:[0,0,0,0])})};g._forEachSimpleMarkerSymbols=function(a,b){if(a){const c=("uniqueValueInfos"in a?a.uniqueValueInfos:"classBreakInfos"in a?a.classBreakInfos:null)??[];for(const d of c)G(d.symbol)&&b(d.symbol);"symbol"in a&&G(a.symbol)&&b(a.symbol);"defaultSymbol"in a&&G(a.defaultSymbol)&&b(a.defaultSymbol)}};g._setAndNotifyLayer=function(a,b){const c=this.layer,d=this._get(a);let k,p;switch(a){case "definitionExpression":case "floorInfo":k=
"supportsSublayerDefinitionExpression";break;case "minScale":case "maxScale":case "visible":k="supportsSublayerVisibility";break;case "labelingInfo":case "labelsVisible":case "opacity":case "renderer":case "source":k="supportsDynamicLayers",p="supportsModification"}const n=D.getProperties(this).getDefaultOrigin();if("service"!==n){if(k&&!1===this.layer?.capabilities?.exportMap?.[k]){this._logLockedError(a,`capability not available 'layer.capabilities.exportMap.${k}'`);return}if(p&&!1===this.capabilities?.exportMap[p]){this._logLockedError(a,
`capability not available 'capabilities.exportMap.${p}'`);return}}"source"===a&&"not-loaded"!==this.loadStatus?this._logLockedError(a,"'source' can't be changed after calling sublayer.load()"):(this._set(a,b),"service"!==n&&d!==b&&c&&c.emit&&c.emit("sublayer-update",{propertyName:a,target:this}))};g._handleSublayersChange=function(a,b){b&&(b.forEach(c=>{c.parent=null;c.layer=null}),this.handles.removeAll());a&&(a.forEach(c=>{c.parent=this;c.layer=this.layer}),this.handles.add([a.on("after-add",({item:c})=>
{c.parent=this;c.layer=this.layer}),a.on("after-remove",({item:c})=>{c.parent=null;c.layer=null}),a.on("before-changes",c=>{const d=this.layer?.capabilities?.exportMap?.supportsSublayersChanges;null==d||d||(A.getLogger(this.declaredClass).error(new t("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,layer:this.layer})),c.preventDefault())})]))};g._logLockedError=function(a,b){const {layer:c,declaredClass:d}=this;A.getLogger(d).error(new t("sublayer:locked",
`Property '${String(a)}' can't be changed on Sublayer from the layer '${c?.id}'`,{reason:b,sublayer:this,layer:c}))};g._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};u._createClass(q,[{key:"defaultPopupTemplate",get:function(){return this.createPopupTemplate()}},{key:"definitionExpression",set:function(a){this._setAndNotifyLayer("definitionExpression",a)}},{key:"fieldsIndex",get:function(){return new ea(this.fields||[])}},{key:"floorInfo",set:function(a){this._setAndNotifyLayer("floorInfo",
a)}},{key:"id",get:function(){const a=this._get("id");return null==a?oa++:a},set:function(a){this._get("id")!==a&&(!1===this.layer?.capabilities?.exportMap?.supportsDynamicLayers?this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"):this._set("id",a))}},{key:"labelingInfo",set:function(a){this._setAndNotifyLayer("labelingInfo",a)}},{key:"labelsVisible",set:function(a){this._setAndNotifyLayer("labelsVisible",a)}},{key:"layer",set:function(a){this._set("layer",
a);this.sublayers&&this.sublayers.forEach(b=>b.layer=a)}},{key:"listMode",set:function(a){this._set("listMode",a)}},{key:"minScale",set:function(a){this._setAndNotifyLayer("minScale",a)}},{key:"maxScale",set:function(a){this._setAndNotifyLayer("maxScale",a)}},{key:"effectiveScaleRange",get:function(){const {minScale:a,maxScale:b}=this;return{minScale:a,maxScale:b}}},{key:"opacity",set:function(a){this._setAndNotifyLayer("opacity",a)}},{key:"queryTask",get:function(){if(!this.layer)return null;const {spatialReference:a}=
this.layer,b="gdbVersion"in this.layer?this.layer.gdbVersion:void 0,{capabilities:c,fieldsIndex:d}=this,k=T("featurelayer-pbf")&&c?.query.supportsFormatPBF;return new ba({url:this.url,pbfSupported:k,fieldsIndex:d,gdbVersion:b,sourceSpatialReference:a,queryAttachmentsSupported:c?.operations?.supportsQueryAttachments??!1})}},{key:"renderer",set:function(a){if(a)for(const b of a.getSymbols())if(Q.isSymbol3D(b)){A.getLogger(this.declaredClass).warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",
a)}},{key:"source",get:function(){return this._get("source")||new E.MapLayerSource({mapLayerId:this.id})},set:function(a){this._setAndNotifyLayer("source",a)}},{key:"sublayers",set:function(a){this._handleSublayersChange(a,this._get("sublayers"));this._set("sublayers",a)}},{key:"url",get:function(){const a=this.layer?.parsedUrl??this._lastParsedUrl;var b=this.source;if(!a)return null;this._lastParsedUrl=a;if("map-layer"===b?.type)return`${a.path}/${b.mapLayerId}`;b={layer:JSON.stringify({source:this.source})};
return`${a.path}/dynamicLayer?${Y.objectToQuery(b)}`},set:function(a){this._overrideIfSome("url",a)}},{key:"visible",set:function(a){this._setAndNotifyLayer("visible",a)}}]);return q}(S.HandleOwnerMixin(W.MultiOriginJSONMixin(U.IdentifiableMixin(V))));e.test={isMapImageLayerOverridePolicy:l=>l===r||l===H,isTileImageLayerOverridePolicy:l=>l===L};f.__decorate([h.property({readOnly:!0})],e.prototype,"capabilities",void 0);f.__decorate([v.reader("service","capabilities",["layerDefinition.canModifyLayer",
"layerDefinition.capabilities"])],e.prototype,"readCapabilities",null);f.__decorate([h.property()],e.prototype,"defaultPopupTemplate",null);f.__decorate([h.property({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:H}}})],e.prototype,"definitionExpression",null);f.__decorate([h.property({type:[da],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],e.prototype,"fields",void 0);f.__decorate([h.property({readOnly:!0})],e.prototype,
"fieldsIndex",null);f.__decorate([h.property({type:ia,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:H},origins:{"web-scene":{read:!1,write:!1}}}})],e.prototype,"floorInfo",null);f.__decorate([h.property({type:na,json:{read:{source:"layerDefinition.extent"}}})],e.prototype,"fullExtent",void 0);f.__decorate([h.property({type:F.featureGeometryTypeKebabDictionary.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",
read:{reader:F.featureGeometryTypeKebabDictionary.read}}}}})],e.prototype,"geometryType",void 0);f.__decorate([h.property({type:String})],e.prototype,"globalIdField",void 0);f.__decorate([v.reader("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],e.prototype,"readGlobalIdFieldFromService",null);f.__decorate([h.property({type:w.Integer,json:{write:{ignoreOrigin:!0}}})],e.prototype,"id",null);f.__decorate([h.property({value:null,type:[fa],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},
write:{target:"layerDefinition.drawingInfo.labelingInfo",overridePolicy:r}}})],e.prototype,"labelingInfo",null);f.__decorate([y.writer("labelingInfo")],e.prototype,"writeLabelingInfo",null);f.__decorate([h.property({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:r}}})],e.prototype,"labelsVisible",null);f.__decorate([h.property({value:null})],e.prototype,"layer",null);f.__decorate([h.property({type:Boolean,
value:!0,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:B}}})],e.prototype,"legendEnabled",void 0);f.__decorate([h.property({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],e.prototype,"listMode",null);f.__decorate([h.property({type:Number,value:0,json:{write:{overridePolicy:r}}})],e.prototype,"minScale",null);f.__decorate([v.reader("minScale",["minScale","layerDefinition.minScale"])],
e.prototype,"readMinScale",null);f.__decorate([h.property({type:Number,value:0,json:{write:{overridePolicy:r}}})],e.prototype,"maxScale",null);f.__decorate([v.reader("maxScale",["maxScale","layerDefinition.maxScale"])],e.prototype,"readMaxScale",null);f.__decorate([h.property({readOnly:!0})],e.prototype,"effectiveScaleRange",null);f.__decorate([h.property({type:String})],e.prototype,"objectIdField",void 0);f.__decorate([v.reader("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],
e.prototype,"readObjectIdFieldFromService",null);f.__decorate([h.property({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:r}}})],e.prototype,"opacity",null);f.__decorate([v.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],e.prototype,"readOpacity",null);f.__decorate([y.writer("opacity")],e.prototype,"writeOpacity",null);f.__decorate([h.property({json:{type:w.Integer,write:{target:"parentLayerId",writerEnsuresNonNull:!0,
overridePolicy:r}}})],e.prototype,"parent",void 0);f.__decorate([y.writer("parent")],e.prototype,"writeParent",null);f.__decorate([h.property({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader(l,q){return!q.disablePopup}},write:{target:"disablePopup",overridePolicy:B,writer(l,q,g){q[g]=!l}}}})],e.prototype,"popupEnabled",void 0);f.__decorate([h.property({type:O,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:B}}})],e.prototype,"popupTemplate",void 0);f.__decorate([h.property({readOnly:!0})],
e.prototype,"queryTask",null);f.__decorate([h.property({types:I.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:r},origins:{"web-scene":{types:I.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:r}}}}})],e.prototype,"renderer",null);f.__decorate([h.property({types:{key:"type",base:null,typeMap:{"data-layer":K.DataLayerSource,"map-layer":E.MapLayerSource}},cast(l){if(l){if("mapLayerId"in l)return w.ensureClass(E.MapLayerSource,
l);if("dataSource"in l)return w.ensureClass(K.DataLayerSource,l)}return l},json:{name:"layerDefinition.source",write:{overridePolicy:r}}})],e.prototype,"source",null);f.__decorate([h.property()],e.prototype,"sourceJSON",void 0);f.__decorate([h.property({value:null,json:{type:[w.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:r}}})],e.prototype,"sublayers",null);f.__decorate([Z.cast("sublayers")],e.prototype,"castSublayers",null);f.__decorate([y.writer("sublayers")],e.prototype,"writeSublayers",
null);f.__decorate([h.property({type:String,json:{name:"name",write:{overridePolicy:B}}})],e.prototype,"title",void 0);f.__decorate([h.property({type:String})],e.prototype,"typeIdField",void 0);f.__decorate([v.reader("typeIdField",["layerDefinition.typeIdField"])],e.prototype,"readTypeIdField",null);f.__decorate([h.property({type:[ca],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],e.prototype,"types",void 0);f.__decorate([h.property({type:String,json:{read:{source:"layerUrl"},
write:{target:"layerUrl",overridePolicy:L}}})],e.prototype,"url",null);f.__decorate([h.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:r}}})],e.prototype,"visible",null);f.__decorate([y.writer("visible")],e.prototype,"writeVisible",null);return e=C=f.__decorate([aa.subclass("esri.layers.support.Sublayer")],e)});