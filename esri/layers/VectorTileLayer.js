// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/mixins/ArcGISCachedService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/serviceTileInfoProperty ../support/TilemapCache ../../geometry/SpatialReference".split(" "),function(b,a,v,l,f,n,p,d,r,e,h,c){b.ArcGISCachedService=
k=>{k=function(u){function w(){var H=u.apply(this,arguments)||this;H.copyright=null;H.minScale=0;H.maxScale=0;H.spatialReference=null;H.tileInfo=null;H.tilemapCache=null;return H}a._inheritsLoose(w,u);var z=w.prototype;z.readMinScale=function(H,B){return null!=B.minLOD&&null!=B.maxLOD?H:0};z.readMaxScale=function(H,B){return null!=B.minLOD&&null!=B.maxLOD?H:0};z.readTilemapCache=function(H,B){return B.capabilities&&B.capabilities.includes("Tilemap")?new h.TilemapCache({layer:this}):null};a._createClass(w,
[{key:"supportsBlankTile",get:function(){return 10.2<=this.version}}]);return w}(k);v.__decorate([f.property({json:{read:{source:"copyrightText"}}})],k.prototype,"copyright",void 0);v.__decorate([f.property()],k.prototype,"minScale",void 0);v.__decorate([d.reader("service","minScale")],k.prototype,"readMinScale",null);v.__decorate([f.property()],k.prototype,"maxScale",void 0);v.__decorate([d.reader("service","maxScale")],k.prototype,"readMaxScale",null);v.__decorate([f.property({type:c})],k.prototype,
"spatialReference",void 0);v.__decorate([f.property({readOnly:!0})],k.prototype,"supportsBlankTile",null);v.__decorate([f.property(e.serviceTileInfoProperty)],k.prototype,"tileInfo",void 0);v.__decorate([f.property()],k.prototype,"tilemapCache",void 0);v.__decorate([d.reader("service","tilemapCache",["capabilities"])],k.prototype,"readTilemapCache",null);v.__decorate([f.property()],k.prototype,"version",void 0);return k=v.__decorate([r.subclass("esri.layers.mixins.ArcGISCachedService")],k)};Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/serviceTileInfoProperty":function(){define(["exports","./TileInfo"],function(b,a){function v(f,n,p,d){if(!f)return null;const {minScale:r,maxScale:e,minLOD:h,maxLOD:c}=n;if(null!=h&&null!=c)return d&&d.ignoreMinMaxLOD?a.fromJSON(f):a.fromJSON({...f,lods:f.lods.filter(({level:k})=>null!=k&&k>=h&&k<=c)});if(0!==r&&0!==e){const k=r?Math.round(1E4*r)/1E4:Infinity,u=e?Math.round(1E4*e)/1E4:-Infinity;return a.fromJSON({...f,lods:f.lods.filter(w=>
{w=Math.round(1E4*w.scale)/1E4;return w<=k&&w>=u})})}return a.fromJSON(f)}const l={type:a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:v}}}}};b.readServiceTileInfo=v;b.serviceTileInfoProperty=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TileInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD ./TileKey".split(" "),
function(b,a,v,l,f,n,p,d,r,e,h,c,k,u,w,z,H,B,D){var G;v=new v.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});l=G=function(I){function C(t){t=I.call(this,t)||this;t.dpi=96;t.format=null;t.origin=null;t.minScale=0;t.maxScale=0;t.size=null;t.spatialReference=null;return t}b._inheritsLoose(C,I);C.create=function(t=
{}){const {resolutionFactor:F=1,scales:E,size:K=256,spatialReference:O=u.WebMercator,numLODs:N=24}=t;if(!z.isValid(O)){t=[];if(E)for(var Q=0;Q<E.length;Q++){var R=E[Q];t.push(new B({level:Q,scale:R,resolution:R}))}else for(Q=5E-4,R=N-1;0<=R;R--)t.unshift(new B({level:R,scale:Q,resolution:Q})),Q*=2;return new G({dpi:96,lods:t,origin:new k(0,0,O),size:[K,K],spatialReference:O})}Q=z.getInfo(O);t=t.origin?new k({x:t.origin.x,y:t.origin.y,spatialReference:O}):Q?new k({x:Q.origin[0],y:Q.origin[1],spatialReference:O}):
new k({x:0,y:0,spatialReference:O});Q=1/(39.37*n.getMetersPerUnitForSR(O)*96);R=[];if(E)for(var T=0;T<E.length;T++){var U=E[T];R.push(new B({level:T,scale:U,resolution:U*Q}))}else{var X=z.isGeographic(O)?512/K*5.916575275917094E8:256/K*5.91657527591555E8;T=Math.ceil(N/F);R.push(new B({level:0,scale:X,resolution:X*Q}));for(U=1;U<T;U++)X/=2**F,R.push(new B({level:U,scale:X,resolution:X*Q}))}return new G({dpi:96,lods:R,origin:t,size:[K,K],spatialReference:O})};var x=C.prototype;x.readOrigin=function(t,
F){return k.fromJSON({spatialReference:F.spatialReference,...t})};x.readSize=function(t,F){return[F.cols,F.rows]};x.writeSize=function(t,F){F.cols=t[0];F.rows=t[1]};x.zoomToScale=function(t){const F=this.scales;if(0>=t)return F[0];if(t>=F.length-1)return F[F.length-1];const E=Math.floor(t);return F[E]/(F[E]/F[E+1])**(t-E)};x.scaleToZoom=function(t){const F=this.scales,E=F.length-1;let K=0;for(;K<E;K++){const O=F[K],N=F[K+1];if(O<=t)break;if(N===t)return K+1;if(O>t&&N<t)return K+Math.log(O/t)/Math.log(O/
N)}return K};x.snapScale=function(t,F=.95){t=this.scaleToZoom(t);return t%Math.floor(t)>=F?this.zoomToScale(Math.ceil(t)):this.zoomToScale(Math.floor(t))};x.tileAt=function(t,F,E,K){var O=this.lodAt(t);if(!O)return null;let N;if("number"===typeof F)N=F,F=E;else{if(z.equals(F.spatialReference,this.spatialReference))N=F.x,F=F.y;else{K=H.project(F,this.spatialReference);if(f.isNone(K))return null;N=K.x;F=K.y}K=E}E=O.resolution*this.size[0];O=O.resolution*this.size[1];K||(K=new D.TileKey(null,0,0,0,w.create()));
K.level=t;K.row=Math.floor((this.origin.y-F)/O+.001);K.col=Math.floor((N-this.origin.x)/E+.001);this.updateTileInfo(K);return K};x.updateTileInfo=function(t,F=G.ExtrapolateOptions.NONE){var E=this.lodAt(t.level);E||F!==G.ExtrapolateOptions.POWER_OF_TWO||(F=this.lods[this.lods.length-1],F.level<t.level&&(E=F));if(E){var K=t.level-E.level;F=E.resolution*this.size[0]/2**K;E=E.resolution*this.size[1]/2**K;t.id=`${t.level}/${t.row}/${t.col}`;t.extent||(t.extent=w.create());t.extent[0]=this.origin.x+t.col*
F;t.extent[1]=this.origin.y-(t.row+1)*E;t.extent[2]=t.extent[0]+F;t.extent[3]=t.extent[1]+E}};x.upsampleTile=function(t){const F=this._upsampleLevels[t.level];if(!F||-1===F.parentLevel)return!1;t.level=F.parentLevel;t.row=Math.floor(t.row/F.factor+.001);t.col=Math.floor(t.col/F.factor+.001);this.updateTileInfo(t);return!0};x.getTileBounds=function(t,F){var E=this.lodAt(F.level);if(null==E)return null;var {resolution:K}=E;E=K*this.size[0];K*=this.size[1];t[0]=this.origin.x+F.col*E;t[1]=this.origin.y-
(F.row+1)*K;t[2]=t[0]+E;t[3]=t[1]+K;return t};x.lodAt=function(t){return this._levelToLOD?.[t]??null};x.clone=function(){return G.fromJSON(this.write({}))};x.getOrCreateCompatible=function(t,F){if(256===this.size[0]&&256===this.size[1])return 256===t?this:null;const E=[],K=this.lods.length;for(let O=0;O<K;O++){const N=this.lods[O];E.push(new B({level:N.level,scale:N.scale,resolution:N.resolution*F}))}return new G({size:[t,t],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,
origin:this.origin,spatialReference:this.spatialReference,lods:E})};x._initializeUpsampleLevels=function(){const t=this.lods;this._upsampleLevels=[];let F=null;for(let E=0;E<t.length;E++){const K=t[E];this._upsampleLevels[K.level]={parentLevel:F?F.level:-1,factor:F?F.resolution/K.resolution:0};F=K}};b._createClass(C,[{key:"isWrappable",get:function(){const {spatialReference:t,origin:F}=this;if(t&&F){const E=z.getInfo(t);return t.isWrappable&&!!E&&Math.abs(E.origin[0]-F.x)<=E.dx}return!1}},{key:"lods",
set:function(t){let F=0,E=0;const K=[],O=this._levelToLOD={};t&&(F=-Infinity,E=Infinity,t.forEach(N=>{K.push(N.scale);F=N.scale>F?N.scale:F;E=N.scale<E?N.scale:E;O[N.level]=N}));this._set("scales",K);this._set("minScale",F);this._set("maxScale",E);this._set("lods",t);this._initializeUpsampleLevels()}}]);return C}(l.JSONSupport);a.__decorate([p.property({type:Number,json:{write:!0}})],l.prototype,"compressionQuality",void 0);a.__decorate([p.property({type:Number,json:{write:!0}})],l.prototype,"dpi",
void 0);a.__decorate([p.property({type:String,json:{read:v.read,write:v.write,origins:{"web-scene":{read:!1,write:!1}}}})],l.prototype,"format",void 0);a.__decorate([p.property({readOnly:!0})],l.prototype,"isWrappable",null);a.__decorate([p.property({type:k,json:{write:!0}})],l.prototype,"origin",void 0);a.__decorate([e.reader("origin")],l.prototype,"readOrigin",null);a.__decorate([p.property({type:[B],value:null,json:{write:!0}})],l.prototype,"lods",null);a.__decorate([p.property({readOnly:!0})],
l.prototype,"minScale",void 0);a.__decorate([p.property({readOnly:!0})],l.prototype,"maxScale",void 0);a.__decorate([p.property({readOnly:!0})],l.prototype,"scales",void 0);a.__decorate([p.property({cast:I=>Array.isArray(I)?I:"number"===typeof I?[I,I]:[256,256]})],l.prototype,"size",void 0);a.__decorate([e.reader("size",["rows","cols"])],l.prototype,"readSize",null);a.__decorate([c.writer("size",{cols:{type:d.Integer},rows:{type:d.Integer}})],l.prototype,"writeSize",null);a.__decorate([p.property({type:u,
json:{write:!0}})],l.prototype,"spatialReference",void 0);l=G=a.__decorate([h.subclass("esri.layers.support.TileInfo")],l);(function(I){I=I.ExtrapolateOptions||(I.ExtrapolateOptions={});I[I.NONE=0]="NONE";I[I.POWER_OF_TWO=1]="POWER_OF_TWO"})(l||(l={}));return l})},"esri/layers/support/LOD":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,a,v,l,f,n,p){var d;v=d=function(r){function e(h){h=r.call(this,h)||this;h.cols=null;h.level=0;h.levelValue=null;h.origin=null;h.resolution=0;h.rows=null;h.scale=0;return h}b._inheritsLoose(e,r);e.prototype.clone=function(){return new d({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})};return e}(v.JSONSupport);a.__decorate([l.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,
write:!1}}}})],v.prototype,"cols",void 0);a.__decorate([l.property({type:f.Integer,json:{write:!0}})],v.prototype,"level",void 0);a.__decorate([l.property({type:String,json:{write:!0}})],v.prototype,"levelValue",void 0);a.__decorate([l.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],v.prototype,"origin",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],v.prototype,"resolution",void 0);a.__decorate([l.property({json:{write:!0,
origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],v.prototype,"rows",void 0);a.__decorate([l.property({type:Number,json:{write:!0}})],v.prototype,"scale",void 0);return v=d=a.__decorate([p.subclass("esri.layers.support.LOD")],v)})},"esri/layers/support/TileKey":function(){define(["exports"],function(b){b.TileKey=function(a,v,l,f,n){this.id=a;this.level=v;this.row=l;this.col=f;this.extent=n};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/TilemapCache":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/Accessor ../../core/byteSizeEstimations ../../core/Error ../../core/HandleOwner ../../core/Logger ../../core/LRUCache ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/scheduling ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ./TileKey ./Tilemap".split(" "),
function(b,a,v,l,f,n,p,d,r,e,h,c,k,u,w,z,H,B,D,G,I){var C;b.TilemapCache=C=function(x){function t(E){E=x.call(this,E)||this;E._pendingTilemapRequests={};E._availableLevels={};E.levels=5;E.cacheByteSize=2*n.ByteSizeUnit.MEGABYTES;E.request=l;E._prefetchingEnabled=!0;return E}a._inheritsLoose(t,x);var F=t.prototype;F.initialize=function(){this._tilemapCache=new e(this.cacheByteSize);this.addHandles([k.watch(()=>{const {layer:E}=this;return[E?.parsedUrl,E?.tileServers,E?.apiKey,E?.customParameters]},
()=>this._initializeTilemapDefinition()),k.watch(()=>this.layer?.tileInfo?.lods,E=>this._initializeAvailableLevels(E),k.syncAndInitial)]);this._initializeTilemapDefinition()};F.castLevels=function(E){return 2>=E?(r.getLogger(this.declaredClass).error("Minimum levels for Tilemap is 3, but got ",E),3):E};F.fetchTilemap=function(E,K,O,N){if(!this._availableLevels[E])return Promise.reject(new p("tilemap-cache:level-unavailable",`Level ${E} is unavailable in the service`));const Q=this._tmpTilemapDefinition;
if(E=this._tilemapFromCache(E,K,O,Q))return Promise.resolve(E);const R=N&&N.signal;N={...N,signal:null};return new Promise((T,U)=>{c.onAbort(R,()=>U(c.createAbortError()));const X=I.tilemapDefinitionId(Q);let aa=this._pendingTilemapRequests[X];if(!aa){aa=I.Tilemap.fromDefinition(Q,N).then(fa=>{this._tilemapCache.put(X,fa,fa.byteSize);return fa});const ea=()=>delete this._pendingTilemapRequests[X];this._pendingTilemapRequests[X]=aa;aa.then(ea,ea)}aa.then(T,U)})};F.getAvailability=function(E,K,O){return this._availableLevels[E]?
(E=this._tilemapFromCache(E,K,O,this._tmpTilemapDefinition))?E.getAvailability(K,O):"unknown":"unavailable"};F.fetchAvailability=function(E,K,O,N){return this._availableLevels[E]?this.fetchTilemap(E,K,O,N).catch(Q=>Q).then(Q=>{if(Q instanceof I.Tilemap){Q=Q.getAvailability(K,O);if("unavailable"===Q)throw new p("tile-map:tile-unavailable","Tile is not available",{level:E,row:K,col:O});return Q}if(c.isAbortError(Q))throw Q;return"unknown"}):Promise.reject(new p("tilemap-cache:level-unavailable",`Level ${E} is unavailable in the service`))};
F.fetchAvailabilityUpsample=function(E,K,O,N,Q){N.level=E;N.row=K;N.col=O;const R=this.layer.tileInfo;R.updateTileInfo(N);const T=this.fetchAvailability(E,K,O,Q).catch(U=>{if(c.isAbortError(U))throw U;if(R.upsampleTile(N))return this.fetchAvailabilityUpsample(N.level,N.row,N.col,N);throw U;});this._fetchAvailabilityUpsamplePrefetch(N.id,E,K,O,Q,T);return T};F._fetchAvailabilityUpsamplePrefetch=function(){var E=a._asyncToGenerator(function*(K,O,N,Q,R,T){if(this._prefetchingEnabled&&null!=K){var U=
`prefetch-${K}`;if(!this.handles.has(U)){var X=new AbortController;T.then(()=>X.abort(),()=>X.abort());var aa=!1;this.handles.add({remove(){aa||(aa=!0,X.abort())}},U);yield u.waitTicks(10,X.signal).catch(()=>{});aa||(aa=!0,this.handles.remove(U));if(!c.isAborted(X))for(K=new G.TileKey(K,O,N,Q),R={...R,signal:X.signal},O=this.layer.tileInfo,N=0;C._prefetches.length<C._maxPrefetch&&O.upsampleTile(K);++N){const ea=this.fetchAvailability(K.level,K.row,K.col,R);C._prefetches.push(ea);Q=()=>{C._prefetches.removeUnordered(ea)};
ea.then(Q,Q)}}}});return function(K,O,N,Q,R,T){return E.apply(this,arguments)}}();F._initializeTilemapDefinition=function(){if(this.layer.parsedUrl){var {parsedUrl:E,apiKey:K,customParameters:O}=this.layer;this._tilemapCache.clear();this._tmpTilemapDefinition={service:{url:E.path,query:w.objectToQuery({...E.query,...O,token:K??E.query?.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,col:0}}};F._tilemapFromCache=function(E,
K,O,N){N.level=E;N.row=K-K%this.size;N.col=O-O%this.size;E=I.tilemapDefinitionId(N);return this._tilemapCache.get(E)};F._initializeAvailableLevels=function(E){this._availableLevels={};E&&E.forEach(K=>this._availableLevels[K.level]=!0)};a._createClass(t,[{key:"size",get:function(){return 1<<this.levels}},{key:"test",get:function(){const E=this;return{get prefetchingEnabled(){return E._prefetchingEnabled},set prefetchingEnabled(K){E._prefetchingEnabled=K},hasTilemap(K,O,N){return!!E._tilemapFromCache(K,
O,N,E._tmpTilemapDefinition)}}}}]);return t}(d.HandleOwnerMixin(f));b.TilemapCache._maxPrefetch=4;b.TilemapCache._prefetches=new h({initialSize:C._maxPrefetch});v.__decorate([z.property({constructOnly:!0,type:Number})],b.TilemapCache.prototype,"levels",void 0);v.__decorate([H.cast("levels")],b.TilemapCache.prototype,"castLevels",null);v.__decorate([z.property({readOnly:!0,type:Number})],b.TilemapCache.prototype,"size",null);v.__decorate([z.property({constructOnly:!0,type:Number})],b.TilemapCache.prototype,
"cacheByteSize",void 0);v.__decorate([z.property({constructOnly:!0})],b.TilemapCache.prototype,"layer",void 0);v.__decorate([z.property({constructOnly:!0})],b.TilemapCache.prototype,"request",void 0);b.TilemapCache=C=v.__decorate([D.subclass("esri.layers.support.TilemapCache")],b.TilemapCache);Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(b){function a(f){return 32+f.length}function v(f){if(!f)return 0;if(Array.isArray(f)){var n=
f.length;if(0===n||"number"===typeof f[0])f=32+8*n;else{var p=32;for(let d=0;d<n;d++)p+=l(f[d]);f=p}return f}p=32;for(n in f)f.hasOwnProperty(n)&&(p+=l(f[n]));return p}function l(f){switch(typeof f){case "object":return v(f);case "string":return a(f);case "number":return 16;case "boolean":return 4;default:return 8}}b.ByteSizeUnit=void 0;(function(f){f[f.KILOBYTES=1024]="KILOBYTES";f[f.MEGABYTES=1048576]="MEGABYTES";f[f.GIGABYTES=1073741824]="GIGABYTES"})(b.ByteSizeUnit||(b.ByteSizeUnit={}));b.estimateAttributesObjectSize=
function(f){if(!f)return 0;let n=32;for(const p in f)if(f.hasOwnProperty(p)){const d=f[p];switch(typeof d){case "string":n+=a(d);break;case "number":n+=16;break;case "boolean":n+=4}}return n};b.estimateFixedArraySize=function(f,n){return 32+f.length*n};b.estimateNestedObjectSize=v;b.estimateNumberByteSize=function(f){return 16};b.estimateStringByteSize=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Tilemap":function(){define(["exports","../../request","../../core/arrayUtils",
"../../core/Error","../../core/lang"],function(b,a,v,l,f){function n(d){if("vector-tile"===d.service.type)var r=`${d.service.url}/tilemap/${d.level}/${d.row}/${d.col}/${d.width}/${d.height}`;else r=d.service.tileServers,r=`${r&&r.length?r[d.row%r.length]:d.service.url}/tilemap/${d.level}/${d.row}/${d.col}/${d.width}/${d.height}`;(d=d.service.query)&&(r=`${r}?${d}`);return r}let p=function(){function d(){this.location={left:0,top:0,width:0,height:0};this._allAvailability="unknown";this.byteSize=40}
var r=d.prototype;r.getAvailability=function(e,h){if("unknown"!==this._allAvailability)return this._allAvailability;e=(e-this.location.top)*this.location.width+(h-this.location.left);h=e>>3;const c=this._tileAvailabilityBitSet;return 0>h||h>c.length?"unknown":c[h]&1<<e%8?"available":"unavailable"};r._updateFromData=function(e){let h=!0,c=!0;const k=new Uint8Array(Math.ceil(this.location.width*this.location.height/8));let u=0;for(let w=0;w<e.length;w++){const z=w%8;e[w]?(c=!1,k[u]|=1<<z):h=!1;7===
z&&++u}c?this._allAvailability="unavailable":h?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=k,this.byteSize+=k.length)};d.fromDefinition=function(e,h){const c=e.service.request||a,{row:k,col:u,width:w,height:z}=e,H={query:{f:"json"}};h=h?{...H,...h}:H;return c(n(e),h).then(B=>B.data).catch(B=>{if(B&&B.details&&422===B.details.httpStatus)return{location:{top:k,left:u,width:w,height:z},valid:!0,data:v.constant(w*z,0)};throw B;}).then(B=>{if(B.location&&
(B.location.top!==k||B.location.left!==u||B.location.width!==w||B.location.height!==z))throw new l("tilemap:location-mismatch","Tilemap response for different location than requested",{response:B,definition:{top:k,left:u,width:w,height:z}});return d.fromJSON(B)})};d.fromJSON=function(e){d._validateJSON(e);const h=new d;h.location=Object.freeze(f.clone(e.location));h._updateFromData(e.data);return Object.freeze(h)};d._validateJSON=function(e){if(!e||!e.location)throw new l("tilemap:missing-location",
"Location missing from tilemap response");if(!1===e.valid)throw new l("tilemap:invalid","Tilemap response was marked as invalid");if(!e.data)throw new l("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(e.data))throw new l("tilemap:data-mismatch","Data must be an array of numbers");if(e.data.length!==e.location.width*e.location.height)throw new l("tilemap:data-mismatch","Number of data items does not match width/height of tilemap");};return d}();b.Tilemap=p;b.tilemapDefinitionId=
function(d){return`${d.level}/${d.row}/${d.col}/${d.width}/${d.height}`};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/imageUtils":function(){define(["exports"],function(b){let a=null;b.checkWebPSupport=function(v){if(a)return a;const l={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA\x3d\x3d",
animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return a=new Promise(f=>{const n=new Image;n.onload=()=>{n.onload=n.onerror=null;f(0<n.width&&0<n.height)};n.onerror=()=>{n.onload=n.onerror=null;f(!1)};n.src="data:image/webp;base64,"+l[v]})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/SpriteSource":function(){define("../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../../core/Logger ../../core/typedArrayUtil ../../core/urlUtils".split(" "),
function(b,a,v,l,f,n){function p(d){var r=document.createElement("canvas");const e=r.getContext("2d");r.width=d.width;r.height=d.height;e.drawImage(d,0,0,d.width,d.height);r=e.getImageData(0,0,d.width,d.height);return{width:d.width,height:d.height,data:new Uint8Array(r.data)}}return function(){function d(e,h){this._spriteSource=e;this._maxTextureSize=h;this.devicePixelRatio=1;this._spriteImageFormat="png";this._isRetina=!1;this._spritesData={};this.height=this.width=this.image=null;this.loadStatus=
"not-loaded";"url"===e.type&&e.spriteFormat&&(this._spriteImageFormat=e.spriteFormat);e.pixelRatio&&(this.devicePixelRatio=e.pixelRatio);this.baseURL=e.spriteUrl}var r=d.prototype;r.getSpriteInfo=function(e){return this._spritesData?this._spritesData[e]:null};r.load=function(){var e=b._asyncToGenerator(function*(h){if(this.baseURL){this.loadStatus="loading";try{yield this._loadSprites(h),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"});return function(h){return e.apply(this,
arguments)}}();r._loadSprites=function(){var e=b._asyncToGenerator(function*(h){this._isRetina=1.15<this.devicePixelRatio?!0:!1;const {width:c,height:k,data:u,json:w}=yield this._getSpriteData(this._spriteSource,h);if((h=Object.keys(w))&&0!==h.length&&u){this._spritesData=w;this.width=c;this.height=k;h=Math.max(this._maxTextureSize,4096);if(c>h||k>h)throw h=`Sprite resource for style ${this.baseURL} is bigger than the maximum allowed of ${h} pixels}`,l.getLogger("esri.layers.support.SpriteSource").error(h),
new v("SpriteSource",h);for(let z=0;z<u.length;z+=4)h=u[z+3]/255,u[z]*=h,u[z+1]*=h,u[z+2]*=h;this.image=u}else this._spritesData=this.image=null,this.width=this.height=0});return function(h){return e.apply(this,arguments)}}();r._getSpriteData=function(){var e=b._asyncToGenerator(function*(h,c){if("image"===h.type){if(1.15>this.devicePixelRatio){if(!h.spriteSource1x)throw new v("SpriteSource","no image data provided for low resolution sprites!");c=h.spriteSource1x.image;h=h.spriteSource1x.json}else{if(!h.spriteSource2x)throw new v("SpriteSource",
"no image data provided for high resolution sprites!");c=h.spriteSource2x.image;h=h.spriteSource2x.json}return"width"in c&&"height"in c&&"data"in c&&(f.isArrayBuffer(c.data)||f.isUint8ClampedArray(c.data))?{width:c.width,height:c.height,data:new Uint8Array(c.data),json:h}:{...p(c),json:h}}h=n.urlToObject(this.baseURL);const k=h.query?"?"+n.objectToQuery(h.query):"",u=this._isRetina?"@2x":"",w=`${h.path}${u}.${this._spriteImageFormat}${k}`,[z,H]=yield Promise.all([a(`${h.path}${u}.json${k}`,c),a(w,
{responseType:"image",...c})]);return{...p(H.data),json:z.data}});return function(h,c){return e.apply(this,arguments)}}();b._createClass(d,[{key:"spriteNames",get:function(){const e=[];for(const h in this._spritesData)e.push(h);e.sort();return e}}]);return d}()})},"esri/layers/support/vectorTileLayerLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../request ../../core/promiseUtils ../../core/urlUtils ../../views/2d/engine/vectorTiles/style/VectorTileSource".split(" "),
function(b,a,v,l,f,n,p){function d(){d=a._asyncToGenerator(function*(B,D){const G={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[I,C]="string"===typeof B?[B,null]:[null,B.jsonUrl];yield h(G,"esri",B,C,D);B={layerDefinition:G.validatedSource,url:I,serviceUrl:G.sourceUrl,style:G.style,styleUrl:G.styleUrl,spriteUrl:G.style.sprite&&e(G.styleBase,G.style.sprite),spriteFormat:G.spriteFormat,
glyphsUrl:G.style.glyphs&&e(G.styleBase,G.style.glyphs),sourceNameToSource:G.sourceNameToSource,primarySourceName:G.primarySourceName};r(B.spriteUrl);r(B.glyphsUrl);return B});return d.apply(this,arguments)}function r(B){B&&(B=n.getOrigin(B),H&&!H.includes(B)&&H.push(B))}function e(...B){let D=void 0;for(const G of B)null!=G&&(n.isProtocolRelative(G)?D&&(D=D.split("://")[0]+":"+G.trim()):D=n.isAbsolute(G)?G:n.join(D,G));return D?n.removeTrailingSlash(D):void 0}function h(B,D,G,I,C){return c.apply(this,
arguments)}function c(){c=a._asyncToGenerator(function*(B,D,G,I,C){f.throwIfAborted(C);let x,t;if("string"===typeof G){G=n.normalize(G);r(G);var F=yield l(G,{...C,responseType:"json",query:{f:"json",...C?.query}});F.ssl&&(x&&(x=x.replace(/^http:/i,"https:")),t&&(t=t.replace(/^http:/i,"https:")));t=x=G}else null!=G&&(F={data:G},x=G.jsonUrl||null,t=I);F=F?.data;if(F?.sources)return B.styleUrl=x||null,k(B,F,t,C);if(!F?.sources)return B.sourceUrl?w(B,F,t,!1,D,C):(B.sourceUrl=x||null,w(B,F,t,!0,D,C));
throw Error("You must specify the URL or the JSON for a service or for a style.");});return c.apply(this,arguments)}function k(B,D,G,I){return u.apply(this,arguments)}function u(){u=a._asyncToGenerator(function*(B,D,G,I){G=G?n.removeFile(G):n.getAppBaseUrl();B.styleBase=G;B.style=D;B.styleUrl&&r(B.styleUrl);D["sprite-format"]&&"webp"===D["sprite-format"].toLowerCase()&&(B.spriteFormat="webp");const C=[];if(D.sources&&D.sources.esri){const x=D.sources.esri;x.url?yield h(B,"esri",e(G,x.url),void 0,
I):C.push(h(B,"esri",x,G,I))}for(const x of Object.keys(D.sources))"esri"!==x&&"vector"===D.sources[x].type&&(D.sources[x].url?C.push(h(B,x,e(G,D.sources[x].url),void 0,I)):D.sources[x].tiles&&C.push(h(B,x,D.sources[x],G,I)));yield Promise.all(C)});return u.apply(this,arguments)}function w(B,D,G,I,C,x){return z.apply(this,arguments)}function z(){z=a._asyncToGenerator(function*(B,D,G,I,C,x){G=G?n.removeTrailingSlash(G)+"/":n.getAppBaseUrl();if(D.hasOwnProperty("tileInfo"))var t=D;else{var F={xmin:-2.0037507067161843E7,
ymin:-2.0037507067161843E7,xmax:2.0037507067161843E7,ymax:2.0037507067161843E7,spatialReference:{wkid:102100}},E=78271.51696400007,K=2.958287637957775E8,O=[],N=D.hasOwnProperty("minzoom")?+D.minzoom:0,Q=D.hasOwnProperty("maxzoom")?+D.maxzoom:22;for(let R=0;R<=Q;R++)R>=N&&O.push({level:R,scale:K,resolution:E}),E/=2,K/=2;for(t of D.tiles??[])r(e(G,t));t={capabilities:"TilesOnly",initialExtent:F,fullExtent:F,minScale:0,maxScale:0,tiles:D.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-2.0037508342787E7,
y:2.0037508342787E7},lods:O,spatialReference:{wkid:102100}}}}F=new p(C,n.addQueryParameters(G,x?.query??{}),t);if(!I&&B.primarySourceName in B.sourceNameToSource){E=B.sourceNameToSource[B.primarySourceName];if(!E.isCompatibleWith(F))return;null!=F.fullExtent&&(null!=E.fullExtent?E.fullExtent.union(F.fullExtent):E.fullExtent=F.fullExtent.clone());E.tileInfo&&F.tileInfo&&E.tileInfo.lods.length<F.tileInfo.lods.length&&(E.tileInfo=F.tileInfo)}I?(B.sourceBase=G,B.source=D,B.validatedSource=t,B.primarySourceName=
C,B.sourceUrl&&r(B.sourceUrl)):r(G);B.sourceNameToSource[C]=F;if(!B.style){if(null==D.defaultStyles)throw Error();return"string"===typeof D.defaultStyles?h(B,"",e(G,D.defaultStyles,"root.json"),void 0,x):h(B,"",D.defaultStyles,e(G,"root.json"),x)}});return z.apply(this,arguments)}const H=v.defaults&&v.defaults.io.corsEnabledServers;b.loadMetadata=function(B,D){return d.apply(this,arguments)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/VectorTileSource":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/lang ../../../../../core/urlUtils ../../../../../geometry/Extent ../../../../../layers/support/serviceTileInfoProperty ../../../../../layers/support/TilemapCache ../TilemapIndex ../TilemapRequest ./VectorTilesRequestManager".split(" "),
function(b,a,v,l,f,n,p,d,r){return function(){function e(c,k,u){this.fullExtent=this.capabilities=this.tileInfo=this.tilemap=null;this.name=c;this.sourceUrl=k;c=v.urlToObject(this.sourceUrl);k=a.clone(u);var w=k.tiles;if(c)for(var z=0;z<w.length;z++){var H=v.urlToObject(w[z]);H&&(v.isAbsolute(H.path)||(H.path=v.join(c.path,H.path)),w[z]=v.addQueryParameters(H.path,{...c.query,...H.query}))}this.tileServers=w;z=u.capabilities&&u.capabilities.split(",").map(B=>B.toLowerCase().trim());w=!0===u?.exportTilesAllowed;
z=!0===z?.includes("tilemap");H=w&&u.hasOwnProperty("maxExportTilesCount")?u.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:w,supportsTileMap:z},exportTiles:w?{maxExportTilesCount:+H}:null};this.tileInfo=f.readServiceTileInfo(k.tileInfo,k,null,{ignoreMinMaxLOD:!0});k=u.tileMap?v.addQueryParameters(v.join(c.path,u.tileMap),c.query??{}):null;z?(this.type="vector-tile",this.tilemap=new d(new n.TilemapCache({layer:{parsedUrl:c,tileInfo:this.tileInfo,type:"vector-tile",tileServers:this.tileServers}}),
k)):k&&(this.tilemap=new p(k));this.fullExtent=l.fromJSON(u.fullExtent)}var h=e.prototype;h.destroy=function(){};h.getRefKey=function(){var c=b._asyncToGenerator(function*(k,u){return(yield this.tilemap?.dataKey(k,u))??k});return function(k,u){return c.apply(this,arguments)}}();h.requestTile=function(c,k,u,w){return r.request(this.tileServers[k%this.tileServers.length],c,k,u,w)};h.isCompatibleWith=function(c){var k=this.tileInfo;c=c.tileInfo;if(!k.spatialReference.equals(c.spatialReference)||!k.origin.equals(c.origin)||
Math.round(k.dpi)!==Math.round(c.dpi))return!1;k=k.lods;c=c.lods;const u=Math.min(k.length,c.length);for(let w=0;w<u;w++){const z=k[w],H=c[w];if(z.level!==H.level||Math.round(z.scale)!==Math.round(H.scale))return!1}return!0};return e}()})},"esri/views/2d/engine/vectorTiles/TilemapIndex":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../request","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,v,l){return function(){function f(p){this.url=p}var n=f.prototype;
n.fetchTileIndex=function(){var p=b._asyncToGenerator(function*(){this._tileIndexPromise||(this._tileIndexPromise=a(this.url).then(d=>d.data.index));return this._tileIndexPromise});return function(){return p.apply(this,arguments)}}();n.dataKey=function(){var p=b._asyncToGenerator(function*(d,r){const e=yield this.fetchTileIndex();v.throwIfAborted(r);return this._getIndexedDataKey(e,d)});return function(d,r){return p.apply(this,arguments)}}();n._getIndexedDataKey=function(p,d){const r=[d];if(0>d.level||
0>d.row||0>d.col||0<d.row>>d.level||0<d.col>>d.level)return null;for(;0!==d.level;)d=new l(d.level-1,d.row>>1,d.col>>1,d.world),r.push(d);d=r.pop();let e,h;if(1===p)return d;for(;r.length;)if(e=r.pop(),h=(e.col&1)+((e.row&1)<<1),p){if(0===p[h]){d=null;break}if(1===p[h]){d=e;break}d=e;p=p[h]}return d};return f}()})},"esri/views/2d/tiling/TileKey":function(){define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/ObjectPool"],function(b,a){let v=function(){function l(n,p,d,r){this.set(n,
p,d,r)}l.getId=function(n,p,d,r){return"object"===typeof n?`${n.level}/${n.row}/${n.col}/${n.world}`:`${n}/${p}/${d}/${r}`};var f=l.prototype;f.acquire=function(n,p,d,r){this.set(n,p,d,r)};f.contains=function(n){const p=n.level-this.level;return 0<=p&&this.row===n.row>>p&&this.col===n.col>>p&&this.world===n.world};f.equals=function(n){return this.level===n.level&&this.row===n.row&&this.col===n.col&&this.world===n.world};f.clone=function(){return new l(this)};f.release=function(){this.world=this.col=
this.row=this.level=0};f.set=function(n,p,d,r){if(null==n)this.world=this.col=this.row=this.level=0;else if("object"===typeof n)this.level=n.level||0,this.row=n.row||0,this.col=n.col||0,this.world=n.world||0;else if("string"===typeof n){const [e,h,c,k]=n.split("/");this.level=parseFloat(e);this.row=parseFloat(h);this.col=parseFloat(c);this.world=parseFloat(k)}else this.level=+n,this.row=+p,this.col=+d,this.world=+r||0;return this};f.toString=function(){return`${this.level}/${this.row}/${this.col}/${this.world}`};
f.getParentKey=function(){return 0>=this.level?null:new l(this.level-1,this.row>>1,this.col>>1,this.world)};f.getChildKeys=function(){const n=this.level+1,p=this.row<<1,d=this.col<<1,r=this.world;return[new l(n,p,d,r),new l(n,p,d+1,r),new l(n,p+1,d,r),new l(n,p+1,d+1,r)]};f.compareRowMajor=function(n){return this.row<n.row?-1:this.row>n.row?1:this.col<n.col?-1:this.col>n.col?1:0};b._createClass(l,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(n){this.set(n)}},
{key:"hash",get:function(){return(this.world&3)<<30|(this.col&4095)<<22|(this.row&4095)<<8|this.level&63}}]);return l}();v.pool=new a(v,null,null,25,50);return v})},"esri/views/2d/engine/vectorTiles/TilemapRequest":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../request","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,v,l){return function(){function f(p,d){this._tilemap=p;this._tileIndexUrl=d}var n=f.prototype;n.fetchTileIndex=function(){var p=b._asyncToGenerator(function*(d){this._tileIndexPromise||
(this._tileIndexPromise=a(this._tileIndexUrl,{query:{...d?.query}}).then(r=>r.data.index));return this._tileIndexPromise});return function(d){return p.apply(this,arguments)}}();n.dataKey=function(p,d){const {level:r,row:e,col:h}=p,c=new l(p);return this._tilemap.fetchAvailabilityUpsample(r,e,h,c,d).then(()=>{c.world=p.world;return c}).catch(k=>{if(v.isAbortError(k))throw k;return null})};return f}()})},"esri/views/2d/engine/vectorTiles/style/VectorTilesRequestManager":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../request ../../../../../core/lang ../../../../../core/MapUtils ../../../../../core/promiseUtils".split(" "),
function(b,a,v,l,f,n){function p(e,h){return f.getOrCreateMapValue(r,e,()=>new d(e)).getData(h).then(c=>{r.delete(e);return c}).catch(c=>{r.delete(e);throw c;})}let d=function(){function e(c){this._tileUrl=c;this._abortController=this._promise=null;this._abortOptions=[]}var h=e.prototype;h.getData=function(c){null===this._promise&&(this._abortController=new AbortController,this._promise=this._makeRequest(this._tileUrl,this._abortController.signal));const k=this._abortOptions;k.push(c);n.onAbort(c,
()=>{k.every(u=>n.isAborted(u))&&this._abortController.abort()});return this._promise.then(u=>l.clone(u))};h._makeRequest=function(){var c=a._asyncToGenerator(function*(k,u){({data:k}=yield v(k,{responseType:"array-buffer",signal:u}));return k});return function(k,u){return c.apply(this,arguments)}}();return e}();const r=new Map;b.request=function(e,h,c,k,u){e=e.replace(/\{z\}/gi,h.toString()).replace(/\{y\}/gi,c.toString()).replace(/\{x\}/gi,k.toString());return p(e,u)};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/views/2d/engine/vectorTiles/tileInfoUtils":function(){define(["exports","../../../../geometry/Point","../../../../layers/support/LOD","../../../../layers/support/TileInfo"],function(b,a,v,l){b.areSchemasOverlapping=function(f,n){if(f===n)return!0;if(null==f&&null!=n||null!=f&&null==n||null==f||null==n||!f.spatialReference.equals(n.spatialReference)||f.dpi!==n.dpi)return!1;var p=f.origin;const d=n.origin;if(1E-6<=Math.abs(p.x-d.x)||1E-6<=Math.abs(p.y-d.y))return!1;f.lods[0].scale>
n.lods[0].scale?(p=f,f=n):p=n;for(n=p.lods[0].scale;n>=f.lods[f.lods.length-1].scale-1E-6;n/=2)if(1E-6>Math.abs(n-f.lods[0].scale))return!0;return!1};b.unionTileInfos=function(f,n){if(f===n)return f;if(null==f&&null!=n)return n;if(null!=f&&null==n)return f;if(null==f||null==n)return null;const p=f.size[0],d=f.format,r=f.dpi,e=new a({x:f.origin.x,y:f.origin.y}),h=f.spatialReference;var c=f.lods[0].scale>n.lods[0].scale?f.lods[0]:n.lods[0];f=(f.lods[f.lods.length-1].scale<=n.lods[n.lods.length-1].scale?
f.lods[f.lods.length-1]:n.lods[n.lods.length-1]).scale;n=[];let k=c.scale;c=c.resolution;let u=0;for(;k>f;)n.push(new v({level:u,resolution:c,scale:k})),u++,k/=2,c/=2;return new l({size:[p,p],dpi:r,format:d||"pbf",origin:e,lods:n,spatialReference:h})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleDefinition","./StyleLayer"],function(b,a){return function(){function v(f){this._style=f;this.backgroundBucketIds=
[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;f.layers||(f.layers=[]);this.version=parseFloat(f.version);if(this.layers=f.layers.map((n,p,d)=>this._create(n,p,d)).filter(n=>!!n))for(let n=0;n<this.layers.length;n++)f=this.layers[n],this._layerByName[f.id]=f,this._uidToLayer.set(f.uid,f),f.type===b.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(f.id);this._identifyRefLayers()}var l=v.prototype;l.isPainterDataDriven=function(f){return(f=this._layerByName[f])?f.isPainterDataDriven():
!1};l.getStyleLayerId=function(f){return f>=this.layers.length?null:this.layers[f].id};l.getStyleLayerByUID=function(f){return this._uidToLayer.get(f)??null};l.getStyleLayerIndex=function(f){return(f=this._layerByName[f])?this.layers.indexOf(f):-1};l.setStyleLayer=function(f,n){if(f&&f.id){var p=this._style;null!=n&&n>=this.layers.length&&(n=this.layers.length-1);var d=!0,r;if(r=this._layerByName[f.id]){const e=this.layers.indexOf(r);n||(n=e);n===e?(d=!1,r=v._recreateLayer(f,r),this.layers[n]=r,p.layers[n]=
f):(this.layers.splice(e,1),p.layers.splice(e,1),r=this._create(f,n,this.layers),this.layers.splice(n,0,r),p.layers.splice(n,0,f))}else r=this._create(f,n,this.layers),!n||n>=this.layers.length?(this.layers.push(r),p.layers.push(f)):(this.layers.splice(n,0,r),p.layers.splice(n,0,f));this._layerByName[f.id]=r;this._uidToLayer.set(r.uid,r);d&&this._recomputeZValues();this._identifyRefLayers()}};l.getStyleLayer=function(f){return(f=this._layerByName[f])?{type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,
minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:f.layout,paint:f.paint}:null};l.deleteStyleLayer=function(f){const n=this._layerByName[f];n&&(delete this._layerByName[f],this._uidToLayer.delete(n.uid),f=this.layers.indexOf(n),this.layers.splice(f,1),this._style.layers.splice(f,1),this._recomputeZValues(),this._identifyRefLayers())};l.getLayerById=function(f){return this._layerByName[f]};l.getLayoutProperties=function(f){return(f=this._layerByName[f])?f.layout:null};l.getPaintProperties=
function(f){return(f=this._layerByName[f])?f.paint:null};l.setPaintProperties=function(f,n){if(f=this._layerByName[f]){var p=v._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:f.layout,paint:n},f),d=this.layers.indexOf(f);this.layers[d]=p;this._style.layers[d].paint=n;this._layerByName[f.id]=p;this._uidToLayer.set(f.uid,p)}};l.setLayoutProperties=function(f,n){if(f=this._layerByName[f]){var p=v._recreateLayer({type:f.typeName,
id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,layout:n,paint:f.paint},f),d=this.layers.indexOf(f);this.layers[d]=p;this._style.layers[d].layout=n;this._layerByName[f.id]=p;this._uidToLayer.set(f.uid,p)}};l.setStyleLayerVisibility=function(f,n){if(f=this._layerByName[f]){var p=f.layout||{};p.visibility=n;n=v._recreateLayer({type:f.typeName,id:f.id,source:f.source,"source-layer":f.sourceLayer,minzoom:f.minzoom,maxzoom:f.maxzoom,filter:f.filter,
layout:p,paint:f.paint},f);var d=this.layers.indexOf(f);this.layers[d]=n;this._style.layers[d].layout=p;this._layerByName[f.id]=n;this._uidToLayer.set(f.uid,n)}};l.getStyleLayerVisibility=function(f){return(f=this._layerByName[f])?f.layout?.visibility??"visible":"none"};l._recomputeZValues=function(){const f=this.layers,n=1/(f.length+1);for(let p=0;p<f.length;p++)f[p].z=1-(1+p)*n};l._identifyRefLayers=function(){const f=[],n=[];let p=0;for(const e of this.layers){const h=e.layout;if(e.type===b.StyleLayerType.FILL){var d=
e,r=e.source+"|"+e.sourceLayer;r+="|"+(h?.visibility??"");r+="|"+e.minzoom;r+="|"+e.maxzoom;r+="|"+JSON.stringify(e.filter);if(d.hasDataDrivenFill||d.hasDataDrivenOutline)r+="|"+p;f.push({key:r,layer:e})}else if(e.type===b.StyleLayerType.LINE){d=e;r=e.paint;r=null!=r&&(null!=r["line-pattern"]||null!=r["line-dasharray"]);let c=e.source+"|"+e.sourceLayer;c+="|"+(h?.visibility??"");c+="|"+e.minzoom;c+="|"+e.maxzoom;c+="|"+JSON.stringify(e.filter);c+="|"+(void 0!==h?h["line-cap"]:"");c+="|"+(void 0!==
h?h["line-join"]:"");if(d.hasDataDrivenLine||r)c+="|"+p;n.push({key:c,layer:e})}++p}this._assignRefLayers(f);this._assignRefLayers(n)};l._assignRefLayers=function(f){f.sort((h,c)=>h.key<c.key?-1:h.key>c.key?1:0);let n,p;const d=f.length;for(let h=0;h<d;h++){const c=f[h];if(c.key===n)c.layer.refLayerId=p;else if(n=c.key,p=c.layer.id,c.layer.type===b.StyleLayerType.FILL){if(!c.layer.getPaintProperty("fill-outline-color"))for(var r=h+1;r<d;r++){var e=f[r];if(e.key===n){if(e.layer.getPaintProperty("fill-outline-color")){f[h]=
e;f[r]=c;p=e.layer.id;break}}else break}}else if(c.layer.type===b.StyleLayerType.LINE)for(r=c.layer,e=h+1;e<d;e++){const k=f[e];if(k.key!==n)break;const u=k.layer;if(r.canUseThinTessellation&&!u.canUseThinTessellation||!r.canUseThinTessellation&&(u.getPaintProperty("line-pattern")||u.getPaintProperty("line-dasharray")))r=u,f[h]=k,f[e]=c,p=k.layer.id}}};l._create=function(f,n,p){n=1-1/(p.length+1)*(1+n);p=this._runningId++;switch(f.type){case "background":return new a.BackgroundStyleLayer(b.StyleLayerType.BACKGROUND,
f,n,p);case "fill":return new a.FillStyleLayer(b.StyleLayerType.FILL,f,n,p);case "line":return new a.LineStyleLayer(b.StyleLayerType.LINE,f,n,p);case "symbol":return new a.SymbolStyleLayer(b.StyleLayerType.SYMBOL,f,n,p);case "raster":console.warn(`Unsupported vector tile raster layer ${f.id}`);break;case "circle":return new a.CircleStyleLayer(b.StyleLayerType.CIRCLE,f,n,p)}return null};v._recreateLayer=function(f,n){switch(f.type){case "background":return new a.BackgroundStyleLayer(b.StyleLayerType.BACKGROUND,
f,n.z,n.uid);case "fill":return new a.FillStyleLayer(b.StyleLayerType.FILL,f,n.z,n.uid);case "line":return new a.LineStyleLayer(b.StyleLayerType.LINE,f,n.z,n.uid);case "symbol":return new a.SymbolStyleLayer(b.StyleLayerType.SYMBOL,f,n.z,n.uid);case "raster":console.warn(`Unsupported vector tile raster layer ${f.id}`);break;case "circle":return new a.CircleStyleLayer(b.StyleLayerType.CIRCLE,f,n.z,n.uid)}return null};return v}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports",
"../../../../../symbols/cim/enums"],function(b,a){b.StyleLayerType=void 0;(function(l){l[l.BACKGROUND=0]="BACKGROUND";l[l.FILL=1]="FILL";l[l.LINE=2]="LINE";l[l.SYMBOL=3]="SYMBOL";l[l.CIRCLE=4]="CIRCLE"})(b.StyleLayerType||(b.StyleLayerType={}));b.Visibility=void 0;(function(l){l[l.VISIBLE=0]="VISIBLE";l[l.NONE=1]="NONE"})(b.Visibility||(b.Visibility={}));b.SymbolPlacement=void 0;(function(l){l[l.POINT=0]="POINT";l[l.LINE=1]="LINE";l[l.LINE_CENTER=2]="LINE_CENTER"})(b.SymbolPlacement||(b.SymbolPlacement=
{}));b.RotationAlignment=void 0;(function(l){l[l.MAP=0]="MAP";l[l.VIEWPORT=1]="VIEWPORT";l[l.AUTO=2]="AUTO"})(b.RotationAlignment||(b.RotationAlignment={}));b.TextJustification=void 0;(function(l){l[l.AUTO=0]="AUTO";l[l.LEFT=1]="LEFT";l[l.CENTER=2]="CENTER";l[l.RIGHT=3]="RIGHT"})(b.TextJustification||(b.TextJustification={}));b.SymbolAnchor=void 0;(function(l){l[l.CENTER=0]="CENTER";l[l.LEFT=1]="LEFT";l[l.RIGHT=2]="RIGHT";l[l.TOP=3]="TOP";l[l.BOTTOM=4]="BOTTOM";l[l.TOP_LEFT=5]="TOP_LEFT";l[l.TOP_RIGHT=
6]="TOP_RIGHT";l[l.BOTTOM_LEFT=7]="BOTTOM_LEFT";l[l.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(b.SymbolAnchor||(b.SymbolAnchor={}));b.TextTransform=void 0;(function(l){l[l.NONE=0]="NONE";l[l.UPPERCASE=1]="UPPERCASE";l[l.LOWERCASE=2]="LOWERCASE"})(b.TextTransform||(b.TextTransform={}));b.TranslateAnchor=void 0;(function(l){l[l.MAP=0]="MAP";l[l.VIEWPORT=1]="VIEWPORT"})(b.TranslateAnchor||(b.TranslateAnchor={}));b.TextWritingMode=void 0;(function(l){l[l.HORIZONTAL=0]="HORIZONTAL";l[l.VERTICAL=1]="VERTICAL"})(b.TextWritingMode||
(b.TextWritingMode={}));let v=function(){};v.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};v.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};v.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:a.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],
default:a.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};v.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:b.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",
default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",
values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",
values:["auto","left","center","right"],default:b.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",
default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:b.TextTransform.NONE},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[b.TextWritingMode.HORIZONTAL]}};v.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};v.backgroundPaintDefinition=
{"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};v.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",
values:["map","viewport"],default:b.TranslateAnchor.MAP}};v.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",
values:["map","viewport"],default:b.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}};v.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",
values:["map","viewport"],default:b.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};v.rasterPaintDefinition=
{"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};v.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,
default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};
b.StyleDefinition=v;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/symbols/cim/enums":function(){define(["exports"],function(b){b.CapType=void 0;(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));b.JoinType=void 0;(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(b.JoinType||(b.JoinType={}));b.Alignment=void 0;(function(a){a[a.SCREEN=0]="SCREEN";
a[a.MAP=1]="MAP"})(b.Alignment||(b.Alignment={}));b.ExternalColorMixMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Ignore=1]="Ignore";a[a.Multiply=99]="Multiply"})(b.ExternalColorMixMode||(b.ExternalColorMixMode={}));b.ExtremityPlacement=void 0;(function(a){a.Both="Both";a.JustBegin="JustBegin";a.JustEnd="JustEnd";a.None="None"})(b.ExtremityPlacement||(b.ExtremityPlacement={}));b.FillMode=void 0;(function(a){a[a.Mosaic=0]="Mosaic";a[a.Centered=1]="Centered"})(b.FillMode||(b.FillMode={}));b.FontEffects=
void 0;(function(a){a[a.Normal=0]="Normal";a[a.Superscript=1]="Superscript";a[a.Subscript=2]="Subscript"})(b.FontEffects||(b.FontEffects={}));b.FontEncoding=void 0;(function(a){a[a.MSSymbol=0]="MSSymbol";a[a.Unicode=1]="Unicode"})(b.FontEncoding||(b.FontEncoding={}));b.FontType=void 0;(function(a){a[a.Unspecified=0]="Unspecified";a[a.TrueType=1]="TrueType";a[a.PSOpenType=2]="PSOpenType";a[a.TTOpenType=3]="TTOpenType";a[a.Type1=4]="Type1"})(b.FontType||(b.FontType={}));b.AngleAlignment=void 0;(function(a){a[a.Display=
0]="Display";a[a.Map=1]="Map"})(b.AngleAlignment||(b.AngleAlignment={}));b.AnimatedSymbolRepeatType=void 0;(function(a){a.None="None";a.Loop="Loop";a.Oscillate="Oscillate"})(b.AnimatedSymbolRepeatType||(b.AnimatedSymbolRepeatType={}));b.DominantSizeAxis=void 0;(function(a){a[a.Z=0]="Z";a[a.X=1]="X";a[a.Y=2]="Y"})(b.DominantSizeAxis||(b.DominantSizeAxis={}));b.RotationOrder=void 0;(function(a){a[a.XYZ=0]="XYZ";a[a.ZXY=1]="ZXY";a[a.YXZ=2]="YXZ"})(b.RotationOrder||(b.RotationOrder={}));b.BalloonCalloutStyle=
void 0;(function(a){a[a.Rectangle=0]="Rectangle";a[a.RoundedRectangle=1]="RoundedRectangle";a[a.Oval=2]="Oval"})(b.BalloonCalloutStyle||(b.BalloonCalloutStyle={}));b.BlendingMode=void 0;(function(a){a[a.None=0]="None";a[a.Alpha=1]="Alpha";a[a.Screen=2]="Screen";a[a.Multiply=3]="Multiply";a[a.Add=4]="Add"})(b.BlendingMode||(b.BlendingMode={}));b.BlockProgression=void 0;(function(a){a[a.TTB=0]="TTB";a[a.RTL=1]="RTL";a[a.BTT=2]="BTT"})(b.BlockProgression||(b.BlockProgression={}));b.BillBoardMode=void 0;
(function(a){a[a.None=0]="None";a[a.SignPost=1]="SignPost";a[a.FaceNearPlane=2]="FaceNearPlane"})(b.BillBoardMode||(b.BillBoardMode={}));b.CGAAttributeType=void 0;(function(a){a[a.Float=0]="Float";a[a.String=1]="String";a[a.Boolean=2]="Boolean"})(b.CGAAttributeType||(b.CGAAttributeType={}));b.ClippingType=void 0;(function(a){a[a.Intersect=0]="Intersect";a[a.Subtract=1]="Subtract"})(b.ClippingType||(b.ClippingType={}));b.GeometricEffectArrowType=void 0;(function(a){a.OpenEnded="OpenEnded";a.Block=
"Block";a.Crossed="Crossed"})(b.GeometricEffectArrowType||(b.GeometricEffectArrowType={}));b.GeometricEffectControlMeasureLineRule=void 0;(function(a){a.FullGeometry="FullGeometry";a.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";a.ReversedFirstSegment="ReversedFirstSegment";a.PerpendicularToSecondSegment="PerpendicularToSecondSegment";a.SecondSegmentWithTicks="SecondSegmentWithTicks";a.DoublePerpendicular="DoublePerpendicular";a.OppositeToFirstSegment="OppositeToFirstSegment";a.TriplePerpendicular=
"TriplePerpendicular";a.HalfCircleFirstSegment="HalfCircleFirstSegment";a.HalfCircleSecondSegment="HalfCircleSecondSegment";a.HalfCircleExtended="HalfCircleExtended";a.OpenCircle="OpenCircle";a.CoverageEdgesWithTicks="CoverageEdgesWithTicks";a.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";a.GapExtentMidline="GapExtentMidline";a.Chevron="Chevron";a.PerpendicularWithArc="PerpendicularWithArc";a.ClosedHalfCircle="ClosedHalfCircle";a.TripleParallelExtended="TripleParallelExtended";a.ParallelWithTicks=
"ParallelWithTicks";a.Parallel="Parallel";a.PerpendicularToFirstSegment="PerpendicularToFirstSegment";a.ParallelOffset="ParallelOffset";a.OffsetOpposite="OffsetOpposite";a.OffsetSame="OffsetSame";a.CircleWithArc="CircleWithArc";a.DoubleJog="DoubleJog";a.PerpendicularOffset="PerpendicularOffset";a.LineExcludingLastSegment="LineExcludingLastSegment";a.MultivertexArrow="MultivertexArrow";a.CrossedArrow="CrossedArrow";a.ChevronArrow="ChevronArrow";a.ChevronArrowOffset="ChevronArrowOffset";a.PartialFirstSegment=
"PartialFirstSegment";a.Arch="Arch";a.CurvedParallelTicks="CurvedParallelTicks";a.Arc90Degrees="Arc90Degrees"})(b.GeometricEffectControlMeasureLineRule||(b.GeometricEffectControlMeasureLineRule={}));b.GeometricEffectDonutMethod=void 0;(function(a){a.Mitered="Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square";a.TrueBuffer="TrueBuffer"})(b.GeometricEffectDonutMethod||(b.GeometricEffectDonutMethod={}));b.GeometricEffectEnclosingPolygonMethod=void 0;(function(a){a.ClosePath="ClosePath";
a.ConvexHull="ConvexHull";a.RectangularBox="RectangularBox"})(b.GeometricEffectEnclosingPolygonMethod||(b.GeometricEffectEnclosingPolygonMethod={}));b.GeometricEffectExtensionOrigin=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectExtensionOrigin||(b.GeometricEffectExtensionOrigin={}));b.GeometricEffectOffsetMethod=void 0;(function(a){a.Mitered="Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square"})(b.GeometricEffectOffsetMethod||(b.GeometricEffectOffsetMethod=
{}));b.GeometricEffectOffsetOption=void 0;(function(a){a.Fast="Fast";a.Accurate="Accurate"})(b.GeometricEffectOffsetOption||(b.GeometricEffectOffsetOption={}));b.GeometricEffectOffsetTangentMethod=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectOffsetTangentMethod||(b.GeometricEffectOffsetTangentMethod={}));b.GeometricEffectWaveform=void 0;(function(a){a.Sinus="Sinus";a.Square="Square";a.Triangle="Triangle";a.Random="Random"})(b.GeometricEffectWaveform||
(b.GeometricEffectWaveform={}));b.GlyphHinting=void 0;(function(a){a[a.None=0]="None";a[a.Default=1]="Default";a[a.Force=2]="Force"})(b.GlyphHinting||(b.GlyphHinting={}));b.GradientAlignment=void 0;(function(a){a[a.Buffered=0]="Buffered";a[a.Left=1]="Left";a[a.Right=2]="Right";a[a.AlongLine=3]="AlongLine"})(b.GradientAlignment||(b.GradientAlignment={}));b.GradientFillMethod=void 0;(function(a){a[a.Linear=0]="Linear";a[a.Rectangular=1]="Rectangular";a[a.Circular=2]="Circular";a[a.Buffered=3]="Buffered"})(b.GradientFillMethod||
(b.GradientFillMethod={}));b.GradientStrokeType=void 0;(function(a){a[a.Discrete=0]="Discrete";a[a.Continuous=1]="Continuous"})(b.GradientStrokeType||(b.GradientStrokeType={}));b.GradientStrokeMethod=void 0;(function(a){a[a.AcrossLine=0]="AcrossLine";a[a.AloneLine=1]="AloneLine"})(b.GradientStrokeMethod||(b.GradientStrokeMethod={}));b.HorizontalAlignment=void 0;(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Center=2]="Center";a[a.Justify=3]="Justify"})(b.HorizontalAlignment||(b.HorizontalAlignment=
{}));b.LeaderLineStyle=void 0;(function(a){a[a.Base=0]="Base";a[a.MidPoint=1]="MidPoint";a[a.ThreePoint=2]="ThreePoint";a[a.FourPoint=3]="FourPoint";a[a.Underline=4]="Underline";a[a.CircularCW=5]="CircularCW";a[a.CircularCCW=6]="CircularCCW"})(b.LeaderLineStyle||(b.LeaderLineStyle={}));b.LineCapStyle=void 0;(function(a){a.Butt="Butt";a.Round="Round";a.Square="Square"})(b.LineCapStyle||(b.LineCapStyle={}));b.LineDashEnding=void 0;(function(a){a.NoConstraint="NoConstraint";a.HalfPattern="HalfPattern";
a.HalfGap="HalfGap";a.FullPattern="FullPattern";a.FullGap="FullGap";a.Custom="Custom"})(b.LineDashEnding||(b.LineDashEnding={}));b.LineDecorationStyle=void 0;(function(a){a[a.None=-1]="None";a[a.Custom=0]="Custom";a[a.Circle=1]="Circle";a[a.OpenArrow=2]="OpenArrow";a[a.ClosedArrow=3]="ClosedArrow";a[a.Diamond=4]="Diamond"})(b.LineDecorationStyle||(b.LineDecorationStyle={}));b.LineGapType=void 0;(function(a){a[a.ExtraLeading=0]="ExtraLeading";a[a.Multiple=1]="Multiple";a[a.Exact=2]="Exact"})(b.LineGapType||
(b.LineGapType={}));b.LineJoinStyle=void 0;(function(a){a.Bevel="Bevel";a.Round="Round";a.Miter="Miter"})(b.LineJoinStyle||(b.LineJoinStyle={}));b.ExpressionReturnType=void 0;(function(a){a[a.Default=0]="Default";a[a.String=1]="String";a[a.Numeric=2]="Numeric"})(b.ExpressionReturnType||(b.ExpressionReturnType={}));b.MarkerPlacementType=void 0;(function(a){a[a.InsidePolygon=0]="InsidePolygon";a[a.PolygonCenter=1]="PolygonCenter";a[a.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(b.MarkerPlacementType||
(b.MarkerPlacementType={}));b.MaterialMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Replace=1]="Replace";a[a.Multiply=2]="Multiply"})(b.MaterialMode||(b.MaterialMode={}));b.PlacementClip=void 0;(function(a){a[a.ClipAtBoundary=0]="ClipAtBoundary";a[a.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";a[a.DoNotTouchBoundary=2]="DoNotTouchBoundary";a[a.DoNotClip=3]="DoNotClip"})(b.PlacementClip||(b.PlacementClip={}));b.PlacementEndings=void 0;(function(a){a.NoConstraint="NoConstraint";
a.WithMarkers="WithMarkers";a.WithFullGap="WithFullGap";a.WithHalfGap="WithHalfGap";a.Custom="Custom"})(b.PlacementEndings||(b.PlacementEndings={}));b.PlacementGridType=void 0;(function(a){a.Fixed="Fixed";a.Random="Random";a.RandomFixedQuantity="RandomFixedQuantity"})(b.PlacementGridType||(b.PlacementGridType={}));b.PlacementOnLineRelativeTo=void 0;(function(a){a.LineMiddle="LineMiddle";a.LineBeginning="LineBeginning";a.LineEnd="LineEnd";a.SegmentMidpoint="SegmentMidpoint"})(b.PlacementOnLineRelativeTo||
(b.PlacementOnLineRelativeTo={}));b.PlacementPolygonCenterMethod=void 0;(function(a){a.OnPolygon="OnPolygon";a.CenterOfMass="CenterOfMass";a.BoundingBoxCenter="BoundingBoxCenter"})(b.PlacementPolygonCenterMethod||(b.PlacementPolygonCenterMethod={}));b.PlacementRandomlyAlongLineRandomization=void 0;(function(a){a[a.Low=0]="Low";a[a.Medium=1]="Medium";a[a.High=2]="High"})(b.PlacementRandomlyAlongLineRandomization||(b.PlacementRandomlyAlongLineRandomization={}));b.PlacementStepPosition=void 0;(function(a){a[a.MarkerCenter=
0]="MarkerCenter";a[a.MarkerBounds=1]="MarkerBounds"})(b.PlacementStepPosition||(b.PlacementStepPosition={}));b.PointSymbolCalloutScale=void 0;(function(a){a[a.None=0]="None";a[a.PropUniform=1]="PropUniform";a[a.PropNonuniform=2]="PropNonuniform";a[a.DifUniform=3]="DifUniform";a[a.DifNonuniform=4]="DifNonuniform"})(b.PointSymbolCalloutScale||(b.PointSymbolCalloutScale={}));b.Simple3DLineStyle=void 0;(function(a){a.Tube="Tube";a.Strip="Strip";a.Wall="Wall"})(b.Simple3DLineStyle||(b.Simple3DLineStyle=
{}));b.SizeVariationMethod=void 0;(function(a){a[a.Random=0]="Random";a[a.Increasing=1]="Increasing";a[a.Decreasing=2]="Decreasing";a[a.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(b.SizeVariationMethod||(b.SizeVariationMethod={}));b.SymbolUnits=void 0;(function(a){a[a.Relative=0]="Relative";a[a.Absolute=1]="Absolute"})(b.SymbolUnits||(b.SymbolUnits={}));b.TextCase=void 0;(function(a){a[a.Normal=0]="Normal";a[a.LowerCase=1]="LowerCase";a[a.Allcaps=2]="Allcaps"})(b.TextCase||(b.TextCase=
{}));b.TextReadingDirection=void 0;(function(a){a[a.LTR=0]="LTR";a[a.RTL=1]="RTL"})(b.TextReadingDirection||(b.TextReadingDirection={}));b.TextureFilter=void 0;(function(a){a.Draft="Draft";a.Picture="Picture";a.Text="Text"})(b.TextureFilter||(b.TextureFilter={}));b.VerticalAlignment=void 0;(function(a){a[a.Top=0]="Top";a[a.Center=1]="Center";a[a.Baseline=2]="Baseline";a[a.Bottom=3]="Bottom"})(b.VerticalAlignment||(b.VerticalAlignment={}));b.VerticalGlyphOrientation=void 0;(function(a){a[a.Right=0]=
"Right";a[a.Upright=1]="Upright"})(b.VerticalGlyphOrientation||(b.VerticalGlyphOrientation={}));b.WaterbodySize=void 0;(function(a){a[a.Small=0]="Small";a[a.Medium=1]="Medium";a[a.Large=2]="Large"})(b.WaterbodySize||(b.WaterbodySize={}));b.WaveStrength=void 0;(function(a){a[a.Calm=0]="Calm";a[a.Rippled=1]="Rippled";a[a.Slight=2]="Slight";a[a.Moderate=3]="Moderate"})(b.WaveStrength||(b.WaveStrength={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../enums ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),
function(b,a,v,l,f,n,p,d,r,e,h,c){b.CapType=void 0;(function(I){I[I.BUTT=0]="BUTT";I[I.ROUND=1]="ROUND";I[I.SQUARE=2]="SQUARE";I[I.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));let k=function(){function I(x,t,F,E){this.type=x;this.typeName=t.type;this.id=t.id;this.source=t.source;this.sourceLayer=t["source-layer"];this.minzoom=t.minzoom;this.maxzoom=t.maxzoom;this.filter=t.filter;this.layout=t.layout;this.paint=t.paint;this.z=F;this.uid=E;switch(x){case e.StyleLayerType.BACKGROUND:this._layoutDefinition=
e.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=e.StyleDefinition.backgroundPaintDefinition;break;case e.StyleLayerType.FILL:this._layoutDefinition=e.StyleDefinition.fillLayoutDefinition;this._paintDefinition=e.StyleDefinition.fillPaintDefinition;break;case e.StyleLayerType.LINE:this._layoutDefinition=e.StyleDefinition.lineLayoutDefinition;this._paintDefinition=e.StyleDefinition.linePaintDefinition;break;case e.StyleLayerType.SYMBOL:this._layoutDefinition=e.StyleDefinition.symbolLayoutDefinition;
this._paintDefinition=e.StyleDefinition.symbolPaintDefinition;break;case e.StyleLayerType.CIRCLE:this._layoutDefinition=e.StyleDefinition.circleLayoutDefinition,this._paintDefinition=e.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var C=I.prototype;C.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=r.createFilter(this.filter)};C.getLayoutProperty=
function(x){return this._layoutProperties[x]};C.getPaintProperty=function(x){return this._paintProperties[x]};C.getLayoutValue=function(x,t,F){let E;const K=this._layoutProperties[x];K&&(E=K.getValue(t,F));void 0===E&&(E=this._layoutDefinition[x]["default"]);return E};C.getPaintValue=function(x,t,F){let E;const K=this._paintProperties[x];K&&(E=K.getValue(t,F));void 0===E&&(E=this._paintDefinition[x]["default"]);return E};C.isPainterDataDriven=function(){const x=this._paintProperties;if(x)for(const t in x)if(x[t].isDataDriven)return!0;
return!1};C._parseLayout=function(x){const t={};for(const F in x){const E=this._layoutDefinition[F];E&&(t[F]=new h(E,x[F]))}return t};C._parsePaint=function(x){const t={};for(const F in x){const E=this._paintDefinition[F];E&&(t[F]=new h(E,x[F]))}return t};C.computeAttributesKey=function(x,t,F,E){let K=0,O=0;for(const N of t){t=3;if(!N||N!==E){const {isLayout:Q,isOptional:R}=F[N];t=Q?this.getLayoutProperty(N):this.getPaintProperty(N);t=t?.interpolator?2:t?.isDataDriven?1:R&&!t?3:0}O|=t<<K;K+=2}return O<<
3|x};return I}(),u=function(I){function C(x,t,F,E){x=I.call(this,x,t,F,E)||this;x.backgroundMaterial=new l.VTLBackgroundMaterial(x.computeAttributesKey(v.ShaderProgramType.BACKGROUND,l.VTLBackgroundMaterial.ATTRIBUTES,l.VTLBackgroundMaterial.ATTRIBUTES_INFO));return x}a._inheritsLoose(C,I);return C}(k),w=function(I){function C(x,t,F,E){x=I.call(this,x,t,F,E)||this;t=x.getPaintProperty("fill-color");F=x.getPaintProperty("fill-opacity");E=x.getPaintProperty("fill-pattern");x.hasDataDrivenColor=t?.isDataDriven;
x.hasDataDrivenOpacity=F?.isDataDriven;x.hasDataDrivenFill=x.hasDataDrivenColor||x.hasDataDrivenOpacity||E?.isDataDriven;F=x.getPaintProperty("fill-outline-color");x.outlineUsesFillColor=!F;x.hasDataDrivenOutlineColor=F?.isDataDriven;x.hasDataDrivenOutline=F?F.isDataDriven:t?t.isDataDriven:!1;x.hasDataDrivenOutline=(F?x.hasDataDrivenOutlineColor:x.hasDataDrivenColor)||x.hasDataDrivenOpacity;x.fillMaterial=new n.VTLFillMaterial(x.computeAttributesKey(v.ShaderProgramType.FILL,n.VTLFillMaterial.ATTRIBUTES,
n.VTLFillMaterial.ATTRIBUTES_INFO));x.outlineMaterial=new n.VTLOutlineMaterial(x.computeAttributesKey(v.ShaderProgramType.OUTLINE,x.outlineUsesFillColor?n.VTLOutlineMaterial.ATTRIBUTES_FILL:n.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,x.outlineUsesFillColor?n.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:n.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),x.outlineUsesFillColor);return x}a._inheritsLoose(C,I);return C}(k),z=function(I){function C(x,t,F,E){x=I.call(this,x,t,F,E)||this;t=x.getPaintProperty("line-pattern");
x.lineMaterial=new p.VTLLineMaterial(x.computeAttributesKey(v.ShaderProgramType.LINE,p.VTLLineMaterial.ATTRIBUTES,p.VTLLineMaterial.ATTRIBUTES_INFO,t?"line-dasharray":""));x.hasDataDrivenLine=x.getPaintProperty("line-blur")?.isDataDriven||x.getPaintProperty("line-color")?.isDataDriven||x.getPaintProperty("line-gap-width")?.isDataDriven||x.getPaintProperty("line-offset")?.isDataDriven||x.getPaintProperty("line-opacity")?.isDataDriven||x.getPaintProperty("line-pattern")?.isDataDriven||x.getPaintProperty("line-dasharray")?.isDataDriven||
x.getLayoutProperty("line-cap")?.isDataDriven||x.getPaintProperty("line-width")?.isDataDriven;x.canUseThinTessellation=!1;!x.hasDataDrivenLine&&(t=x.getPaintProperty("line-width"),!t||"number"===typeof t&&.5*t<c.THIN_LINE_HALF_WIDTH_THRESHOLD)&&(t=x.getPaintProperty("line-offset"),!t||"number"===typeof t&&0===t)&&(x.canUseThinTessellation=!0);return x}a._inheritsLoose(C,I);C.prototype.getDashKey=function(x,t){switch(t){case b.CapType.BUTT:t="Butt";break;case b.CapType.ROUND:t="Round";break;case b.CapType.SQUARE:t=
"Square";break;default:t="Butt"}return`dasharray-[${x.toString()}]-${t}`};return C}(k),H=function(I){function C(x,t,F,E){x=I.call(this,x,t,F,E)||this;x.iconMaterial=new d.VTLIconMaterial(x.computeAttributesKey(v.ShaderProgramType.ICON,d.VTLIconMaterial.ATTRIBUTES,d.VTLIconMaterial.ATTRIBUTES_INFO));x.textMaterial=new d.VTLTextMaterial(x.computeAttributesKey(v.ShaderProgramType.TEXT,d.VTLTextMaterial.ATTRIBUTES,d.VTLTextMaterial.ATTRIBUTES_INFO));x.hasDataDrivenIcon=x.getPaintProperty("icon-color")?.isDataDriven||
x.getPaintProperty("icon-halo-blur")?.isDataDriven||x.getPaintProperty("icon-halo-color")?.isDataDriven||x.getPaintProperty("icon-halo-width")?.isDataDriven||x.getPaintProperty("icon-opacity")?.isDataDriven||x.getLayoutProperty("icon-size")?.isDataDriven;x.hasDataDrivenText=x.getPaintProperty("text-color")?.isDataDriven||x.getPaintProperty("text-halo-blur")?.isDataDriven||x.getPaintProperty("text-halo-color")?.isDataDriven||x.getPaintProperty("text-halo-width")?.isDataDriven||x.getPaintProperty("text-opacity")?.isDataDriven||
x.getLayoutProperty("text-size")?.isDataDriven;return x}a._inheritsLoose(C,I);return C}(k),B=function(I){function C(x,t,F,E){x=I.call(this,x,t,F,E)||this;x.circleMaterial=new f.VTLCircleMaterial(x.computeAttributesKey(v.ShaderProgramType.CIRCLE,f.VTLCircleMaterial.ATTRIBUTES,f.VTLCircleMaterial.ATTRIBUTES_INFO));return x}a._inheritsLoose(C,I);return C}(k),D=function(){function I(C,x,t){this.allowOverlap=C.getLayoutValue("icon-allow-overlap",x);this.ignorePlacement=C.getLayoutValue("icon-ignore-placement",
x);this.keepUpright=C.getLayoutValue("icon-keep-upright",x);this.optional=C.getLayoutValue("icon-optional",x);this.rotationAlignment=C.getLayoutValue("icon-rotation-alignment",x);this.rotationAlignment===e.RotationAlignment.AUTO&&(this.rotationAlignment=t?e.RotationAlignment.MAP:e.RotationAlignment.VIEWPORT);t=C.getLayoutProperty("icon-anchor");t?.isDataDriven?this._anchorProp=t:this.anchor=C.getLayoutValue("icon-anchor",x);t=C.getLayoutProperty("icon-offset");t?.isDataDriven?this._offsetProp=t:this.offset=
C.getLayoutValue("icon-offset",x);t=C.getLayoutProperty("icon-padding");t?.isDataDriven?this._paddingProp=t:this.padding=C.getLayoutValue("icon-padding",x);t=C.getLayoutProperty("icon-rotate");t?.isDataDriven?this._rotateProp=t:this.rotate=C.getLayoutValue("icon-rotate",x);t=C.getLayoutProperty("icon-size");t?.isDataDriven?this._sizeProp=t:this.size=C.getLayoutValue("icon-size",x)}I.prototype.update=function(C,x){this._anchorProp&&(this.anchor=this._anchorProp.getValue(C,x));this._offsetProp&&(this.offset=
this._offsetProp.getValue(C,x));this._paddingProp&&(this.padding=this._paddingProp.getValue(C,x));this._rotateProp&&(this.rotate=this._rotateProp.getValue(C,x));this._sizeProp&&(this.size=this._sizeProp.getValue(C,x))};return I}(),G=function(){function I(C,x,t){this.allowOverlap=C.getLayoutValue("text-allow-overlap",x);this.ignorePlacement=C.getLayoutValue("text-ignore-placement",x);this.keepUpright=C.getLayoutValue("text-keep-upright",x);this.optional=C.getLayoutValue("text-optional",x);this.rotationAlignment=
C.getLayoutValue("text-rotation-alignment",x);this.rotationAlignment===e.RotationAlignment.AUTO&&(this.rotationAlignment=t?e.RotationAlignment.MAP:e.RotationAlignment.VIEWPORT);t=C.getLayoutProperty("text-anchor");t?.isDataDriven?this._anchorProp=t:this.anchor=C.getLayoutValue("text-anchor",x);t=C.getLayoutProperty("text-justify");t?.isDataDriven?this._justifyProp=t:this.justify=C.getLayoutValue("text-justify",x);t=C.getLayoutProperty("text-letter-spacing");t?.isDataDriven?this._letterSpacingProp=
t:this.letterSpacing=C.getLayoutValue("text-letter-spacing",x);t=C.getLayoutProperty("text-line-height");t?.isDataDriven?this._lineHeightProp=t:this.lineHeight=C.getLayoutValue("text-line-height",x);t=C.getLayoutProperty("text-max-angle");t?.isDataDriven?this._maxAngleProp=t:this.maxAngle=C.getLayoutValue("text-max-angle",x);t=C.getLayoutProperty("text-max-width");t?.isDataDriven?this._maxWidthProp=t:this.maxWidth=C.getLayoutValue("text-max-width",x);t=C.getLayoutProperty("text-offset");t?.isDataDriven?
this._offsetProp=t:this.offset=C.getLayoutValue("text-offset",x);t=C.getLayoutProperty("text-padding");t?.isDataDriven?this._paddingProp=t:this.padding=C.getLayoutValue("text-padding",x);t=C.getLayoutProperty("text-rotate");t?.isDataDriven?this._rotateProp=t:this.rotate=C.getLayoutValue("text-rotate",x);t=C.getLayoutProperty("text-size");t?.isDataDriven?this._sizeProp=t:this.size=C.getLayoutValue("text-size",x);t=C.getLayoutProperty("text-writing-mode");t?.isDataDriven?this._writingModeProp=t:this.writingMode=
C.getLayoutValue("text-writing-mode",x)}I.prototype.update=function(C,x){this._anchorProp&&(this.anchor=this._anchorProp.getValue(C,x));this._justifyProp&&(this.justify=this._justifyProp.getValue(C,x));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(C,x));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(C,x));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(C,x));this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(C,x));this._offsetProp&&
(this.offset=this._offsetProp.getValue(C,x));this._paddingProp&&(this.padding=this._paddingProp.getValue(C,x));this._rotateProp&&(this.rotate=this._rotateProp.getValue(C,x));this._sizeProp&&(this.size=this._sizeProp.getValue(C,x));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(C,x))};return I}();b.BackgroundStyleLayer=u;b.CircleStyleLayer=B;b.FillStyleLayer=w;b.IconLayout=D;b.LineStyleLayer=z;b.StyleLayer=k;b.SymbolStyleLayer=H;b.TextLayout=G;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],function(b){b.BucketType=void 0;(function(a){a[a.FILL=1]="FILL";a[a.LINE=2]="LINE";a[a.SYMBOL=3]="SYMBOL";a[a.CIRCLE=4]="CIRCLE"})(b.BucketType||(b.BucketType={}));b.ShaderProgramType=void 0;(function(a){a[a.BACKGROUND=0]="BACKGROUND";a[a.FILL=1]="FILL";a[a.OUTLINE=2]="OUTLINE";a[a.LINE=3]="LINE";a[a.ICON=4]="ICON";a[a.CIRCLE=5]="CIRCLE";a[a.TEXT=6]="TEXT";a[a.TILEINFO=7]="TILEINFO"})(b.ShaderProgramType||
(b.ShaderProgramType={}));b.StyleUpdateType=void 0;(function(a){a[a.PAINTER_CHANGED=0]="PAINTER_CHANGED";a[a.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";a[a.LAYER_CHANGED=2]="LAYER_CHANGED";a[a.LAYER_REMOVED=3]="LAYER_REMOVED";a[a.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(b.StyleUpdateType||(b.StyleUpdateType={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers",
"./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(b,a,v,l,f){v=function(n){function p(r){return n.call(this,r)||this}a._inheritsLoose(p,n);var d=p.prototype;d.geometryInfo=function(){return p.GEOMETRY_LAYOUT};d.opacityInfo=function(){return null};d.attributes=function(){return p.ATTRIBUTES};d.attributesInfo=function(){return p.ATTRIBUTES_INFO};return p}(v.VTLMaterial);v.ATTRIBUTES=[];v.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",2,l.DataType.BYTE,
0,2)];v.ATTRIBUTES_INFO={};b.VTLBackgroundMaterial=v;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../MemoryBuffer ./enums ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,v,l,f,n,p){let d=function(){function h(k){this._locations=new Map;this._key=k}var c=h.prototype;c.defines=function(){return[]};
c.getStride=function(){this._layoutInfo||this._buildAttributesInfo();return this._stride};c.getAttributeLocations=function(){0===this._locations.size&&this._buildAttributesInfo();return this._locations};c.getLayoutInfo=function(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo};c.getEncodingInfos=function(){this._propertyEncodingInfo||this._buildAttributesInfo();return this._propertyEncodingInfo};c.getUniforms=function(){this._uniforms||this._buildAttributesInfo();return this._uniforms};
c.getShaderHeader=function(){this._shaderHeader||this._buildAttributesInfo();return this._shaderHeader};c.getShaderMain=function(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain};c.setDataUniforms=function(k,u,w,z,H){var B=this.getUniforms();for(const D of B){const {name:G,type:I,getValue:C}=D;B=C(w,u,z,H);if(null!==B)switch(I){case "float":k.setUniform1f(G,B);break;case "vec2":k.setUniform2fv(G,B);break;case "vec4":k.setUniform4fv(G,B)}}};c.encodeAttributes=function(k,u,w,
z){const H=this.attributesInfo(),B=this.getEncodingInfos(),D=[];let G=0,I=0;for(const x of Object.keys(B)){var C=B[x];const {type:t,precisionFactor:F,isLayout:E}=H[x],K=E?w.getLayoutProperty(x):w.getPaintProperty(x),O=K.interpolator?.getInterpolationRange(u);let N=0;for(const Q of C){const {offset:R,bufferElementsToAdd:T}=Q;if(0<T){for(C=0;C<T;C++)D.push(0);G+=I;I=Q.bufferElementsToAdd}C=z??K.getValue(O?O[N]:u,k);switch(t){case f.EncodingType.R8_SIGNED:case f.EncodingType.R8_UNSIGNED:D[G]|=this._encodeByte(C*
(F||1),8*R);break;case f.EncodingType.R16_SIGNED:case f.EncodingType.R16_UNSIGNED:D[G]|=this._encodeShort(C*(F||1),8*R);break;case f.EncodingType.R8G8_SIGNED:case f.EncodingType.R8G8_UNSIGNED:D[G]|=this._encodeByte(C*(F||1),8*R);D[G]|=this._encodeByte(C*(F||1),8*R+8);break;case f.EncodingType.R16G16_SIGNED:case f.EncodingType.R16G16_UNSIGNED:D[G]|=this._encodeShort(C*(F||1),8*R);D[G]|=this._encodeShort(C*(F||1),8*R+16);break;case f.EncodingType.R8G8B8A8_SIGNED:case f.EncodingType.R8G8B8A8_UNSIGNED:D[G]|=
this._encodeByte(C*(F||1),8*R);D[G]|=this._encodeByte(C*(F||1),8*R+8);D[G]|=this._encodeByte(C*(F||1),8*R+16);D[G]|=this._encodeByte(C*(F||1),8*R+24);break;case f.EncodingType.R8G8B8A8_COLOR:D[G]=this._encodeColor(C);break;case f.EncodingType.R16G16B16A16_DASHARRAY:case f.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(G,D,C);break;default:throw Error("Unsupported encoding type");}N++}}return D};c.getAtributeState=function(k){const u=3+2*k;k=0|this._bit(u);return k|=this._bit(u+1)<<1};c._buildAttributesInfo=
function(){const k=[],u={};var w={},z=-1;const H=this.attributesInfo();var B=this.attributes();let D=-1;for(const x of B){D++;B=this.getAtributeState(D);if(B===f.AttributeStatus.UNIFORM||B===f.AttributeStatus.UNUSED)continue;var G=H[x];const t=[];u[x]=t;G=G.type;for(let F=0;F<B;F++){const {dataType:E,bytesPerElement:K,count:O,normalized:N}=h._encodingInfo[G],Q=K*O;var I=`${E}-${!0===N}`;let R=w[I],T=0;!R||4<R.count+O?(z++,R={dataIndex:z,count:0,offset:0},4!==O&&(w[I]=R),k.push({location:-1,name:"a_data_"+
z,count:O,type:E,normalized:N}),T=Math.ceil(Math.max(Q/4,1))):(I=k[R.dataIndex],I.count+=O,T=Math.ceil(Math.max(I.count*K/4,1))-Math.ceil(Math.max(R.offset/4,1)));t.push({dataIndex:R.dataIndex,offset:R.offset,bufferElementsToAdd:T});R.offset+=Q;R.count+=O}}for(const x of k)switch(x.type){case n.DataType.BYTE:case n.DataType.UNSIGNED_BYTE:x.count=4;break;case n.DataType.SHORT:case n.DataType.UNSIGNED_SHORT:x.count+=x.count%2}this._buildVertexBufferLayout(k);w=0;z=this._layoutInfo.geometry;for(var C of z)this._locations.set(C.name,
w++);if(C=this._layoutInfo.opacity)for(const x of C)this._locations.set(x.name,w++);this._buildShaderInfo(k,u);this._propertyEncodingInfo=u};c._buildVertexBufferLayout=function(k){const u={},w=this.geometryInfo();let z=w[0].stride;if(0===k.length)u.geometry=w;else{const H=[];let B=z;for(const D of k)z+=r(D.type)*D.count;for(const D of w)H.push(new p.VertexElementDescriptor(D.name,D.count,D.type,D.offset,z,D.normalized));for(const D of k)H.push(new p.VertexElementDescriptor(D.name,D.count,D.type,B,
z,D.normalized)),B+=r(D.type)*D.count;u.geometry=H}this.opacityInfo()&&(u.opacity=this.opacityInfo());this._layoutInfo=u;this._stride=z};c._buildShaderInfo=function(k,u){let w="\n",z="\n";const H=[];for(var B of k)w+=`attribute ${this._getType(B.count)} ${B.name};\n`;var D=this.attributes();k=this.attributesInfo();B=-1;for(const C of D){B++;const {name:x,type:t,precisionFactor:F,isLayout:E}=k[C];D=F&&1!==F?` * ${1/F}`:"";const {bytesPerElement:K,count:O}=h._encodingInfo[t];var G=N=>`a_data_${N.dataIndex}${e(O,
N.offset,K)}`;switch(this.getAtributeState(B)){case f.AttributeStatus.UNIFORM:D=this._getType(O);var I=`u_${x}`;H.push({name:I,type:D,getValue:(Q,R,T,U)=>{T=E?Q.getLayoutValue(C,R):Q.getPaintValue(C,R);if(t===f.EncodingType.R16G16B16A16_DASHARRAY){Q=Q.getDashKey(T,Q.getLayoutValue("line-cap",R));U=U.getMosaicItemPosition(Q,!1);if(v.isNone(U))return null;const {tl:X,br:aa}=U;return[X[0],aa[1],aa[0],X[1]]}if(t===f.EncodingType.R16G16B16A16_PATTERN){U=U.getMosaicItemPosition(T,!C.includes("line-"));
if(v.isNone(U))return null;const {tl:X,br:aa}=U;return[X[0],aa[1],aa[0],X[1]]}return t===f.EncodingType.R8G8B8A8_COLOR?(U=T[3],[U*T[0],U*T[1],U*T[2],U]):T}});w+=`uniform ${D} ${I};\n`;z+=`${D} ${x} = ${I};\n`;break;case f.AttributeStatus.DATA_DRIVEN:I=G(u[C][0]);z+=`${this._getType(O)} ${x} = ${I}${D};\n`;break;case f.AttributeStatus.INTERPOLATED_DATA_DRIVEN:I=`u_t_${x}`;H.push({name:I,type:"float",getValue:(Q,R,T,U)=>(E?Q.getLayoutProperty(C):Q.getPaintProperty(C)).interpolator.interpolationUniformValue(T,
R)});w+=`uniform float ${I};\n`;const N=G(u[C][0]);G=G(u[C][1]);z+=`${this._getType(O)} ${x} = mix(${N}${D}, ${G}${D}, ${I});\n`}}this._shaderHeader=w;this._shaderMain=z;this._uniforms=H};c._bit=function(k){return(this._key&1<<k)>>k};c._getType=function(k){switch(k){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");};c._encodeColor=function(k){const u=255*k[3];return l.i8888to32(k[0]*u,k[1]*u,k[2]*u,u)};c._encodePattern=function(k,u,w){if(w&&
w.rect){var z=w.rect,H=w.width;w=w.height;u[k]=this._encodeShort(z.x+2,0);u[k]|=this._encodeShort(z.y+2+w,16);u[k+1]=this._encodeShort(z.x+2+H,0);u[k+1]|=this._encodeShort(z.y+2,16)}};c._encodeByte=function(k,u){return(k&255)<<u};c._encodeShort=function(k,u){return(k&65535)<<u};a._createClass(h,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return this._key&7}}]);return h}();d._encodingInfo={[f.EncodingType.R8_SIGNED]:{dataType:n.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},
[f.EncodingType.R8_UNSIGNED]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[f.EncodingType.R16_SIGNED]:{dataType:n.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},[f.EncodingType.R16_UNSIGNED]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[f.EncodingType.R8G8_SIGNED]:{dataType:n.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1},[f.EncodingType.R8G8_UNSIGNED]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},
[f.EncodingType.R16G16_SIGNED]:{dataType:n.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[f.EncodingType.R16G16_UNSIGNED]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},[f.EncodingType.R8G8B8A8_SIGNED]:{dataType:n.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[f.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[f.EncodingType.R8G8B8A8_COLOR]:{dataType:n.DataType.UNSIGNED_BYTE,bytesPerElement:1,
count:4,normalized:!0},[f.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[f.EncodingType.R16G16B16A16_PATTERN]:{dataType:n.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}};const r=h=>{switch(h){case n.DataType.FLOAT:return 4;case n.DataType.INT:return 4;case n.DataType.UNSIGNED_INT:return 4;case n.DataType.SHORT:return 2;case n.DataType.UNSIGNED_SHORT:return 2;case n.DataType.BYTE:return 1;case n.DataType.UNSIGNED_BYTE:return 1}},
e=(h,c,k)=>{c/=k;if(1===h)switch(c){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===h)switch(c){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===h)switch(c){case 0:return".xyz";case 1:return".yzw"}return""};b.VTLMaterial=d;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(b){return function(){function a(l){this._array=
[];0>=l&&console.error("strideInBytes must be positive!");this._stride=l}var v=a.prototype;v.reset=function(){this.array.length=0};v.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(l,f){return 65535&l|f<<16};a.i8888to32=function(l,f,n,p){return l&255|(f&255)<<8|(n&255)<<16|p<<24};a.i8816to32=function(l,f,n){return l&255|(f&255)<<8|n<<16};b._createClass(a,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/
this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return a}()})},"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],function(b){b.EncodingType=void 0;(function(a){a[a.R8_SIGNED=0]="R8_SIGNED";a[a.R8_UNSIGNED=1]="R8_UNSIGNED";a[a.R16_SIGNED=2]="R16_SIGNED";a[a.R16_UNSIGNED=3]="R16_UNSIGNED";a[a.R8G8_SIGNED=4]="R8G8_SIGNED";a[a.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";a[a.R16G16_SIGNED=6]="R16G16_SIGNED";
a[a.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";a[a.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";a[a.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";a[a.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR";a[a.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";a[a.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(b.EncodingType||(b.EncodingType={}));b.AttributeStatus=void 0;(function(a){a[a.UNIFORM=0]="UNIFORM";a[a.DATA_DRIVEN=1]="DATA_DRIVEN";a[a.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";a[a.UNUSED=3]="UNUSED"})(b.AttributeStatus||
(b.AttributeStatus={}));Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/enums":function(){define(["exports"],function(b){b.ClearBufferBit=void 0;(function(a){a[a.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";a[a.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";a[a.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(b.ClearBufferBit||(b.ClearBufferBit={}));b.PrimitiveType=void 0;(function(a){a[a.POINTS=0]="POINTS";a[a.LINES=1]="LINES";a[a.LINE_LOOP=2]="LINE_LOOP";a[a.LINE_STRIP=
3]="LINE_STRIP";a[a.TRIANGLES=4]="TRIANGLES";a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(b.PrimitiveType||(b.PrimitiveType={}));b.BlendFactor=void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.ONE=1]="ONE";a[a.SRC_COLOR=768]="SRC_COLOR";a[a.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";a[a.SRC_ALPHA=770]="SRC_ALPHA";a[a.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";a[a.DST_ALPHA=772]="DST_ALPHA";a[a.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";a[a.DST_COLOR=774]="DST_COLOR";
a[a.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";a[a.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";a[a.CONSTANT_COLOR=32769]="CONSTANT_COLOR";a[a.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR";a[a.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";a[a.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(b.BlendFactor||(b.BlendFactor={}));b.BlendOperation=void 0;(function(a){a[a.ADD=32774]="ADD";a[a.SUBTRACT=32778]="SUBTRACT";a[a.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(b.BlendOperation||
(b.BlendOperation={}));b.BufferType=void 0;(function(a){a[a.ARRAY_BUFFER=34962]="ARRAY_BUFFER";a[a.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";a[a.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";a[a.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER";a[a.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER";a[a.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";a[a.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"})(b.BufferType||(b.BufferType={}));b.Face=void 0;(function(a){a[a.FRONT=1028]="FRONT";a[a.BACK=1029]="BACK";a[a.FRONT_AND_BACK=
1032]="FRONT_AND_BACK"})(b.Face||(b.Face={}));b.CullMode=void 0;(function(a){a[a.CW=2304]="CW";a[a.CCW=2305]="CCW"})(b.CullMode||(b.CullMode={}));b.DataType=void 0;(function(a){a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.INT=5124]="INT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.FLOAT=5126]="FLOAT"})(b.DataType||(b.DataType={}));b.CompareFunction=void 0;(function(a){a[a.NEVER=512]="NEVER";a[a.LESS=513]="LESS";a[a.EQUAL=
514]="EQUAL";a[a.LEQUAL=515]="LEQUAL";a[a.GREATER=516]="GREATER";a[a.NOTEQUAL=517]="NOTEQUAL";a[a.GEQUAL=518]="GEQUAL";a[a.ALWAYS=519]="ALWAYS"})(b.CompareFunction||(b.CompareFunction={}));b.StencilOperation=void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.KEEP=7680]="KEEP";a[a.REPLACE=7681]="REPLACE";a[a.INCR=7682]="INCR";a[a.DECR=7683]="DECR";a[a.INVERT=5386]="INVERT";a[a.INCR_WRAP=34055]="INCR_WRAP";a[a.DECR_WRAP=34056]="DECR_WRAP"})(b.StencilOperation||(b.StencilOperation={}));b.TextureSamplingMode=
void 0;(function(a){a[a.NEAREST=9728]="NEAREST";a[a.LINEAR=9729]="LINEAR";a[a.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST";a[a.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST";a[a.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR";a[a.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(b.TextureSamplingMode||(b.TextureSamplingMode={}));b.TextureWrapMode=void 0;(function(a){a[a.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";a[a.REPEAT=10497]="REPEAT";a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(b.TextureWrapMode||
(b.TextureWrapMode={}));b.TextureType=void 0;(function(a){a[a.TEXTURE_2D=3553]="TEXTURE_2D";a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";a[a.TEXTURE_3D=32879]="TEXTURE_3D";a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";
a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(b.TextureType||(b.TextureType={}));b.PixelFormat=void 0;(function(a){a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.ALPHA=6406]="ALPHA";a[a.RGB=6407]="RGB";a[a.RGBA=6408]="RGBA";a[a.LUMINANCE=6409]="LUMINANCE";a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";a[a.RED=6403]="RED";a[a.RG=33319]="RG";a[a.RED_INTEGER=36244]="RED_INTEGER";a[a.RG_INTEGER=
33320]="RG_INTEGER";a[a.RGB_INTEGER=36248]="RGB_INTEGER";a[a.RGBA_INTEGER=36249]="RGBA_INTEGER"})(b.PixelFormat||(b.PixelFormat={}));b.SizedPixelFormat=void 0;(function(a){a[a.RGBA4=32854]="RGBA4";a[a.R16F=33325]="R16F";a[a.RG16F=33327]="RG16F";a[a.RGB32F=34837]="RGB32F";a[a.RGBA16F=34842]="RGBA16F";a[a.R32F=33326]="R32F";a[a.RG32F=33328]="RG32F";a[a.RGBA32F=34836]="RGBA32F";a[a.R11F_G11F_B10F=35898]="R11F_G11F_B10F";a[a.RGB8=32849]="RGB8";a[a.RGBA8=32856]="RGBA8";a[a.RGB5_A1=32855]="RGB5_A1";a[a.R8=
33321]="R8";a[a.RG8=33323]="RG8";a[a.R8I=33329]="R8I";a[a.R8UI=33330]="R8UI";a[a.R16I=33331]="R16I";a[a.R16UI=33332]="R16UI";a[a.R32I=33333]="R32I";a[a.R32UI=33334]="R32UI";a[a.RG8I=33335]="RG8I";a[a.RG8UI=33336]="RG8UI";a[a.RG16I=33337]="RG16I";a[a.RG16UI=33338]="RG16UI";a[a.RG32I=33339]="RG32I";a[a.RG32UI=33340]="RG32UI";a[a.RGB16F=34843]="RGB16F";a[a.RGB9_E5=35901]="RGB9_E5";a[a.SRGB8=35905]="SRGB8";a[a.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8";a[a.RGB565=36194]="RGB565";a[a.RGBA32UI=36208]="RGBA32UI";
a[a.RGB32UI=36209]="RGB32UI";a[a.RGBA16UI=36214]="RGBA16UI";a[a.RGB16UI=36215]="RGB16UI";a[a.RGBA8UI=36220]="RGBA8UI";a[a.RGB8UI=36221]="RGB8UI";a[a.RGBA32I=36226]="RGBA32I";a[a.RGB32I=36227]="RGB32I";a[a.RGBA16I=36232]="RGBA16I";a[a.RGB16I=36233]="RGB16I";a[a.RGBA8I=36238]="RGBA8I";a[a.RGB8I=36239]="RGB8I";a[a.R8_SNORM=36756]="R8_SNORM";a[a.RG8_SNORM=36757]="RG8_SNORM";a[a.RGB8_SNORM=36758]="RGB8_SNORM";a[a.RGBA8_SNORM=36759]="RGBA8_SNORM";a[a.RGB10_A2=32857]="RGB10_A2";a[a.RGB10_A2UI=36975]="RGB10_A2UI"})(b.SizedPixelFormat||
(b.SizedPixelFormat={}));b.PixelType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8";a[a.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4";a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.INT=5124]="INT";a[a.HALF_FLOAT=
5131]="HALF_FLOAT";a[a.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";a[a.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";a[a.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";a[a.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(b.PixelType||(b.PixelType={}));b.RenderbufferFormat=void 0;(function(a){a[a.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";a[a.STENCIL_INDEX8=36168]="STENCIL_INDEX8";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";
a[a.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24";a[a.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";a[a.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";a[a.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"})(b.RenderbufferFormat||(b.RenderbufferFormat={}));b.Usage=void 0;(function(a){a[a.STATIC_DRAW=35044]="STATIC_DRAW";a[a.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";a[a.STREAM_DRAW=35040]="STREAM_DRAW";a[a.STATIC_READ=35045]="STATIC_READ";a[a.DYNAMIC_READ=35049]="DYNAMIC_READ";a[a.STREAM_READ=35041]="STREAM_READ";
a[a.STATIC_COPY=35046]="STATIC_COPY";a[a.DYNAMIC_COPY=35050]="DYNAMIC_COPY";a[a.STREAM_COPY=35042]="STREAM_COPY"})(b.Usage||(b.Usage={}));b.ShaderType=void 0;(function(a){a[a.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER";a[a.VERTEX_SHADER=35633]="VERTEX_SHADER"})(b.ShaderType||(b.ShaderType={}));b.FramebufferTarget=void 0;(function(a){a[a.FRAMEBUFFER=36160]="FRAMEBUFFER";a[a.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";a[a.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(b.FramebufferTarget||(b.FramebufferTarget=
{}));b.TargetType=void 0;(function(a){a[a.TEXTURE=0]="TEXTURE";a[a.RENDER_BUFFER=1]="RENDER_BUFFER";a[a.CUBEMAP=2]="CUBEMAP"})(b.TargetType||(b.TargetType={}));b.DepthStencilTargetType=void 0;(function(a){a[a.NONE=0]="NONE";a[a.DEPTH_RENDER_BUFFER=1]="DEPTH_RENDER_BUFFER";a[a.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER";a[a.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER";a[a.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"})(b.DepthStencilTargetType||(b.DepthStencilTargetType={}));
b.ResourceType=void 0;(function(a){a[a.Texture=0]="Texture";a[a.BufferObject=1]="BufferObject";a[a.VertexArrayObject=2]="VertexArrayObject";a[a.Shader=3]="Shader";a[a.Program=4]="Program";a[a.FramebufferObject=5]="FramebufferObject";a[a.Renderbuffer=6]="Renderbuffer";a[a.Sync=7]="Sync";a[a.COUNT=8]="COUNT"})(b.ResourceType||(b.ResourceType={}));b.ColorAttachment=void 0;(function(a){a[a.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0";a[a.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";a[a.COLOR_ATTACHMENT2=
36066]="COLOR_ATTACHMENT2";a[a.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3";a[a.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";a[a.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";a[a.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6";a[a.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";a[a.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8";a[a.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";a[a.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";a[a.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11";a[a.COLOR_ATTACHMENT12=36076]=
"COLOR_ATTACHMENT12";a[a.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";a[a.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";a[a.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(b.ColorAttachment||(b.ColorAttachment={}));b.CompressedTextureFormat=void 0;(function(a){a[a.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT5_EXT=
33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";a[a.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";a[a.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";a[a.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";a[a.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";a[a.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2";a[a.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";a[a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=
37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";a[a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(b.CompressedTextureFormat||(b.CompressedTextureFormat={}));b.UniformType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.FLOAT_VEC2=35664]="FLOAT_VEC2";a[a.FLOAT_VEC3=35665]="FLOAT_VEC3";a[a.FLOAT_VEC4=35666]="FLOAT_VEC4";a[a.INT=5124]="INT";a[a.INT_VEC2=35667]="INT_VEC2";a[a.INT_VEC3=35668]="INT_VEC3";
a[a.INT_VEC4=35669]="INT_VEC4";a[a.BOOL=35670]="BOOL";a[a.BOOL_VEC2=35671]="BOOL_VEC2";a[a.BOOL_VEC3=35672]="BOOL_VEC3";a[a.BOOL_VEC4=35673]="BOOL_VEC4";a[a.FLOAT_MAT2=35674]="FLOAT_MAT2";a[a.FLOAT_MAT3=35675]="FLOAT_MAT3";a[a.FLOAT_MAT4=35676]="FLOAT_MAT4";a[a.SAMPLER_2D=35678]="SAMPLER_2D";a[a.SAMPLER_CUBE=35680]="SAMPLER_CUBE";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";a[a.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";a[a.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";
a[a.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";a[a.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";a[a.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";a[a.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";a[a.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";a[a.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";a[a.SAMPLER_3D=35679]="SAMPLER_3D";a[a.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";a[a.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";a[a.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";a[a.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";a[a.INT_SAMPLER_2D=36298]=
"INT_SAMPLER_2D";a[a.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";a[a.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";a[a.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";a[a.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";a[a.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";a[a.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";a[a.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(b.UniformType||(b.UniformType={}));b.SyncParameter=void 0;(function(a){a[a.OBJECT_TYPE=
37138]="OBJECT_TYPE";a[a.SYNC_CONDITION=37139]="SYNC_CONDITION";a[a.SYNC_STATUS=37140]="SYNC_STATUS";a[a.SYNC_FLAGS=37141]="SYNC_FLAGS"})(b.SyncParameter||(b.SyncParameter={}));b.SyncStatus=void 0;(function(a){a[a.UNSIGNALED=37144]="UNSIGNALED";a[a.SIGNALED=37145]="SIGNALED"})(b.SyncStatus||(b.SyncStatus={}));b.ClientWaitSyncStatus=void 0;(function(a){a[a.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";a[a.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";a[a.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";a[a.WAIT_FAILED=
37149]="WAIT_FAILED"})(b.ClientWaitSyncStatus||(b.ClientWaitSyncStatus={}));b.SyncCondition=void 0;(function(a){a[a.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"})(b.SyncCondition||(b.SyncCondition={}));b.SyncFlag=void 0;(function(a){a[a.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT"})(b.SyncFlag||(b.SyncFlag={}));b.BASE_TEXTURE_UNIT=33984;b.DepthStencilAttachment=33306;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],
function(b){b.VertexElementDescriptor=function(a,v,l,f,n,p=!1,d=0){this.name=a;this.count=v;this.type=l;this.offset=f;this.stride=n;this.normalized=p;this.divisor=d};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,v,l,f,n){l=function(p){function d(e){return p.call(this,
e)||this}a._inheritsLoose(d,p);var r=d.prototype;r.geometryInfo=function(){return d.GEOMETRY_LAYOUT};r.opacityInfo=function(){return null};r.attributes=function(){return d.ATTRIBUTES};r.attributesInfo=function(){return d.ATTRIBUTES_INFO};return d}(l.VTLMaterial);l.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");l.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,4)];l.ATTRIBUTES_INFO=
{"circle-radius":{name:"radius",type:v.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:v.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:v.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-blur":{name:"blur",
type:v.EncodingType.R8_UNSIGNED,precisionFactor:32}};b.VTLCircleMaterial=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,v,l,f,n){let p=function(d){function r(h){return d.call(this,h)||this}a._inheritsLoose(r,d);var e=r.prototype;e.geometryInfo=
function(){return r.GEOMETRY_LAYOUT};e.opacityInfo=function(){return null};e.attributes=function(){return r.ATTRIBUTES};e.attributesInfo=function(){return r.ATTRIBUTES_INFO};return r}(l.VTLMaterial);p.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];p.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,4)];p.ATTRIBUTES_INFO={"fill-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100},
"fill-pattern":{name:"tlbr",type:v.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};l=function(d){function r(h,c){h=d.call(this,h)||this;h._usefillColor=c;return h}a._inheritsLoose(r,d);var e=r.prototype;e.geometryInfo=function(){return r.GEOMETRY_LAYOUT};e.opacityInfo=function(){return null};e.attributes=function(){return this._usefillColor?r.ATTRIBUTES_FILL:r.ATTRIBUTES_OUTLINE};e.attributesInfo=function(){return this._usefillColor?r.ATTRIBUTES_INFO_FILL:r.ATTRIBUTES_INFO_OUTLINE};return r}(l.VTLMaterial);
l.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];l.ATTRIBUTES_FILL=["fill-color","fill-opacity"];l.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,8),new n.VertexElementDescriptor("a_offset",2,f.DataType.BYTE,4,8),new n.VertexElementDescriptor("a_xnormal",2,f.DataType.BYTE,6,8)];l.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100}};
l.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100}};b.VTLFillMaterial=p;b.VTLOutlineMaterial=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,v,l,f,n){l=function(p){function d(e){return p.call(this,e)||this}a._inheritsLoose(d,p);var r=d.prototype;r.geometryInfo=function(){return d.GEOMETRY_LAYOUT};r.opacityInfo=function(){return null};r.attributes=function(){return d.ATTRIBUTES};r.attributesInfo=function(){return d.ATTRIBUTES_INFO};return d}(l.VTLMaterial);l.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");l.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",
2,f.DataType.SHORT,0,16),new n.VertexElementDescriptor("a_extrude_offset",4,f.DataType.BYTE,4,16),new n.VertexElementDescriptor("a_dir_normal",4,f.DataType.BYTE,8,16),new n.VertexElementDescriptor("a_accumulatedDistance",2,f.DataType.UNSIGNED_SHORT,12,16)];l.ATTRIBUTES_INFO={"line-width":{name:"width",type:v.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:v.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:v.EncodingType.R8_SIGNED,precisionFactor:2},
"line-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:v.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:v.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:v.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};b.VTLLineMaterial=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,v,l,f,n){const p=[new n.VertexElementDescriptor("a_pos",2,f.DataType.SHORT,0,16),new n.VertexElementDescriptor("a_vertexOffset",2,f.DataType.SHORT,4,16),new n.VertexElementDescriptor("a_texAngleRange",4,f.DataType.UNSIGNED_BYTE,8,16),new n.VertexElementDescriptor("a_levelInfo",4,f.DataType.UNSIGNED_BYTE,12,16)],d=[new n.VertexElementDescriptor("a_opacityInfo",1,f.DataType.UNSIGNED_BYTE,0,1)];f=function(r){function e(c){return r.call(this,c)||this}a._inheritsLoose(e,r);var h=e.prototype;
h.geometryInfo=function(){return p};h.opacityInfo=function(){return d};h.attributes=function(){return e.ATTRIBUTES};h.attributesInfo=function(){return e.ATTRIBUTES_INFO};return e}(l.VTLMaterial);f.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");f.ATTRIBUTES_INFO={"icon-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",
type:v.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:v.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:v.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:v.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};l=function(r){function e(c){return r.call(this,c)||this}a._inheritsLoose(e,r);var h=e.prototype;h.geometryInfo=function(){return p};h.opacityInfo=function(){return d};h.attributes=function(){return e.ATTRIBUTES};
h.attributesInfo=function(){return e.ATTRIBUTES_INFO};return e}(l.VTLMaterial);l.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");l.ATTRIBUTES_INFO={"text-color":{name:"color",type:v.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:v.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:v.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:v.EncodingType.R8_UNSIGNED,precisionFactor:4},
"text-halo-blur":{name:"halo_blur",type:v.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:v.EncodingType.R8_UNSIGNED,isLayout:!0}};b.VTLIconMaterial=f;b.VTLTextMaterial=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(b,a){return function(){function v(l){this._expression=l}v.prototype.filter=function(l,f){if(!this._expression)return!0;
try{return this._expression.evaluate(l,f)}catch(n){return console.log(n.message),!0}};v.createFilter=function(l){if(!l)return null;this.isLegacyFilter(l)&&(l=this.convertLegacyFilter(l));try{const f=b.createExpression(l,null,a.BooleanType);return new v(f)}catch(f){return console.log(f.message),null}};v.isLegacyFilter=function(l){if(!Array.isArray(l)||0===l.length)return!0;switch(l[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===l.length&&"string"===
typeof l[1]&&!Array.isArray(l[2]);case "in":return 3<=l.length&&"string"===typeof l[1]&&!Array.isArray(l[2]);case "!in":return!0;case "any":case "all":for(let f=1;f<l.length;f++)if(this.isLegacyFilter(l[f]))return!0;return!1;case "none":return!0;case "has":return 2===l.length&&("$id"===l[1]||"$type"===l[1]);case "!has":return!0;default:return!1}};v.convertLegacyFilter=function(l){if(!Array.isArray(l)||0===l.length)return!0;const f=l[0];if(1===l.length)return"any"!==f;switch(f){case "\x3d\x3d":return v.convertComparison("\x3d\x3d",
l[1],l[2]);case "!\x3d":return v.negate(v.convertComparison("\x3d\x3d",l[1],l[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return v.convertComparison(f,l[1],l[2]);case "in":return v.convertIn(l[1],l.slice(2));case "!in":return v.negate(v.convertIn(l[1],l.slice(2)));case "any":case "all":case "none":return v.convertCombining(f,l.slice(1));case "has":return v.convertHas(l[1]);case "!has":return v.negate(v.convertHas(l[1]));default:throw Error("Unexpected legacy filter.");}};v.convertComparison=
function(l,f,n){switch(f){case "$type":return[l,["geometry-type"],n];case "$id":return[l,["id"],n];default:return[l,["get",f],n]}};v.convertIn=function(l,f){switch(l){case "$type":return["in",["geometry-type"],["literal",f]];case "$id":return["in",["id"],["literal",f]];default:return["in",["get",l],["literal",f]]}};v.convertHas=function(l){switch(l){case "$type":return!0;case "$id":return["has-id"];default:return["has",l]}};v.convertCombining=function(l,f){return[l].concat(f.map(this.convertLegacyFilter))};
v.negate=function(l){return["!",l]};return v}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/colorUtils ../../../../../geometry/support/TileClipper ../../../unitBezier ../GeometryUtils ./types".split(" "),function(b,a,v,l,f,n,p,d){function r(q,g,m){var y=typeof q;if("string"===y||"boolean"===y||"number"===y||null===q){if(m)switch(m.kind){case "string":"string"!==y&&(q=
ha.toString(q));break;case "number":"number"!==y&&(q=ha.toNumber(q));break;case "color":q=ha.toColor(q)}q=["literal",q]}if(!Array.isArray(q)||0===q.length)throw Error("Expression must be a non empty array");y=q[0];if("string"!==typeof y)throw Error("First element of expression must be a string");const A=na[y];if(void 0===A)throw Error(`Invalid expression operator "${y}"`);if(!A)throw Error(`Unimplemented expression operator "${y}"`);return A.parse(q,g,m)}let e=function(){function q(m){this._parent=
m;this._vars={}}var g=q.prototype;g.add=function(m,y){this._vars[m]=y};g.get=function(m){return this._vars[m]?this._vars[m]:this._parent?this._parent.get(m):null};return q}(),h=function(){function q(){this.type=d.ValueType}q.parse=function(g){if(1<g.length)throw Error('"id" does not expect arguments');return new q};q.prototype.evaluate=function(g,m){return g?.id};return q}(),c=function(){function q(){this.type=d.StringType}q.parse=function(g){if(1<g.length)throw Error('"geometry-type" does not expect arguments');
return new q};q.prototype.evaluate=function(g,m){if(!g)return null;switch(g.type){case f.GeometryType.Point:return"Point";case f.GeometryType.LineString:return"LineString";case f.GeometryType.Polygon:return"Polygon";default:return null}};return q}(),k=function(){function q(){this.type=d.ObjectType}q.parse=function(g){if(1<g.length)throw Error('"properties" does not expect arguments');return new q};q.prototype.evaluate=function(g,m){return g?.values};return q}(),u=function(){function q(){this.type=
d.NumberType}q.parse=function(g){if(1<g.length)throw Error('"zoom" does not expect arguments');return new q};q.prototype.evaluate=function(g,m){return m};return q}(),w=function(){function q(g,m,y){this._lhs=g;this._rhs=m;this._compare=y;this.type=d.BooleanType}q.parse=function(g,m,y){if(3!==g.length&&4!==g.length)throw Error(`"${g[0]}" expects 2 or 3 arguments`);if(4===g.length)throw Error(`"${g[0]}" collator not supported`);return new q(r(g[1],m),r(g[2],m),y)};q.prototype.evaluate=function(g,m){return this._compare(this._lhs.evaluate(g,
m),this._rhs.evaluate(g,m))};return q}(),z=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return w.parse(m,y,(A,J)=>A===J)};return g}(w),H=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return w.parse(m,y,(A,J)=>A!==J)};return g}(w),B=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return w.parse(m,y,(A,J)=>A<J)};return g}(w),
D=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return w.parse(m,y,(A,J)=>A<=J)};return g}(w),G=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return w.parse(m,y,(A,J)=>A>J)};return g}(w),I=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return w.parse(m,y,(A,J)=>A>=J)};return g}(w),C=function(){function q(g){this._arg=g;this.type=
d.BooleanType}q.parse=function(g,m){if(2!==g.length)throw Error('"!" expects 1 argument');return new q(r(g[1],m))};q.prototype.evaluate=function(g,m){return!this._arg.evaluate(g,m)};return q}(),x=function(){function q(g){this._args=g;this.type=d.BooleanType}q.parse=function(g,m){const y=[];for(let A=1;A<g.length;A++)y.push(r(g[A],m));return new q(y)};q.prototype.evaluate=function(g,m){for(const y of this._args)if(!y.evaluate(g,m))return!1;return!0};return q}(),t=function(){function q(g){this._args=
g;this.type=d.BooleanType}q.parse=function(g,m){const y=[];for(let A=1;A<g.length;A++)y.push(r(g[A],m));return new q(y)};q.prototype.evaluate=function(g,m){for(const y of this._args)if(y.evaluate(g,m))return!0;return!1};return q}(),F=function(){function q(g){this._args=g;this.type=d.BooleanType}q.parse=function(g,m){const y=[];for(let A=1;A<g.length;A++)y.push(r(g[A],m));return new q(y)};q.prototype.evaluate=function(g,m){for(const y of this._args)if(y.evaluate(g,m))return!1;return!0};return q}(),
E=function(){function q(g,m,y){this.type=g;this._args=m;this._fallback=y}q.parse=function(g,m,y){if(4>g.length)throw Error('"case" expects at least 3 arguments');if(1===g.length%2)throw Error('"case" expects an odd number of arguments');let A;const J=[];for(let P=1;P<g.length-1;P+=2){const W=r(g[P],m),S=r(g[P+1],m,y);A||(A=S.type);J.push({condition:W,output:S})}g=r(g[g.length-1],m,y);A||(A=g.type);return new q(A,J,g)};q.prototype.evaluate=function(g,m){for(const y of this._args)if(y.condition.evaluate(g,
m))return y.output.evaluate(g,m);return this._fallback.evaluate(g,m)};return q}(),K=function(){function q(g,m){this.type=g;this._args=m}q.parse=function(g,m){if(2>g.length)throw Error('"coalesce" expects at least 1 argument');let y;const A=[];for(let J=1;J<g.length;J++){const P=r(g[J],m);y||(y=P.type);A.push(P)}return new q(y,A)};q.prototype.evaluate=function(g,m){for(const y of this._args){const A=y.evaluate(g,m);if(null!==A)return A}return null};return q}(),O=function(){function q(g,m,y,A,J){this.type=
g;this._input=m;this._labels=y;this._outputs=A;this._fallback=J}q.parse=function(g,m){if(3>g.length)throw Error('"match" expects at least 3 arguments');if(0===g.length%2)throw Error('"case" expects an even number of arguments');let y;const A=r(g[1],m),J=[],P={};let W;for(let ca=2;ca<g.length-1;ca+=2){var S=g[ca];Array.isArray(S)||(S=[S]);for(const ia of S){S=typeof ia;if("string"!==S&&"number"!==S)throw Error('"match" requires string or number literal as labels');if(!W)W=S;else if(S!==W)throw Error('"match" requires labels to have the same type');
P[ia]=J.length}S=r(g[ca+1],m);y||(y=S.type);J.push(S)}return new q(y,A,P,J,r(g[g.length-1],m))};q.prototype.evaluate=function(g,m){const y=this._input.evaluate(g,m);return(this._outputs[this._labels[y]]||this._fallback).evaluate(g,m)};return q}(),N=function(){function q(m,y,A,J,P){this._operator=m;this.type=y;this.interpolation=A;this.input=J;this._stops=P}q.parse=function(m,y,A){const J=m[0];if(5>m.length)throw Error(`"${J}" expects at least 4 arguments`);const P=m[1];if(!Array.isArray(P)||0===P.length)throw Error(`"${P}" is not a valid interpolation`);
switch(P[0]){case "linear":if(1!==P.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==P.length||"number"!==typeof P[1])throw Error("Exponential interpolation requires one numeric argument");break;case "cubic-bezier":if(5!==P.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var W=1;5>W;W++){var S=P[W];if("number"!==typeof S||0>S||1<S)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");
}break;default:throw Error(`"${m[0]}" unknown interpolation type "${P[0]}"`);}if(1!==m.length%2)throw Error(`"${J}" expects an even number of arguments`);W=r(m[2],y,d.NumberType);let ca;"interpolate-hcl"===J||"interpolate-lab"===J?ca=d.ColorType:A&&"value"!==A.kind&&(ca=A);A=[];for(S=3;S<m.length;S+=2){const ia=m[S];if("number"!==typeof ia)throw Error(`"${J}" requires stop inputs as literal numbers`);if(A.length&&A[A.length-1][0]>=ia)throw Error(`"${J}" requires strictly ascending stop inputs`);const oa=
r(m[S+1],y,ca);ca||(ca=oa.type);A.push([ia,oa])}if(ca&&ca!==d.ColorType&&ca!==d.NumberType&&("array"!==ca.kind||ca.itemType!==d.NumberType))throw Error(`"${J}" cannot interpolate type ${d.typeToString(ca)}`);return new q(J,ca,P,W,A)};var g=q.prototype;g.evaluate=function(m,y){var A=this._stops;if(1===A.length)return A[0][1].evaluate(m,y);var J=this.input.evaluate(m,y);if(J<=A[0][0])return A[0][1].evaluate(m,y);if(J>=A[A.length-1][0])return A[A.length-1][1].evaluate(m,y);let P=0;for(;++P<A.length&&
!(J<A[P][0]););const W=q.interpolationRatio(this.interpolation,J,A[P-1][0],A[P][0]);J=A[P-1][1].evaluate(m,y);const S=A[P][1].evaluate(m,y);if("interpolate"===this._operator){if("array"===this.type.kind&&Array.isArray(J)&&Array.isArray(S))return J.map((ca,ia)=>p.interpolate(ca,S[ia],W));if("color"===this.type.kind&&J instanceof v&&S instanceof v)return J=new v(J),m=new v(S),new v([p.interpolate(J.r,m.r,W),p.interpolate(J.g,m.g,W),p.interpolate(J.b,m.b,W),p.interpolate(J.a,m.a,W)]);if("number"===this.type.kind&&
"number"===typeof J&&"number"===typeof S)return p.interpolate(J,S,W);throw Error(`"${this._operator}" cannot interpolate type ${d.typeToString(this.type)}`);}if("interpolate-hcl"===this._operator)return m=l.toLCH(J),y=l.toLCH(S),A=y.h-m.h,m=l.toRGB({h:m.h+W*(180<A||-180>A?A-360*Math.round(A/360):A),c:p.interpolate(m.c,y.c,W),l:p.interpolate(m.l,y.l,W)}),new v({a:p.interpolate(J.a,S.a,W),...m});if("interpolate-lab"===this._operator)return m=l.toLAB(J),y=l.toLAB(S),m=l.toRGB({l:p.interpolate(m.l,y.l,
W),a:p.interpolate(m.a,y.a,W),b:p.interpolate(m.b,y.b,W)}),new v({a:p.interpolate(J.a,S.a,W),...m});throw Error(`Unexpected operator "${this._operator}"`);};g.interpolationUniformValue=function(m,y){const A=this._stops;if(1===A.length||m>=A[A.length-1][0])return 0;let J=0;for(;++J<A.length&&!(m<A[J][0]););return q.interpolationRatio(this.interpolation,y,A[J-1][0],A[J][0])};g.getInterpolationRange=function(m){const y=this._stops;if(1===y.length)return m=y[0][0],[m,m];var A=y[y.length-1][0];if(m>=A)return[A,
A];for(A=0;++A<y.length&&!(m<y[A][0]););return[y[A-1][0],y[A][0]]};q.interpolationRatio=function(m,y,A,J){let P=0;"linear"===m[0]?P=q._exponentialInterpolationRatio(y,1,A,J):"exponential"===m[0]?P=q._exponentialInterpolationRatio(y,m[1],A,J):"cubic-bezier"===m[0]&&(P=n.unitBezier(m[1],m[2],m[3],m[4])(q._exponentialInterpolationRatio(y,1,A,J),1E-5));0>P?P=0:1<P&&(P=1);return P};q._exponentialInterpolationRatio=function(m,y,A,J){J-=A;if(0===J)return 0;m-=A;return 1===y?m/J:(y**m-1)/(y**J-1)};return q}(),
Q=function(){function q(g,m,y){this.type=g;this._input=m;this._stops=y}q.parse=function(g,m){if(5>g.length)throw Error('"step" expects at least 4 arguments');if(1!==g.length%2)throw Error('"step" expects an even number of arguments');const y=r(g[1],m,d.NumberType);let A;const J=[];J.push([-Infinity,r(g[2],m)]);for(let P=3;P<g.length;P+=2){const W=g[P];if("number"!==typeof W)throw Error('"step" requires stop inputs as literal numbers');if(J.length&&J[J.length-1][0]>=W)throw Error('"step" requires strictly ascending stop inputs');
const S=r(g[P+1],m);A||(A=S.type);J.push([W,S])}return new q(A,y,J)};q.prototype.evaluate=function(g,m){const y=this._stops;if(1===y.length)return y[0][1].evaluate(g,m);const A=this._input.evaluate(g,m);let J=0;for(;++J<y.length&&!(A<y[J][0]););return this._stops[J-1][1].evaluate(g,m)};return q}(),R=function(){function q(g,m){this.type=g;this._output=m}q.parse=function(g,m,y){if(4>g.length)throw Error('"let" expects at least 3 arguments');if(1===g.length%2)throw Error('"let" expects an odd number of arguments');
const A=new e(m);for(let J=1;J<g.length-1;J+=2){const P=g[J];if("string"!==typeof P)throw Error(`"let" requires a string to define variable names - found ${P}`);A.add(P,r(g[J+1],m))}g=r(g[g.length-1],A,y);return new q(g.type,g)};q.prototype.evaluate=function(g,m){return this._output.evaluate(g,m)};return q}(),T=function(){function q(g,m){this.type=g;this.output=m}q.parse=function(g,m,y){if(2!==g.length||"string"!==typeof g[1])throw Error('"var" requires just one literal string argument');m=m.get(g[1]);
if(!m)throw Error(`${g[1]} must be defined before being used in a "var" expression`);return new q(y||d.ValueType,m)};q.prototype.evaluate=function(g,m){return this.output.evaluate(g,m)};return q}(),U=function(){function q(g,m,y){this.type=g;this._index=m;this._array=y}q.parse=function(g,m){if(3!==g.length)throw Error('"at" expects 2 arguments');const y=r(g[1],m,d.NumberType);g=r(g[2],m);return new q(g.type.itemType,y,g)};q.prototype.evaluate=function(g,m){const y=this._index.evaluate(g,m);g=this._array.evaluate(g,
m);if(0>y||y>=g.length)throw Error('"at" index out of bounds');if(y!==Math.floor(y))throw Error('"at" index must be an integer');return g[y]};return q}(),X=function(){function q(g,m){this._key=g;this._obj=m;this.type=d.ValueType}q.parse=function(g,m){let y;switch(g.length){case 2:return y=r(g[1],m),new q(y);case 3:return y=r(g[1],m),g=r(g[2],m),new q(y,g);default:throw Error('"get" expects 1 or 2 arguments');}};q.prototype.evaluate=function(g,m){const y=this._key.evaluate(g,m);return this._obj?this._obj.evaluate(g,
m)[y]:g?.values[y]};return q}(),aa=function(){function q(g,m){this._key=g;this._obj=m;this.type=d.BooleanType}q.parse=function(g,m){let y;switch(g.length){case 2:return y=r(g[1],m),new q(y);case 3:return y=r(g[1],m),g=r(g[2],m),new q(y,g);default:throw Error('"has" expects 1 or 2 arguments');}};q.prototype.evaluate=function(g,m){const y=this._key.evaluate(g,m);return this._obj?(g=this._obj.evaluate(g,m),y in g):!!g?.values[y]};return q}(),ea=function(){function q(g,m){this._key=g;this._vals=m;this.type=
d.BooleanType}q.parse=function(g,m){if(3!==g.length)throw Error('"in" expects 2 arguments');return new q(r(g[1],m),r(g[2],m))};q.prototype.evaluate=function(g,m){const y=this._key.evaluate(g,m);return this._vals.evaluate(g,m).includes(y)};return q}(),fa=function(){function q(g,m,y){this._item=g;this._array=m;this._from=y;this.type=d.NumberType}q.parse=function(g,m){if(3>g.length||4<g.length)throw Error('"index-of" expects 3 or 4 arguments');const y=r(g[1],m),A=r(g[2],m);return 4===g.length?(g=r(g[3],
m,d.NumberType),new q(y,A,g)):new q(y,A)};q.prototype.evaluate=function(g,m){const y=this._item.evaluate(g,m),A=this._array.evaluate(g,m);if(this._from){g=this._from.evaluate(g,m);if(g!==Math.floor(g))throw Error('"index-of" index must be an integer');return A.indexOf(y,g)}return A.indexOf(y)};return q}(),ja=function(){function q(g){this._arg=g;this.type=d.NumberType}q.parse=function(g,m){if(2!==g.length)throw Error('"length" expects 2 arguments');g=r(g[1],m);return new q(g)};q.prototype.evaluate=
function(g,m){g=this._arg.evaluate(g,m);if("string"===typeof g||Array.isArray(g))return g.length;throw Error('"length" expects string or array');};return q}(),Y=function(){function q(g,m,y,A){this.type=g;this._array=m;this._from=y;this._to=A}q.parse=function(g,m){if(3>g.length||4<g.length)throw Error('"slice" expects 2 or 3 arguments');const y=r(g[1],m),A=r(g[2],m,d.NumberType);if(A.type!==d.NumberType)throw Error('"slice" index must return a number');if(4===g.length){g=r(g[3],m,d.NumberType);if(g.type!==
d.NumberType)throw Error('"slice" index must return a number');return new q(y.type,y,A,g)}return new q(y.type,y,A)};q.prototype.evaluate=function(g,m){const y=this._array.evaluate(g,m);if(!Array.isArray(y)&&"string"!==typeof y)throw Error('"slice" input must be an array or a string');const A=this._from.evaluate(g,m);if(0>A||A>=y.length)throw Error('"slice" index out of bounds');if(A!==Math.floor(A))throw Error('"slice" index must be an integer');if(this._to){g=this._to.evaluate(g,m);if(0>g||g>=y.length)throw Error('"slice" index out of bounds');
if(g!==Math.floor(g))throw Error('"slice" index must be an integer');return y.slice(A,g)}return y.slice(A)};return q}(),L=function(){function q(){this.type=d.BooleanType}q.parse=function(g){if(1!==g.length)throw Error('"has-id" expects no arguments');return new q};q.prototype.evaluate=function(g,m){return g&&void 0!==g.id};return q}(),M=function(){function q(g,m){this._args=g;this._calculate=m;this.type=d.NumberType}q.parse=function(g,m,y){g=g.slice(1).map(A=>r(A,m));return new q(g,y)};q.prototype.evaluate=
function(g,m){let y;this._args&&(y=this._args.map(A=>A.evaluate(g,m)));return this._calculate(y)};return q}(),V=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){switch(m.length){case 2:return M.parse(m,y,A=>-A[0]);case 3:return M.parse(m,y,A=>A[0]-A[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return g}(M),Z=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return M.parse(m,
y,A=>{let J=1;for(const P of A)J*=P;return J})};return g}(M),da=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){if(3===m.length)return M.parse(m,y,A=>A[0]/A[1]);throw Error('"/" expects 2 arguments');};return g}(M),ka=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){if(3===m.length)return M.parse(m,y,A=>A[0]%A[1]);throw Error('"%" expects 2 arguments');};return g}(M),pa=function(q){function g(){return q.apply(this,
arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){if(3===m.length)return M.parse(m,y,A=>A[0]**A[1]);throw Error('"^" expects 1 or 2 arguments');};return g}(M),qa=function(q){function g(){return q.apply(this,arguments)||this}a._inheritsLoose(g,q);g.parse=function(m,y){return M.parse(m,y,A=>{let J=0;for(const P of A)J+=P;return J})};return g}(M),ba=function(){function q(g,m){this._args=g;this._calculate=m;this.type=d.NumberType}q.parse=function(g,m){const y=g.slice(1).map(A=>r(A,m));return new q(y,
q.ops[g[0]])};q.prototype.evaluate=function(g,m){let y;this._args&&(y=this._args.map(A=>A.evaluate(g,m)));return this._calculate(y)};return q}();ba.ops={abs:q=>Math.abs(q[0]),acos:q=>Math.acos(q[0]),asin:q=>Math.asin(q[0]),atan:q=>Math.atan(q[0]),ceil:q=>Math.ceil(q[0]),cos:q=>Math.cos(q[0]),e:()=>Math.E,floor:q=>Math.floor(q[0]),ln:q=>Math.log(q[0]),ln2:()=>Math.LN2,log10:q=>Math.log(q[0])/Math.LN10,log2:q=>Math.log(q[0])/Math.LN2,max:q=>Math.max(...q),min:q=>Math.min(...q),pi:()=>Math.PI,round:q=>
Math.round(q[0]),sin:q=>Math.sin(q[0]),sqrt:q=>Math.sqrt(q[0]),tan:q=>Math.tan(q[0])};let ra=function(){function q(g){this._args=g;this.type=d.StringType}q.parse=function(g,m){return new q(g.slice(1).map(y=>r(y,m)))};q.prototype.evaluate=function(g,m){return this._args.map(y=>y.evaluate(g,m)).join("")};return q}(),ma=function(){function q(g,m){this._arg=g;this._calculate=m;this.type=d.StringType}q.parse=function(g,m){if(2!==g.length)throw Error(`${g[0]} expects 1 argument`);m=r(g[1],m);return new q(m,
q.ops[g[0]])};q.prototype.evaluate=function(g,m){return this._calculate(this._arg.evaluate(g,m))};return q}();ma.ops={downcase:q=>q.toLowerCase(),upcase:q=>q.toUpperCase()};let sa=function(){function q(m){this._args=m;this.type=d.ColorType}q.parse=function(m,y){if(4!==m.length)throw Error('"rgb" expects 3 arguments');m=m.slice(1).map(A=>r(A,y));return new q(m)};var g=q.prototype;g.evaluate=function(m,y){const A=this._validate(this._args[0].evaluate(m,y)),J=this._validate(this._args[1].evaluate(m,
y));m=this._validate(this._args[2].evaluate(m,y));return new v({r:A,g:J,b:m})};g._validate=function(m){if("number"!==typeof m||0>m||255<m)throw Error(`${m}: invalid color component`);return Math.round(m)};return q}(),ta=function(){function q(m){this._args=m;this.type=d.ColorType}q.parse=function(m,y){if(5!==m.length)throw Error('"rgba" expects 4 arguments');m=m.slice(1).map(A=>r(A,y));return new q(m)};var g=q.prototype;g.evaluate=function(m,y){const A=this._validate(this._args[0].evaluate(m,y)),J=
this._validate(this._args[1].evaluate(m,y)),P=this._validate(this._args[2].evaluate(m,y));m=this._validateAlpha(this._args[3].evaluate(m,y));return new v({r:A,g:J,b:P,a:m})};g._validate=function(m){if("number"!==typeof m||0>m||255<m)throw Error(`${m}: invalid color component`);return Math.round(m)};g._validateAlpha=function(m){if("number"!==typeof m||0>m||1<m)throw Error(`${m}: invalid alpha color component`);return m};return q}(),ua=function(){function q(g){this._color=g;this.type=d.arrayType(d.NumberType,
4)}q.parse=function(g,m){if(2!==g.length)throw Error('"to-rgba" expects 1 argument');g=r(g[1],m);return new q(g)};q.prototype.evaluate=function(g,m){return(new v(this._color.evaluate(g,m))).toRgba()};return q}(),la=function(){function q(g,m){this.type=g;this._args=m}q.parse=function(g,m){var y=g[0];if(2>g.length)throw Error(`${y} expects at least one argument`);let A=1,J;if("array"===y){if(2<g.length){switch(g[1]){case "string":J=d.StringType;break;case "number":J=d.NumberType;break;case "boolean":J=
d.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');}A++}else J=d.ValueType;if(3<g.length){var P=g[2];if(null!==P&&("number"!==typeof P||0>P||P!==Math.floor(P)))throw Error('"array" length argument must be a positive integer literal');A++}J=d.arrayType(J,P)}else switch(y){case "string":J=d.StringType;break;case "number":J=d.NumberType;break;case "boolean":J=d.BooleanType;break;case "object":J=d.ObjectType}for(y=[];A<g.length;A++)P=r(g[A],m),y.push(P);
return new q(J,y)};q.prototype.evaluate=function(g,m){let y;for(const A of this._args){const J=A.evaluate(g,m);y=d.getType(J);if(d.matchType(y,this.type))return J}throw Error(`Expected ${d.typeToString(this.type)} but got ${d.typeToString(y)}`);};return q}(),ha=function(){function q(g,m){this.type=g;this._args=m}q.parse=function(g,m){var y=g[0];const A=q.types[y];if(A===d.BooleanType||A===d.StringType){if(2!==g.length)throw Error(`${y} expects one argument`);}else if(2>g.length)throw Error(`${y} expects at least one argument`);
y=[];for(let J=1;J<g.length;J++){const P=r(g[J],m);y.push(P)}return new q(A,y)};q.prototype.evaluate=function(g,m){if(this.type===d.BooleanType)return!!this._args[0].evaluate(g,m);if(this.type===d.StringType)return d.valueToString(this._args[0].evaluate(g,m));if(this.type===d.NumberType){for(const A of this._args){var y=Number(A.evaluate(g,m));if(!isNaN(y))return y}return null}if(this.type===d.ColorType){for(y of this._args)try{const A=q.toColor(y.evaluate(g,m));if(A instanceof v)return A}catch{}return null}};
q.toBoolean=function(g){return!!g};q.toString=function(g){return d.valueToString(g)};q.toNumber=function(g){const m=Number(g);if(isNaN(m))throw Error(`"${g}" is not a number`);return m};q.toColor=function(g){if(g instanceof v)return g;if("string"===typeof g){const m=v.fromString(g);if(m)return m;throw Error(`"${g}" is not a color`);}if(Array.isArray(g))return v.fromArray(g);throw Error(`"${g}" is not a color`);};return q}();ha.types={"to-boolean":d.BooleanType,"to-color":d.ColorType,"to-number":d.NumberType,
"to-string":d.StringType};let va=function(){function q(g){this._val=g;this.type=d.getType(g)}q.parse=function(g){if(2!==g.length)throw Error('"literal" expects 1 argument');return new q(g[1])};q.prototype.evaluate=function(g,m){return this._val};return q}(),wa=function(){function q(g){this._arg=g;this.type=d.StringType}q.parse=function(g,m){if(2!==g.length)throw Error('"typeof" expects 1 argument');return new q(r(g[1],m))};q.prototype.evaluate=function(g,m){return d.typeToString(d.getType(this._arg.evaluate(g,
m)))};return q}();const na={array:la,boolean:la,collator:null,format:null,image:null,literal:va,number:la,"number-format":null,object:la,string:la,"to-boolean":ha,"to-color":ha,"to-number":ha,"to-string":ha,typeof:wa,accumulated:null,"feature-state":null,"geometry-type":c,id:h,"line-progress":null,properties:k,at:U,get:X,has:aa,in:ea,"index-of":fa,length:ja,slice:Y,"!":C,"!\x3d":H,"\x3c":B,"\x3c\x3d":D,"\x3d\x3d":z,"\x3e":G,"\x3e\x3d":I,all:x,any:t,case:E,coalesce:K,match:O,within:null,interpolate:N,
"interpolate-hcl":N,"interpolate-lab":N,step:Q,let:R,var:T,concat:ra,downcase:ma,"is-supported-script":null,"resolved-locale":null,upcase:ma,rgb:sa,rgba:ta,"to-rgba":ua,"-":V,"*":Z,"/":da,"%":ka,"^":pa,"+":qa,abs:ba,acos:ba,asin:ba,atan:ba,ceil:ba,cos:ba,e:ba,floor:ba,ln:ba,ln2:ba,log10:ba,log2:ba,max:ba,min:ba,pi:ba,round:ba,sin:ba,sqrt:ba,tan:ba,zoom:u,"heatmap-density":null,"has-id":L,none:F};b.ALL=x;b.ANY=t;b.Add=qa;b.Assert=la;b.At=U;b.Calculate=ba;b.Case=E;b.Coalesce=K;b.Coerce=ha;b.Concat=
ra;b.Div=da;b.EQ=z;b.GE=I;b.GT=G;b.GeomType=c;b.Get=X;b.Has=aa;b.HasID=L;b.ID=h;b.In=ea;b.IndexOf=fa;b.Interpolate=N;b.LE=D;b.LT=B;b.Length=ja;b.Let=R;b.Literal=va;b.Match=O;b.Mod=ka;b.Mul=Z;b.NE=H;b.NONE=F;b.NOT=C;b.Pow=pa;b.Properties=k;b.Rgb=sa;b.Rgba=ta;b.Slice=Y;b.Step=Q;b.String=ma;b.Sub=V;b.ToRgba=ua;b.TypeOf=wa;b.Var=T;b.Zoom=u;b.createExpression=r;b.ops=na;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports"],function(b){function a(e,
h){const c=[];let k,u;if(e[0].length!==h.length)throw Error("dimensions do not match");const w=e.length,z=e[0].length;let H=0;for(k=0;k<w;k++){for(u=H=0;u<z;u++)H+=e[k][u]*h[u];c.push(H)}return c}function v(e){e=[e.r/255,e.g/255,e.b/255].map(h=>.04045>=h?h/12.92:((h+.055)/1.055)**2.4);e=a(d,e);return{x:100*e[0],y:100*e[1],z:100*e[2]}}function l(e){e=a(r,[e.x/100,e.y/100,e.z/100]).map(h=>Math.min(1,Math.max(.0031308>=h?12.92*h:1.055*h**(1/2.4)-.055,0)));return{r:Math.round(255*e[0]),g:Math.round(255*
e[1]),b:Math.round(255*e[2])}}function f(e){e=[e.x/95.047,e.y/100,e.z/108.883].map(h=>h>(6/29)**3?h**(1/3):1/3*(29/6)**2*h+4/29);return{l:116*e[1]-16,a:500*(e[0]-e[1]),b:200*(e[1]-e[2])}}function n(e){const h=e.l;e=[(h+16)/116+e.a/500,(h+16)/116,(h+16)/116-e.b/200].map(c=>c>6/29?c**3:3*(6/29)**2*(c-4/29));return{x:95.047*e[0],y:100*e[1],z:108.883*e[2]}}function p(e){if("r"in e&&"g"in e&&"b"in e)return e;if("l"in e&&"c"in e&&"h"in e){var h=e.c,c=e.h;return l(n({l:e.l,a:h*Math.cos(c),b:h*Math.sin(c)}))}if("l"in
e&&"a"in e&&"b"in e)return l(n(e));if("x"in e&&"y"in e&&"z"in e)return l(e);if("h"in e&&"s"in e&&"v"in e){c=(e.h+360)%360/60;h=e.v/100*255;e=e.s/100*h;const k=e*(1-Math.abs(c%2-1));switch(Math.floor(c)){case 0:c={r:e,g:k,b:0};break;case 1:c={r:k,g:e,b:0};break;case 2:c={r:0,g:e,b:k};break;case 3:c={r:0,g:k,b:e};break;case 4:c={r:k,g:0,b:e};break;case 5:case 6:c={r:e,g:0,b:k};break;default:c={r:0,g:0,b:0}}c.r=Math.round(c.r+h-e);c.g=Math.round(c.g+h-e);c.b=Math.round(c.b+h-e);return c}return e}const d=
[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],r=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];b.darken=function(e,h){e=f(v(e));e.l*=1-h;return l(n(e))};b.toHSV=function(e){if("h"in e&&"s"in e&&"v"in e)return e;var h=p(e);e=h.r;const c=h.g,k=h.b;h=Math.max(e,c,k);const u=h-Math.min(e,c,k);e=0===u?0:h===e?(c-k)/u%6:h===c?(k-e)/u+2:(e-c)/u+4;0>e&&(e+=6);return{h:60*e,s:100*(0===u?0:u/h),v:100/255*h}};b.toLAB=function(e){return"l"in e&&"a"in e&&"b"in e?e:f(v(p(e)))};
b.toLCH=function(e){if(!("l"in e&&"c"in e&&"h"in e)){var h=f(v(p(e)));e=h.l;var c=h.a;const k=h.b;h=Math.sqrt(c*c+k*k);c=Math.atan2(k,c);c=0<c?c:c+2*Math.PI;e={l:e,c:h,h:c}}return e};b.toRGB=p;b.toXYZ=function(e){return"x"in e&&"y"in e&&"z"in e?e:v(p(e))};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/TileClipper":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers"],function(b,a){b.GeometryType=void 0;(function(e){e[e.Unknown=0]="Unknown";
e[e.Point=1]="Point";e[e.LineString=2]="LineString";e[e.Polygon=3]="Polygon"})(b.GeometryType||(b.GeometryType={}));let v=function(){function e(c,k){this.x=c;this.y=k}var h=e.prototype;h.clone=function(){return new e(this.x,this.y)};h.equals=function(c,k){return c===this.x&&k===this.y};h.isEqual=function(c){return c.x===this.x&&c.y===this.y};h.setCoords=function(c,k){this.x=c;this.y=k};h.normalize=function(){var c=this.x;const k=this.y;c=Math.sqrt(c*c+k*k);this.x/=c;this.y/=c};h.rightPerpendicular=
function(){const c=this.x;this.x=this.y;this.y=-c};h.move=function(c,k){this.x+=c;this.y+=k};h.assign=function(c){this.x=c.x;this.y=c.y};h.assignAdd=function(c,k){this.x=c.x+k.x;this.y=c.y+k.y};h.assignSub=function(c,k){this.x=c.x-k.x;this.y=c.y-k.y};h.rotate=function(c,k){const u=this.x,w=this.y;this.x=u*c-w*k;this.y=u*k+w*c};h.scale=function(c){this.x*=c;this.y*=c};h.length=function(){const c=this.x,k=this.y;return Math.sqrt(c*c+k*k)};e.distance=function(c,k){const u=k.x-c.x;c=k.y-c.y;return Math.sqrt(u*
u+c*c)};e.add=function(c,k){return new e(c.x+k.x,c.y+k.y)};e.sub=function(c,k){return new e(c.x-k.x,c.y-k.y)};return e}(),l=function(e,h,c){this.ratio=e;this.x=h;this.y=c},f=function(){function e(c,k,u,w=8,z=8){this._lines=[];this._starts=[];this.validateTessellation=!0;this._pixelRatio=w;this._pixelMargin=z;this._tileSize=512*w;this._dz=c;this._yPos=k;this._xPos=u}var h=e.prototype;h.setPixelMargin=function(c){c!==this._pixelMargin&&(this._pixelMargin=c,this.setExtent(this._extent))};h.setExtent=
function(c){this._extent=c;this._finalRatio=this._tileSize/c*(1<<this._dz);let k=this._pixelRatio*this._pixelMargin;k/=this._finalRatio;c>>=this._dz;k>c&&(k=c);this._margin=k;this._xmin=c*this._xPos-k;this._ymin=c*this._yPos-k;this._xmax=this._xmin+c+2*k;this._ymax=this._ymin+c+2*k};h.reset=function(c){this._type=c;this._lines=[];this._starts=[];this._line=null;this._start=0};h.moveTo=function(c,k){this._pushLine();this._prevIsIn=this._isIn(c,k);this._moveTo(c,k,this._prevIsIn);this._prevPt=new v(c,
k);this._firstPt=new v(c,k);this._dist=0};h.lineTo=function(c,k){const u=this._isIn(c,k),w=new v(c,k),z=v.distance(this._prevPt,w);if(u)if(this._prevIsIn)this._lineTo(c,k,!0);else{var H=this._prevPt;var B=w;c=this._intersect(B,H);this._start=this._dist+z*(1-this._r);this._lineTo(c.x,c.y,!0);this._lineTo(B.x,B.y,!0)}else if(this._prevIsIn)B=this._prevPt,H=w,c=this._intersect(B,H),this._lineTo(c.x,c.y,!0),this._lineTo(H.x,H.y,!1);else{const G=this._prevPt;if(!(G.x<=this._xmin&&w.x<=this._xmin||G.x>=
this._xmax&&w.x>=this._xmax||G.y<=this._ymin&&w.y<=this._ymin||G.y>=this._ymax&&w.y>=this._ymax)){c=[];if(G.x<this._xmin&&w.x>this._xmin||G.x>this._xmin&&w.x<this._xmin){k=(this._xmin-G.x)/(w.x-G.x);var D=G.y+k*(w.y-G.y);D<=this._ymin?B=!1:D>=this._ymax?B=!0:c.push(new l(k,this._xmin,D))}if(G.x<this._xmax&&w.x>this._xmax||G.x>this._xmax&&w.x<this._xmax)k=(this._xmax-G.x)/(w.x-G.x),D=G.y+k*(w.y-G.y),D<=this._ymin?B=!1:D>=this._ymax?B=!0:c.push(new l(k,this._xmax,D));if(G.y<this._ymin&&w.y>this._ymin||
G.y>this._ymin&&w.y<this._ymin)k=(this._ymin-G.y)/(w.y-G.y),D=G.x+k*(w.x-G.x),D<=this._xmin?H=!1:D>=this._xmax?H=!0:c.push(new l(k,D,this._ymin));if(G.y<this._ymax&&w.y>this._ymax||G.y>this._ymax&&w.y<this._ymax)k=(this._ymax-G.y)/(w.y-G.y),D=G.x+k*(w.x-G.x),D<=this._xmin?H=!1:D>=this._xmax?H=!0:c.push(new l(k,D,this._ymax));if(0===c.length)H?B?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):B?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,
!0);else if(1<c.length&&c[0].ratio>c[1].ratio)this._start=this._dist+z*c[1].ratio,this._lineTo(c[1].x,c[1].y,!0),this._lineTo(c[0].x,c[0].y,!0);else for(this._start=this._dist+z*c[0].ratio,H=0;H<c.length;H++)this._lineTo(c[H].x,c[H].y,!0)}this._lineTo(w.x,w.y,!1)}this._dist+=z;this._prevIsIn=u;this._prevPt=w};h.close=function(){if(2<this._line.length){var c=this._firstPt,k=this._prevPt;c.x===k.x&&c.y===k.y||this.lineTo(c.x,c.y);c=this._line;for(k=c.length;4<=k;)if(c[0].x===c[1].x&&c[0].x===c[k-2].x||
c[0].y===c[1].y&&c[0].y===c[k-2].y)c.pop(),c[0].x=c[k-2].x,c[0].y=c[k-2].y,--k;else break}};h.result=function(c=!0){this._pushLine();if(0===this._lines.length)return null;this._type===b.GeometryType.Polygon&&c&&d.simplify(this._tileSize,this._margin*this._finalRatio,this._lines);return this._lines};h.resultWithStarts=function(){if(this._type!==b.GeometryType.LineString)throw Error("Only valid for lines");this._pushLine();const c=this._lines,k=c.length;if(0===k)return null;const u=[];for(let w=0;w<
k;w++)u.push({line:c[w],start:this._starts[w]||0});return u};h._isIn=function(c,k){return c>=this._xmin&&c<=this._xmax&&k>=this._ymin&&k<=this._ymax};h._intersect=function(c,k){let u,w,z;if(k.x>=this._xmin&&k.x<=this._xmax)w=k.y<=this._ymin?this._ymin:this._ymax,z=(w-c.y)/(k.y-c.y),u=c.x+z*(k.x-c.x);else if(k.y>=this._ymin&&k.y<=this._ymax)u=k.x<=this._xmin?this._xmin:this._xmax,z=(u-c.x)/(k.x-c.x),w=c.y+z*(k.y-c.y);else{w=k.y<=this._ymin?this._ymin:this._ymax;u=k.x<=this._xmin?this._xmin:this._xmax;
const H=(u-c.x)/(k.x-c.x),B=(w-c.y)/(k.y-c.y);H<B?(z=H,w=c.y+H*(k.y-c.y)):(z=B,u=c.x+B*(k.x-c.x))}this._r=z;return new v(u,w)};h._pushLine=function(){this._line&&(this._type===b.GeometryType.Point?0<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===b.GeometryType.LineString?1<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)):this._type===b.GeometryType.Polygon&&3<this._line.length&&(this._lines.push(this._line),this._starts.push(this._start)));
this._line=[];this._start=0};h._moveTo=function(c,k,u){this._type!==b.GeometryType.Polygon?u&&(c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),k=Math.round((k-(this._ymin+this._margin))*this._finalRatio),this._line.push(new v(c,k))):(u||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),k<this._ymin&&(k=this._ymin),k>this._ymax&&(k=this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),k=Math.round((k-(this._ymin+this._margin))*this._finalRatio),this._line.push(new v(c,
k)),this._isV=this._isH=!1)};h._lineTo=function(c,k,u){if(this._type!==b.GeometryType.Polygon)if(u){c=Math.round((c-(this._xmin+this._margin))*this._finalRatio);k=Math.round((k-(this._ymin+this._margin))*this._finalRatio);if(0<this._line.length&&(u=this._line[this._line.length-1],u.equals(c,k)))return;this._line.push(new v(c,k))}else this._line&&0<this._line.length&&this._pushLine();else if(u||(c<this._xmin&&(c=this._xmin),c>this._xmax&&(c=this._xmax),k<this._ymin&&(k=this._ymin),k>this._ymax&&(k=
this._ymax)),c=Math.round((c-(this._xmin+this._margin))*this._finalRatio),k=Math.round((k-(this._ymin+this._margin))*this._finalRatio),this._line&&0<this._line.length){u=this._line[this._line.length-1];const w=u.x===c,z=u.y===k;w&&z||(this._isH&&w?(u.x=c,u.y=k,u=this._line[this._line.length-2],u.x===c&&u.y===k?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(u=this._line[this._line.length-2],this._isH=u.x===c,this._isV=u.y===k)):(this._isH=u.x===c,this._isV=u.y===k)):this._isV&&z?(u.x=
c,u.y=k,u=this._line[this._line.length-2],u.x===c&&u.y===k?(this._line.pop(),1>=this._line.length?this._isV=this._isH=!1:(u=this._line[this._line.length-2],this._isH=u.x===c,this._isV=u.y===k)):(this._isH=u.x===c,this._isV=u.y===k)):(this._line.push(new v(c,k)),this._isH=w,this._isV=z))}else this._line.push(new v(c,k))};return e}(),n=function(){function e(){}var h=e.prototype;h.setExtent=function(c){this._ratio=4096===c?1:4096/c};h.reset=function(c){this._lines=[];this._line=null};h.moveTo=function(c,
k){this._line&&this._lines.push(this._line);this._line=[];const u=this._ratio;this._line.push(new v(c*u,k*u))};h.lineTo=function(c,k){const u=this._ratio;this._line.push(new v(c*u,k*u))};h.close=function(){const c=this._line;c&&!c[0].isEqual(c[c.length-1])&&c.push(c[0])};h.result=function(){this._line&&this._lines.push(this._line);return 0===this._lines.length?null:this._lines};a._createClass(e,[{key:"validateTessellation",get:function(){return 1>this._ratio}}]);return e}();var p;(function(e){e[e.sideLeft=
0]="sideLeft";e[e.sideRight=1]="sideRight";e[e.sideTop=2]="sideTop";e[e.sideBottom=3]="sideBottom"})(p||(p={}));let d=function(){function e(){}e.simplify=function(h,c,k){if(k){var u=-c,w=h+c,z=-c,H=h+c;h=[];c=[];var B=k.length;for(let D=0;D<B;++D){const G=k[D];if(!G||2>G.length)continue;let I=G[0],C;const x=G.length;for(let t=1;t<x;++t)C=G[t],I.x===C.x&&(I.x<=u&&(I.y>C.y?(h.push(D),h.push(t),h.push(p.sideLeft),h.push(-1)):(c.push(D),c.push(t),c.push(p.sideLeft),c.push(-1))),I.x>=w&&(I.y<C.y?(h.push(D),
h.push(t),h.push(p.sideRight),h.push(-1)):(c.push(D),c.push(t),c.push(p.sideRight),c.push(-1)))),I.y===C.y&&(I.y<=z&&(I.x<C.x?(h.push(D),h.push(t),h.push(p.sideTop),h.push(-1)):(c.push(D),c.push(t),c.push(p.sideTop),c.push(-1))),I.y>=H&&(I.x>C.x?(h.push(D),h.push(t),h.push(p.sideBottom),h.push(-1)):(c.push(D),c.push(t),c.push(p.sideBottom),c.push(-1)))),I=C}0!==h.length&&0!==c.length&&(e.fillParent(k,c,h),e.fillParent(k,h,c),u=[],e.calcDeltas(u,c,h),e.calcDeltas(u,h,c),e.addDeltas(u,k))}};e.fillParent=
function(h,c,k){const u=k.length,w=c.length;for(let G=0;G<w;G+=4){var z=c[G],H=c[G+1];const I=c[G+2],C=h[z][H-1];z=h[z][H];H=8092;let x=-1;for(let t=0;t<u;t+=4){if(k[t+2]!==I)continue;var B=k[t];const F=k[t+1];var D=h[B][F-1];B=h[B][F];switch(I){case p.sideLeft:case p.sideRight:r(C.y,D.y,B.y)&&r(z.y,D.y,B.y)&&(D=Math.abs(B.y-D.y),D<H&&(H=D,x=t));break;case p.sideTop:case p.sideBottom:r(C.x,D.x,B.x)&&r(z.x,D.x,B.x)&&(D=Math.abs(B.x-D.x),D<H&&(H=D,x=t))}}c[G+3]=x}};e.calcDeltas=function(h,c,k){const u=
c.length;for(let w=0;w<u;w+=4){const z=e.calcDelta(w,c,k,[]);h.push(c[w]);h.push(c[w+1]);h.push(c[w+2]);h.push(z)}};e.calcDelta=function(h,c,k,u){h=c[h+3];if(-1===h)return 0;const w=u.length;if(1<w&&u[w-2]===h)return 0;u.push(h);return e.calcDelta(h,k,c,u)+1};e.addDeltas=function(h,c){const k=h.length;let u=0;for(var w=0;w<k;w+=4){var z=h[w+3];z>u&&(u=z)}for(w=0;w<k;w+=4){z=c[h[w]];const H=h[w+1],B=u-h[w+3];switch(h[w+2]){case p.sideLeft:z[H-1].x-=B;z[H].x-=B;1===H&&(z[z.length-1].x-=B);H===z.length-
1&&(z[0].x-=B);break;case p.sideRight:z[H-1].x+=B;z[H].x+=B;1===H&&(z[z.length-1].x+=B);H===z.length-1&&(z[0].x+=B);break;case p.sideTop:z[H-1].y-=B;z[H].y-=B;1===H&&(z[z.length-1].y-=B);H===z.length-1&&(z[0].y-=B);break;case p.sideBottom:z[H-1].y+=B,z[H].y+=B,1===H&&(z[z.length-1].y+=B),H===z.length-1&&(z[0].y+=B)}}};return e}();const r=(e,h,c)=>e>=h&&e<=c||e>=c&&e<=h;b.Point=v;b.SimpleBuilder=n;b.TileClipper=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/unitBezier":function(){define(["exports"],
function(b){function a(f,n,p,d){function r(z,H){var B;let D,G;D=z;for(B=0;8>B;B++){G=((c*D+h)*D+e)*D-z;if(Math.abs(G)<H)return D;var I=(3*c*D+2*h)*D+e;if(1E-6>Math.abs(I))break;D-=G/I}I=0;B=1;D=z;if(D<I)return I;if(D>B)return B;for(;I<B;){G=((c*D+h)*D+e)*D;if(Math.abs(G-z)<H)break;z>G?I=D:B=D;D=.5*(B-I)+I}return D}const e=3*f,h=3*(p-f)-e,c=1-e-h,k=3*n,u=3*(d-n)-k,w=1-k-u;return function(z,H=1E-6){z=r(z,H);return((w*z+u)*z+k)*z}}const v=/^cubic-bezier\((.*)\)/,l={};l.ease=a(.25,.1,.25,1);l.linear=
a(0,0,1,1);l.easeIn=l["ease-in"]=a(.42,0,1,1);l.easeOut=l["ease-out"]=a(0,0,.58,1);l.easeInOut=l["ease-in-out"]=a(.42,0,.58,1);b.easingFunctions=l;b.parse=function(f){let n=l[f]||null;!n&&(f=v.exec(f))&&(f=f[1].split(",").map(p=>parseFloat(p.trim())),4!==f.length||f.some(p=>isNaN(p))||(n=a.apply(a,f)));return n};b.unitBezier=a;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],function(b){function a(d,r){d%=
r;return 0<=d?d:d+r}const v=Number.POSITIVE_INFINITY,l=Math.PI,f=128/l,n=256/360,p=1/Math.LN2;b.C_2PI=2*l;b.C_DEG_TO_256=n;b.C_DEG_TO_RAD=l/180;b.C_INFINITY=v;b.C_PI=l;b.C_RAD_TO_256=f;b.between=function(d,r,e){return d>=r&&d<=e||d>=e&&d<=r};b.degToByte=function(d){return a(d*n,256)};b.interpolate=function(d,r,e){return d*(1-e)+r*e};b.log2=function(d){return Math.log(d)*p};b.positiveMod=a;b.radToByte=function(d){return a(d*f,256)};b.sqr=function(d){return d*d};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(b,a){function v(w,z){return{kind:"array",itemType:w,n:z}}function l(w){if("array"===w.kind){const z=l(w.itemType);return"number"===typeof w.n?`array<${z}, ${w.n}>`:"value"===w.itemType.kind?"array":`array<${z}>`}return w.kind}function f(w){if(null===w)return p;if("string"===typeof w)return r;if("boolean"===typeof w)return e;if("number"===typeof w)return d;if(w instanceof
a)return h;if(Array.isArray(w)){let z;for(const H of w){const B=f(H);if(!z)z=B;else if(z!==B){z=k;break}}return v(z||k,w.length)}return"object"===typeof w?c:k}function n(w,z){if("array"===z.kind)return"array"===w.kind&&(0===w.n&&"value"===w.itemType.kind||n(w.itemType,z.itemType))&&("number"!==typeof z.n||z.n===w.n);if("value"===z.kind)for(const H of u)if(n(w,H))return!0;return z.kind===w.kind}const p={kind:"null"},d={kind:"number"},r={kind:"string"},e={kind:"boolean"},h={kind:"color"},c={kind:"object"},
k={kind:"value"},u=[p,d,r,e,h,c,v(k)];b.BooleanType=e;b.ColorType=h;b.NullType=p;b.NumberType=d;b.ObjectType=c;b.StringType=r;b.ValueType=k;b.arrayType=v;b.getType=f;b.matchType=n;b.typeToString=l;b.valueToString=function(w){if(null===w)return"";const z=typeof w;return"string"===z?w:"number"===z||"boolean"===z?String(w):w instanceof a?w.toString():JSON.stringify(w)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color",
"../GeometryUtils","../expression/expression","../expression/types"],function(b,a,v,l){return function(){function f(p,d){this.isDataDriven=!1;this.interpolator=null;switch(p.type){case "number":var r=!0;break;case "color":r=!0;break;case "array":r="number"===p.value;break;default:r=!1}null==d&&(d=p.default);if(Array.isArray(d)&&0<d.length&&v.ops[d[0]]){r={number:l.NumberType,color:l.ColorType,string:l.StringType,boolean:l.BooleanType,enum:l.StringType};try{var e="array"===p.type?l.arrayType(r[p.value]||
l.ValueType,p.length):r[p.type];const h=v.createExpression(d,null,e);this.getValue=this._buildExpression(h,p);this.isDataDriven=!0;h instanceof v.Interpolate&&h.input instanceof v.Zoom&&(this.interpolator=h)}catch(h){console.log(h.message),this.getValue=this._buildSimple(p.default)}}else{r&&"interval"===d.type&&(r=!1);if(e=d&&d.stops&&0<d.stops.length)for(const h of d.stops)h[1]=this._validate(h[1],p);if(this.isDataDriven=d?!!d.property:!1)if(void 0!==d.default&&(d.default=this._validate(d.default,
p)),e)switch(d.type){case "identity":this.getValue=this._buildIdentity(d,p);break;case "categorical":this.getValue=this._buildCategorical(d,p);break;default:this.getValue=r?this._buildInterpolate(d,p):this._buildInterval(d,p)}else this.getValue=this._buildIdentity(d,p);else e?this.getValue=r?this._buildZoomInterpolate(d):this._buildZoomInterval(d):(d=this._validate(d,p),this.getValue=this._buildSimple(d))}}var n=f.prototype;n._validate=function(p,d){if("number"===d.type){if(p<d.minimum)return d.minimum;
if(p>d.maximum)return d.maximum}else"color"===d.type?p=f._parseColor(p):"enum"===d.type?"string"===typeof p&&(p=d.values.indexOf(p)):"array"===d.type&&"enum"===d.value?p=p.map(r=>"string"===typeof r?d.values.indexOf(r):r):"string"===d.type&&(p=l.valueToString(p));return p};n._buildSimple=function(p){return()=>p};n._buildExpression=function(p,d){return(r,e)=>{try{const h=p.evaluate(e,r);return void 0===h?d.default:this._validate(h,d)}catch(h){return console.log(h.message),d.default}}};n._buildIdentity=
function(p,d){return(r,e)=>{let h;e&&(h=e.values[p.property]);void 0!==h&&(h=this._validate(h,d));return null!=h?h:void 0!==p.default?p.default:d.default}};n._buildCategorical=function(p,d){return(r,e)=>{let h;e&&(h=e.values[p.property]);h=this._categorical(h,p.stops);return void 0!==h?h:void 0!==p.default?p.default:d.default}};n._buildInterval=function(p,d){return(r,e)=>{let h;e&&(h=e.values[p.property]);return"number"===typeof h?this._interval(h,p.stops):void 0!==p.default?p.default:d.default}};
n._buildInterpolate=function(p,d){return(r,e)=>{let h;e&&(h=e.values[p.property]);return"number"===typeof h?this._interpolate(h,p.stops,p.base||1):void 0!==p.default?p.default:d.default}};n._buildZoomInterpolate=function(p){return d=>this._interpolate(d,p.stops,p.base||1)};n._buildZoomInterval=function(p){return d=>this._interval(d,p.stops)};n._categorical=function(p,d){const r=d.length;for(let e=0;e<r;e++)if(d[e][0]===p)return d[e][1]};n._interval=function(p,d){const r=d.length;let e=0;for(let h=
0;h<r;h++)if(d[h][0]<=p)e=h;else break;return d[e][1]};n._interpolate=function(p,d,r){const e=d.length;for(let k=0;k<e;k++){const u=d[k];if(u[0]<=p)var h=u;else{var c=u;break}}if(h&&c){d=c[0]-h[0];p-=h[0];r=1===r?p/d:(r**p-1)/(r**d-1);if(Array.isArray(h[1])){h=h[1];c=c[1];p=[];for(d=0;d<h.length;d++)p.push(a.interpolate(h[d],c[d],r));return p}return a.interpolate(h[1],c[1],r)}if(h)return h[1];if(c)return c[1]};f._isEmpty=function(p){for(const d in p)if(p.hasOwnProperty(d))return!1;return!0};f._parseColor=
function(p){if(Array.isArray(p))return p;"string"===typeof p&&(p=new b(p));if(p instanceof b&&!this._isEmpty(p))return b.toUnitRGBA(p)};return f}()})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(b){b.ANGLE_FACTOR_256=256/360;b.ATTRIBUTE_DATA_ANIMATION=1;b.ATTRIBUTE_DATA_DD0=3;b.ATTRIBUTE_DATA_DD1=4;b.ATTRIBUTE_DATA_FILTER_FLAGS=0;b.ATTRIBUTE_DATA_GPGPU=2;b.ATTRIBUTE_DATA_VV=3;b.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;b.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,
left:0,top:-7,advance:14}};b.BITSET_FILL_HAS_UNRESOLVED_REPLACEMENT_COLOR=8;b.BITSET_FILL_RANDOM_PATTERN_OFFSET=4;b.BITSET_GENERIC_CONSIDER_ALPHA_ONLY=16;b.BITSET_GENERIC_LOCK_COLOR=2;b.BITSET_LINE_SCALE_DASH=4;b.BITSET_MARKER_ALIGNMENT_MAP=1;b.BITSET_MARKER_ALIGNMENT_SCREEN=0;b.BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE=4;b.BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY=8;b.BITSET_TYPE_FILL_OUTLINE=1;b.BUFFER_DATA_MINIMUM_SIZE=128;b.BUFFER_DATA_POOL_SIZE=4;b.CHART_MAX_FIELDS=10;b.COLLISION_BOX_PADDING=
16;b.COLLISION_BUCKET_SIZE=128;b.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;b.COLLISION_MAX_ZOOM_DELTA=1;b.COLLISION_PLACEMENT_PADDING=8;b.COLLISION_TILE_BOX_SIZE=4;b.DEBUG_LABELS=!1;b.DISPLAY_RECORD_INT_PER_ELEMENT=8;b.DOT_DENSITY_MAX_FIELDS=8;b.EFFECT_FLAG_0=4;b.ENABLE_EARLY_LABEL_DISCARD=!1;b.EXTRUDE_SCALE=64;b.FILTER_FLAG_0=2;b.GLYPH_SIZE=24;b.HEURISTIC_GLYPHS_PER_FEATURE=10;b.HEURISTIC_GLYPHS_PER_LINE=50;b.HIGHLIGHT_FLAG=1;b.HITTEST_RADIUS=3;b.MAGIC_LABEL_LINE_HEIGHT=29;b.MAX_FILTERS=2;b.MAX_GPU_UPLOADS_PER_FRAME=
2;b.MIN_MAX_ZOOM_PRECISION_FACTOR=10;b.NAN_MAGIC_NUMBER=1E-30;b.PATCH_PIXEL_BUFFER_ALLOC_SIZE=500;b.PATTERN_FILL_RASTERIZATION_SCALE=2;b.PICTURE_FILL_COLOR=4294967295;b.RANDOM_INSIDE_POLYGON_TEXTURE_SIZE=1024;b.RASTER_TILE_SIZE=256;b.SPRITE_PADDING=2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;b.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;b.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;b.TEXTURE_BINDING_ATTRIBUTE_DATA_4=5;b.TEXTURE_BINDING_ATTRIBUTE_DATA_5=6;b.TEXTURE_BINDING_BITMAP=0;b.TEXTURE_BINDING_GLYPH_ATLAS=
0;b.TEXTURE_BINDING_GPGPU=12;b.TEXTURE_BINDING_HIGHLIGHT_0=5;b.TEXTURE_BINDING_HIGHLIGHT_1=6;b.TEXTURE_BINDING_RENDERER_0=5;b.TEXTURE_BINDING_RENDERER_1=6;b.TEXTURE_BINDING_SPRITE_ATLAS=0;b.TEXTURE_UPLOAD_MANAGER_BUDGET=4;b.TEXTURE_UPLOAD_MANAGER_CHUNK_SIZE=128;b.TEXT_PLACEMENT_PADDING=8;b.THIN_LINE_HALF_WIDTH_THRESHOLD=1.05;b.TILE_SIZE=512;b.VTL_HIGH_RES_CUTOFF=1.15;b.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;b.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;b.WEBGL_MAX_INNER_STOPS=6;b.WEBGL_MAX_STOPS=8;Object.defineProperty(b,
Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/capabilities":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe","./context-util"],function(b,a,v,l){function f(u){switch(u){case l.ContextType.WEBGL1:return n();case l.ContextType.WEBGL2:return p()}}function n(){if(!r){{const u=new c,w=d(l.ContextType.WEBGL1,u);v.isNone(w)||(u.supportsElementIndexUint=null!==w.getExtension("OES_element_index_uint"),u.supportsStandardDerivatives=null!==w.getExtension("OES_standard_derivatives"),
u.supportsInstancedArrays=null!==w.getExtension("ANGLE_instanced_arrays"),u.supportsTextureFloat=null!==w.getExtension("OES_texture_float"),u.supportsTextureHalfFloat=null!==w.getExtension("OES_texture_half_float"),u.supportsColorBufferFloat=null!==w.getExtension("WEBGL_color_buffer_float"),u.supportsColorBufferFloatBlend=null!==w.getExtension("EXT_float_blend"),u.supportsColorBufferHalfFloat=null!==w.getExtension("EXT_color_buffer_half_float"));r=u}}return r}function p(){if(!e){{const u=new k,w=
d(l.ContextType.WEBGL2,u);v.isNone(w)||(u.supportsColorBufferFloat=null!==w.getExtension("EXT_color_buffer_float"),u.supportsColorBufferFloatBlend=null!==w.getExtension("EXT_float_blend"),u.supportsColorBufferHalfFloat=u.supportsColorBufferFloat||null!==w.getExtension("EXT_color_buffer_half_float"));e=u}}return e}function d(u,w){if(u===l.ContextType.WEBGL1&&"undefined"===typeof WebGLRenderingContext||u===l.ContextType.WEBGL2&&"undefined"===typeof WebGL2RenderingContext)return null;const z=document.createElement("canvas");
if(!z)return null;let H=l.createContext(z,u,{failIfMajorPerformanceCaveat:!0});v.isNone(H)&&(H=l.createContext(z,u),v.isSome(H)&&(w.majorPerformanceCaveat=!0));if(v.isNone(H))return H;if(u===l.ContextType.WEBGL1){if(u=H.getParameter(H.VERSION)?.match(/^WebGL\s+([\d.]*)/))u=parseFloat(u[1]),w.available=.94<=u}else w.available=!0;w.maxTextureSize=H.getParameter(H.MAX_TEXTURE_SIZE);w.supportsVertexShaderSamplers=0<H.getParameter(H.MAX_VERTEX_TEXTURE_IMAGE_UNITS);if(u=H.getShaderPrecisionFormat(H.FRAGMENT_SHADER,
H.HIGH_FLOAT))w.supportsHighPrecisionFragment=0<u.precision;return H}let r,e,h=function(){this.majorPerformanceCaveat=this.available=!1;this.maxTextureSize=0;this.supportsColorBufferHalfFloat=this.supportsColorBufferFloatBlend=this.supportsColorBufferFloat=this.supportsTextureHalfFloat=this.supportsTextureFloat=this.supportsInstancedArrays=this.supportsStandardDerivatives=this.supportsElementIndexUint=this.supportsHighPrecisionFragment=this.supportsVertexShaderSamplers=!1},c=function(u){function w(){var z=
u.apply(this,arguments)||this;z.type=l.ContextType.WEBGL1;return z}a._inheritsLoose(w,u);return w}(h),k=function(u){function w(){var z=u.apply(this,arguments)||this;z.type=l.ContextType.WEBGL2;z.supportsElementIndexUint=!0;z.supportsStandardDerivatives=!0;z.supportsInstancedArrays=!0;z.supportsTextureFloat=!0;z.supportsTextureHalfFloat=!0;return z}a._inheritsLoose(w,u);return w}(h);b.getWebGL1Capabilities=n;b.getWebGL2Capabilities=p;b.getWebGLCapabilities=function(u){for(u=l.getContextTypes(u);1<
u.length;){const w=f(u.shift());if(w.available)return w}return f(u.shift())};b.getWebGLVersionCapabilities=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/context-util":function(){define(["exports","../../core/has","../../core/maybe"],function(b,a,v){function l(d){const r=a("esri-force-webgl");if(r===b.ContextType.WEBGL1||r===b.ContextType.WEBGL2)return[r];switch(d){case "2d":return a("mac")&&a("chrome")?[b.ContextType.WEBGL1,b.ContextType.WEBGL2]:[b.ContextType.WEBGL2,
b.ContextType.WEBGL1];case "3d":return[b.ContextType.WEBGL2,b.ContextType.WEBGL1]}}function f(d,r,e={}){if(!window.WebGLRenderingContext)return p(d,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),null;r=n(d,r,e);v.isNone(r)&&p(d,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e');return r}
function n(d,r,e={}){r=r===b.ContextType.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let h=null;for(const c of r){try{h=d.getContext(c,e)}catch(k){}if(h)break}return h}function p(d,r){(d=d.parentNode)&&(d.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+r+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}
b.ContextType=void 0;(function(d){d[d.WEBGL1=1]="WEBGL1";d[d.WEBGL2=2]="WEBGL2"})(b.ContextType||(b.ContextType={}));b.createContext=n;b.createContextOrErrorHTML=function(d,r,e={}){for(d=l(d);1<d.length;){const h=n(r,d.shift(),e);if(v.isSome(h))return h}return f(r,d.shift(),e)};b.getContextTypes=l;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/asyncUtils ../core/Error ../core/lang ../core/maybe ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../geometry/Extent ../geometry/SpatialReference ./Layer ./mixins/APIKeyMixin ./mixins/ArcGISCachedService ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/ScaleRangeLayer ./support/imageUtils ./support/SpriteSource ./support/TileInfo ./support/vectorTileLayerLoader ../portal/support/jsonContext ../portal/support/urlUtils ../chunks/persistableUrlUtils ../views/2d/engine/vectorTiles/tileInfoUtils ../views/2d/engine/vectorTiles/style/StyleRepository ../views/webgl/capabilities".split(" "),function(b,
a,v,l,f,n,p,d,r,e,h,c,k,u,w,z,H,B,D,G,I,C,x,t,F,E,K,O,N,Q,R,T,U,X,aa,ea){d=function(fa){function ja(...L){L=fa.call(this,...L)||this;L._spriteSourceMap=new Map;L.currentStyleInfo=null;L.style=null;L.isReference=null;L.operationalLayerType="VectorTileLayer";L.type="vector-tile";L.url=null;L.showCollisionBoxes="none";L.path=null;return L}b._inheritsLoose(ja,fa);var Y=ja.prototype;Y.normalizeCtorArgs=function(L,M){return"string"===typeof L?{url:L,...M}:L};Y.destroy=function(){if(this.sourceNameToSource)for(const L of Object.values(this.sourceNameToSource))L?.destroy();
this._spriteSourceMap.clear()};Y.prefetchResources=function(){var L=b._asyncToGenerator(function*(M){yield this.loadSpriteSource(globalThis.devicePixelRatio||1,M)});return function(M){return L.apply(this,arguments)}}();Y.load=function(L){var M=this;const V=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},L).catch(r.throwIfAbortError).then(b._asyncToGenerator(function*(){if(M.portalItem&&M.portalItem.id){var Z=`${M.portalItem.itemUrl}/resources/styles/root.json`;(yield v(Z,
{...L,query:{f:"json",...M.customParameters,token:M.apiKey}})).data&&M.read({url:Z},R.createForItemRead(M.portalItem))}})).catch(r.throwIfAbortError).then(()=>this._loadStyle(L));this.addResolvingPromise(V);return Promise.resolve(this)};Y.writeStyleUrl=function(L,M){L&&e.isProtocolRelative(L)&&(L=`https:${L}`);const V=p.unwrap(T.parseKnownArcGISOnlineDomain(L));M.styleUrl=U.ensureMainOnlineDomain(L,V)};Y.readVersion=function(L,M){return M.version?parseFloat(M.version):parseFloat(M.currentVersion)};
Y.loadSpriteSource=function(){var L=b._asyncToGenerator(function*(M=1,V){if(!this._spriteSourceMap.has(M)){var Z=ea.getWebGLCapabilities("2d").maxTextureSize;const da=this.currentStyleInfo?.spriteUrl?e.addQueryParameters(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null;Z=new O({type:"url",spriteUrl:da,pixelRatio:M,spriteFormat:this.currentStyleInfo?.spriteFormat},Z);yield Z.load(V);this._spriteSourceMap.set(M,Z)}return this._spriteSourceMap.get(M)});return function(){return L.apply(this,
arguments)}}();Y.setSpriteSource=function(){var L=b._asyncToGenerator(function*(M,V){if(!M)return null;var Z=ea.getWebGLCapabilities("2d").maxTextureSize,da=M.spriteUrl;da=da?e.addQueryParameters(da,{...this.customParameters,token:this.apiKey}):null;if(!da&&"url"===M.type)return null;Z=new O(M,Z);try{yield Z.load(V);const ka=M.pixelRatio||1;this._spriteSourceMap.clear();this._spriteSourceMap.set(ka,Z);da&&this.currentStyleInfo&&(this.currentStyleInfo.spriteUrl=da);this.emit("spriteSource-change",
{spriteSource:Z});return Z}catch(ka){r.throwIfAbortError(ka)}return null});return function(M,V){return L.apply(this,arguments)}}();Y.loadStyle=function(){var L=b._asyncToGenerator(function*(M,V){const Z=M||this.style||this.url;if(this._loadingTask&&"string"===typeof Z&&this.url===Z)return this._loadingTask.promise;this._loadingTask?.abort();this._loadingTask=l.createTask(da=>{this._spriteSourceMap.clear();return this._getSourceAndStyle(Z,{signal:da})},V);return this._loadingTask.promise});return function(M,
V){return L.apply(this,arguments)}}();Y.getStyleLayerId=function(L){return this.styleRepository.getStyleLayerId(L)};Y.getStyleLayerIndex=function(L){return this.styleRepository.getStyleLayerIndex(L)};Y.getPaintProperties=function(L){return n.clone(this.styleRepository.getPaintProperties(L))};Y.setPaintProperties=function(L,M){const V=this.styleRepository.isPainterDataDriven(L);this.styleRepository.setPaintProperties(L,M);const Z=this.styleRepository.isPainterDataDriven(L);this.emit("paint-change",
{layer:L,paint:M,isDataDriven:V||Z})};Y.getStyleLayer=function(L){return n.clone(this.styleRepository.getStyleLayer(L))};Y.setStyleLayer=function(L,M){this.styleRepository.setStyleLayer(L,M);this.emit("style-layer-change",{layer:L,index:M})};Y.deleteStyleLayer=function(L){this.styleRepository.deleteStyleLayer(L);this.emit("delete-style-layer",{layer:L})};Y.getLayoutProperties=function(L){return n.clone(this.styleRepository.getLayoutProperties(L))};Y.setLayoutProperties=function(L,M){this.styleRepository.setLayoutProperties(L,
M);this.emit("layout-change",{layer:L,layout:M})};Y.setStyleLayerVisibility=function(L,M){this.styleRepository.setStyleLayerVisibility(L,M);this.emit("style-layer-visibility-change",{layer:L,visibility:M})};Y.getStyleLayerVisibility=function(L){return this.styleRepository.getStyleLayerVisibility(L)};Y.write=function(L,M){return M?.origin&&!this.styleUrl?(M.messages&&M.messages.push(new f("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,
{layer:this})),null):fa.prototype.write.call(this,L,M)};Y.getTileUrl=function(L,M,V){return null};Y._getSourceAndStyle=function(){var L=b._asyncToGenerator(function*(M,V){if(!M)throw Error("invalid style!");V=yield Q.loadMetadata(M,{...V,query:{...this.customParameters,token:this.apiKey}});"webp"!==V.spriteFormat||(yield K.checkWebPSupport("lossy"))||(V.spriteFormat="png");this._set("currentStyleInfo",{...V});"string"===typeof M?(this.url=M,this.style=null):(this.url=null,this.style=M);this._set("sourceNameToSource",
V.sourceNameToSource);this._set("primarySource",V.sourceNameToSource[V.primarySourceName]);this._set("styleRepository",new aa(V.style));this.read(V.layerDefinition,{origin:"service"});this.emit("load-style")});return function(M,V){return L.apply(this,arguments)}}();Y._getDefaultAttribution=function(L){var M=L.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);L="OpenStreetMap_v2 OpenStreetMap_Daylight_v2 OpenStreetMap_Export_v2 OpenStreetMap_FTS_v2 OpenStreetMap_GCS_v2 World_Basemap World_Basemap_v2 World_Basemap_Export_v2 World_Basemap_GCS_v2 World_Basemap_WGS84 World_Contours_v2".split(" ");
if(M){var V=M[2]&&M[2].toLowerCase();if(V){M=M[1]||"";for(const Z of L)if(Z.toLowerCase().includes(V))return e.normalize(`//static.arcgis.com/attribution/Vector${M}/${Z}`)}}};Y._loadStyle=function(){var L=b._asyncToGenerator(function*(M){return this._loadingTask?.promise??this.loadStyle(null,M)});return function(M){return L.apply(this,arguments)}}();b._createClass(ja,[{key:"attributionDataUrl",get:function(){var L=this.currentStyleInfo;L=L&&L.serviceUrl&&e.urlToObject(L.serviceUrl);return L?(L=this._getDefaultAttribution(L.path))?
e.addQueryParameters(L,{...this.customParameters,token:this.apiKey}):null:null}},{key:"capabilities",get:function(){const L=this.primarySource;return L?L.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}},{key:"fullExtent",get:function(){return this.primarySource?.fullExtent||null}},{key:"parsedUrl",get:function(){return this.serviceUrl?e.urlToObject(this.serviceUrl):null}},{key:"serviceUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||
null}},{key:"spatialReference",get:function(){return this.tileInfo?.spatialReference??null}},{key:"styleUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}},{key:"tileInfo",get:function(){const L=[];for(var M in this.sourceNameToSource)L.push(this.sourceNameToSource[M]);M=this.primarySource?.tileInfo||new N;if(1<L.length)for(let V=0;V<L.length;V++)X.areSchemasOverlapping(M,L[V].tileInfo)&&(M=X.unionTileInfos(M,L[V].tileInfo));return M}}]);return ja}(C.BlendLayer(E.ScaleRangeLayer(G.ArcGISCachedService(I.ArcGISService(t.OperationalLayer(F.PortalLayer(x.CustomParametersMixin(D.APIKeyMixin(d.MultiOriginJSONMixin(B))))))))));
a.__decorate([h.property({readOnly:!0})],d.prototype,"attributionDataUrl",null);a.__decorate([h.property({type:["show","hide"]})],d.prototype,"listMode",void 0);a.__decorate([h.property({json:{read:!0,write:!0}})],d.prototype,"blendMode",void 0);a.__decorate([h.property({readOnly:!0,json:{read:!1}})],d.prototype,"capabilities",null);a.__decorate([h.property({readOnly:!0})],d.prototype,"currentStyleInfo",void 0);a.__decorate([h.property({json:{read:!1},readOnly:!0,type:z})],d.prototype,"fullExtent",
null);a.__decorate([h.property()],d.prototype,"style",void 0);a.__decorate([h.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],d.prototype,"isReference",void 0);a.__decorate([h.property({type:["VectorTileLayer"]})],d.prototype,"operationalLayerType",void 0);a.__decorate([h.property({readOnly:!0})],d.prototype,"parsedUrl",null);a.__decorate([h.property({readOnly:!0})],d.prototype,"serviceUrl",null);a.__decorate([h.property({type:H,readOnly:!0})],d.prototype,
"spatialReference",null);a.__decorate([h.property({readOnly:!0})],d.prototype,"styleRepository",void 0);a.__decorate([h.property({readOnly:!0})],d.prototype,"sourceNameToSource",void 0);a.__decorate([h.property({readOnly:!0})],d.prototype,"primarySource",void 0);a.__decorate([h.property({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],d.prototype,"styleUrl",null);a.__decorate([w.writer(["portal-item","web-document"],"styleUrl")],
d.prototype,"writeStyleUrl",null);a.__decorate([h.property({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:N})],d.prototype,"tileInfo",null);a.__decorate([h.property({json:{read:!1},readOnly:!0,value:"vector-tile"})],d.prototype,"type",void 0);a.__decorate([h.property({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],d.prototype,"url",void 0);a.__decorate([h.property({readOnly:!0})],d.prototype,"version",void 0);a.__decorate([k.reader("version",
["version","currentVersion"])],d.prototype,"readVersion",null);a.__decorate([h.property({type:String})],d.prototype,"showCollisionBoxes",void 0);a.__decorate([h.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],d.prototype,"path",void 0);return d=a.__decorate([u.subclass("esri.layers.VectorTileLayer")],d)});