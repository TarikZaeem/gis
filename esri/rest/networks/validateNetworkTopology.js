// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/Error ../utils ./support/ValidateNetworkTopologyResult".split(" "),function(f,k,l,n,d,p){function g(){g=k._asyncToGenerator(function*(c,a,b){c=d.parseUrl(c);const e=a.toJSON();a.validationSet&&(e.validationSet=JSON.stringify(a.validationSet));a=d.encode({...c.query,...e,returnEdits:!0,f:"json"});b=d.asValidOptions(a,{...b,method:"post"});({data:b}=yield l(`${c.path}/validateNetworkTopology`,b));if(!b)return null;b=p.fromJSON(b);
b.serviceEdits=b.serviceEdits?.map(m=>({layerId:m.id,editedFeatures:m.editedFeatures}))??[];return b});return g.apply(this,arguments)}function h(){h=k._asyncToGenerator(function*(c,a,b){if(!a.gdbVersion)throw new n("submit-validate-network-topology-job:missing-gdb-version","version is missing");c=d.parseUrl(c);const e=a.toJSON();a.validationSet&&(e.validationSet=JSON.stringify(a.validationSet));a=d.asValidOptions(c.query,{query:d.encode({...e,returnEdits:!0,async:!0,f:"json"}),...b,method:"post"});
({data:a}=yield l(`${c.path}/validateNetworkTopology`,a));return a?a.statusUrl:null});return h.apply(this,arguments)}f.submitValidateNetworkTopologyJob=function(c,a,b){return h.apply(this,arguments)};f.validateNetworkTopology=function(c,a,b){return g.apply(this,arguments)};Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});