// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
require({cache:{"esri/libs/i3s/enums":function(){define(["exports"],function(e){e.IndexType=void 0;(function(v){v[v.None=0]="None";v[v.Int16=1]="Int16";v[v.Int32=2]="Int32"})(e.IndexType||(e.IndexType={}));e.ModificationType=void 0;(function(v){v[v.Replace=0]="Replace";v[v.Outside=1]="Outside";v[v.Inside=2]="Inside";v[v.Finished=3]="Finished"})(e.ModificationType||(e.ModificationType={}));Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/libs/i3s/I3SModule":function(){define(["require",
"exports","../../assets"],function(e,v,E){function D(p){return E.getAssetUrl(`esri/libs/i3s/${p}`)}let x;v.get=function(){x||(x=(new Promise(p=>(new Promise((q,r)=>e(["../../chunks/i3s"],q,r))).then(q=>q.i3s).then(({default:q})=>{const r=q({locateFile:D,onRuntimeInitialized:()=>p(r)});delete r.then}))).catch(p=>{throw p;}));return x};Object.defineProperty(v,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/I3SNode":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers",
"../../../../chunks/sphere"],function(e,v,E){let D=function(p,q){this.id=p;this.mbs=q;this.renderMbs=E.fromValues(0,0,0,-1);this.elevationRange=null};e.NodeFilterImpact=void 0;(function(p){p[p.Unmodified=0]="Unmodified";p[p.Culled=1]="Culled";p[p.NotChecked=2]="NotChecked"})(e.NodeFilterImpact||(e.NodeFilterImpact={}));e.NodeIMModificationImpact=void 0;(function(p){p[p.Unmodified=0]="Unmodified";p[p.PotentiallyModified=1]="PotentiallyModified";p[p.Culled=2]="Culled";p[p.Unknown=3]="Unknown";p[p.NotChecked=
4]="NotChecked"})(e.NodeIMModificationImpact||(e.NodeIMModificationImpact={}));let x=function(p){function q(r,M,W,X,B,C,J,N,R,V){r=p.call(this,r,W)||this;r.index=M;r.childCount=X;r.level=B;r.resources=C;r.version=J;r.lodMetric=N;r.maxError=R;r.numFeatures=V;r.failed=!1;r.cacheState=e.CacheState.Unknown;r.vertexCount=0;r.memory=0;r.childrenLoaded=0;r.hasModifications=!1;r.imModificationImpact=e.NodeIMModificationImpact.NotChecked;return r}v._inheritsLoose(q,p);return q}(D);e.CacheState=void 0;(function(p){p[p.Unknown=
0]="Unknown";p[p.Uncached=1]="Uncached";p[p.Cached=2]="Cached"})(e.CacheState||(e.CacheState={}));e.LodMetric=void 0;(function(p){p[p.None=0]="None";p[p.MaxScreenThreshold=1]="MaxScreenThreshold";p[p.ScreenSpaceRelative=2]="ScreenSpaceRelative";p[p.RemovedFeatureDiameter=3]="RemovedFeatureDiameter";p[p.DistanceRangeFromDefaultCamera=4]="DistanceRangeFromDefaultCamera"})(e.LodMetric||(e.LodMetric={}));e.NodeState=void 0;(function(p){p[p.Hole=0]="Hole";p[p.Leaf=1]="Leaf"})(e.NodeState||(e.NodeState=
{}));e.ElevationRange=function(){this.min=Infinity;this.max=-Infinity;this.valid=!1};e.Node=x;e.NodeBase=D;e.NodeTraversalState=function(p,q,r,M){this.nodeHasLOD=p;this.isChosen=q;this.lodLevel=r;this.version=M};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/maybe ./mat4 ./vec3 ./vec3f64 ./vec4 ./vec4f64 ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),
function(e,v,E,D,x,p,q,r,M,W,X,B,C,J){function N(){return W.create()}function R(n,w=N()){return M.copy(w,n)}function V(n,w){return W.fromValues(n[0],n[1],n[2],w)}function ia(n){return n}function L(n){n[0]=n[1]=n[2]=n[3]=0}function ba(n,w){n[0]=n[1]=n[2]=0;n[3]=w;return n}function y(n){return n[3]}function O(n){return n}function K(n,w,G,ca){return W.fromValues(n,w,G,ca)}function fa(n,w,G){n!==G&&q.copy(G,n);G[3]=n[3]+w;return G}function ka(n,w,G){E.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
return n===G?G:R(n,G)}function wa(n,w,G){if(x.isNone(w))return!1;const {origin:ca,direction:da}=w;var ea=ja;ea[0]=ca[0]-n[0];ea[1]=ca[1]-n[1];ea[2]=ca[2]-n[2];w=da[0]*da[0]+da[1]*da[1]+da[2]*da[2];if(0===w)return!1;const Ca=2*(da[0]*ea[0]+da[1]*ea[1]+da[2]*ea[2]);n=Ca*Ca-4*w*(ea[0]*ea[0]+ea[1]*ea[1]+ea[2]*ea[2]-n[3]*n[3]);if(0>n)return!1;ea=Math.sqrt(n);n=(-Ca-ea)/(2*w);w=(-Ca+ea)/(2*w);if(0>n||w<n&&0<w)n=w;if(0>n)return!1;G&&(G[0]=ca[0]+da[0]*n,G[1]=ca[1]+da[1]*n,G[2]=ca[2]+da[2]*n);return!0}function xa(n,
w){return wa(n,w,null)}function Da(n,w,G){if(wa(n,w,G))return G;n=ya(n,w,J.sv3d.get());q.add(G,w.origin,q.scale(J.sv3d.get(),w.direction,q.distance(w.origin,n)/q.length(w.direction)));return G}function ya(n,w,G){const ca=J.sv3d.get(),da=J.sm4d.get();q.cross(ca,w.origin,w.direction);const ea=n[3];q.cross(G,ca,w.origin);q.scale(G,G,1/q.length(G)*ea);n=ma(n,w.origin);w=C.angle(w.origin,G);p.fromRotation(da,w+n,ca);q.transformMat4(G,G,da);return G}function Aa(n,w,G){if(wa(n,w,G))return G;B.closestPoint(w,
n,G);return Ba(n,G,G)}function Ba(n,w,G){w=q.subtract(J.sv3d.get(),w,n);w=q.scale(J.sv3d.get(),w,n[3]/q.length(w));return q.add(G,w,n)}function Ea(n,w){w=q.subtract(J.sv3d.get(),w,n);w=q.squaredLength(w);return Math.sqrt(Math.abs(w-n[3]*n[3]))}function ma(n,w){w=q.subtract(J.sv3d.get(),w,n);w=q.length(w);n=n[3];return D.acosClamped(n/(n+Math.abs(n-w)))}function na(n,w,G,ca){n=q.subtract(za,w,n);switch(G){case X.Axis.X:return G=D.cartesianToSpherical(n,za)[2],q.set(ca,-Math.sin(G),Math.cos(G),0);case X.Axis.Y:return n=
D.cartesianToSpherical(n,za),G=n[1],n=n[2],w=Math.sin(G),q.set(ca,-w*Math.cos(n),-w*Math.sin(n),Math.cos(G));case X.Axis.Z:return q.normalize(ca,n)}}function P(n,w){w=q.subtract(oa,w,n);return q.length(w)-n[3]}function Z(n,w,G,ca){const da=P(n,w);n=na(n,w,X.Axis.Z,oa);G=q.scale(oa,n,G-da);return q.add(ca,w,G)}function ha(n,w){w=q.squaredDistance(n,w);n=n[3];return w<=n*n}const ja=r.create(),za=r.create(),oa=r.create();v=N();r=Object.freeze(Object.defineProperty({__proto__:null,altitudeAt:P,angleToSilhouette:ma,
axisAt:na,clear:L,closestPoint:Aa,closestPointOnSilhouette:ya,containsPoint:ha,copy:R,create:N,distanceToSilhouette:Ea,elevate:fa,fromCenterAndRadius:V,fromRadius:ba,fromValues:K,getCenter:O,getRadius:y,intersectRay:wa,intersectRayClosestSilhouette:Da,intersectsRay:xa,projectPoint:Ba,setAltitudeAt:Z,setExtent:ka,tmpSphere:v,wrap:ia},Symbol.toStringTag,{value:"Module"}));e.altitudeAt=P;e.angleToSilhouette=ma;e.axisAt=na;e.clear=L;e.closestPoint=Aa;e.closestPointOnSilhouette=ya;e.containsPoint=ha;e.copy=
R;e.create=N;e.distanceToSilhouette=Ea;e.elevate=fa;e.fromCenterAndRadius=V;e.fromRadius=ba;e.fromValues=K;e.getCenter=O;e.getRadius=y;e.intersectRay=wa;e.intersectRayClosestSilhouette=Da;e.intersectsRay=xa;e.projectPoint=Ba;e.setAltitudeAt=Z;e.setExtent=ka;e.sphere=r;e.tmpSphere=v;e.wrap=ia})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(e,v,E){function D(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=
b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function x(a,b,c,d,f,g,k,l,h,m,t,u,A,z,H,F,I){a[0]=b;a[1]=c;a[2]=d;a[3]=f;a[4]=g;a[5]=k;a[6]=l;a[7]=h;a[8]=m;a[9]=t;a[10]=u;a[11]=A;a[12]=z;a[13]=H;a[14]=F;a[15]=I;return a}function p(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function q(a,b){if(a===b){const c=b[1],d=b[2],f=b[3],g=b[6],k=b[7],l=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;
a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=g;a[11]=b[14];a[12]=f;a[13]=k;a[14]=l}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function r(a,b){M(a,b)||p(a);return a}function M(a,b){const c=b[0],d=b[1],f=b[2],g=b[3],k=b[4],l=b[5],h=b[6],m=b[7],t=b[8],u=b[9],A=b[10],z=b[11],H=b[12],F=b[13],I=b[14];b=b[15];const Y=c*l-d*k,Q=c*h-f*k,S=c*m-g*k,T=d*h-f*l,U=d*m-g*l,pa=f*m-g*h,
qa=t*F-u*H,ra=t*I-A*H,sa=t*b-z*H,ta=u*I-A*F,ua=u*b-z*F,va=A*b-z*I;let aa=Y*va-Q*ua+S*ta+T*sa-U*ra+pa*qa;if(!aa)return null;aa=1/aa;a[0]=(l*va-h*ua+m*ta)*aa;a[1]=(f*ua-d*va-g*ta)*aa;a[2]=(F*pa-I*U+b*T)*aa;a[3]=(A*U-u*pa-z*T)*aa;a[4]=(h*sa-k*va-m*ra)*aa;a[5]=(c*va-f*sa+g*ra)*aa;a[6]=(I*S-H*pa-b*Q)*aa;a[7]=(t*pa-A*S+z*Q)*aa;a[8]=(k*ua-l*sa+m*qa)*aa;a[9]=(d*sa-c*ua-g*qa)*aa;a[10]=(H*U-F*S+b*Y)*aa;a[11]=(u*S-t*U-z*Y)*aa;a[12]=(l*ra-k*ta-h*qa)*aa;a[13]=(c*ta-d*ra+f*qa)*aa;a[14]=(F*Q-H*T-I*Y)*aa;a[15]=(t*
T-u*Q+A*Y)*aa;return a}function W(a,b){const c=b[0],d=b[1],f=b[2],g=b[3],k=b[4],l=b[5],h=b[6],m=b[7],t=b[8],u=b[9],A=b[10],z=b[11],H=b[12],F=b[13],I=b[14];b=b[15];a[0]=l*(A*b-z*I)-u*(h*b-m*I)+F*(h*z-m*A);a[1]=-(d*(A*b-z*I)-u*(f*b-g*I)+F*(f*z-g*A));a[2]=d*(h*b-m*I)-l*(f*b-g*I)+F*(f*m-g*h);a[3]=-(d*(h*z-m*A)-l*(f*z-g*A)+u*(f*m-g*h));a[4]=-(k*(A*b-z*I)-t*(h*b-m*I)+H*(h*z-m*A));a[5]=c*(A*b-z*I)-t*(f*b-g*I)+H*(f*z-g*A);a[6]=-(c*(h*b-m*I)-k*(f*b-g*I)+H*(f*m-g*h));a[7]=c*(h*z-m*A)-k*(f*z-g*A)+t*(f*m-g*h);
a[8]=k*(u*b-z*F)-t*(l*b-m*F)+H*(l*z-m*u);a[9]=-(c*(u*b-z*F)-t*(d*b-g*F)+H*(d*z-g*u));a[10]=c*(l*b-m*F)-k*(d*b-g*F)+H*(d*m-g*l);a[11]=-(c*(l*z-m*u)-k*(d*z-g*u)+t*(d*m-g*l));a[12]=-(k*(u*I-A*F)-t*(l*I-h*F)+H*(l*A-h*u));a[13]=c*(u*I-A*F)-t*(d*I-f*F)+H*(d*A-f*u);a[14]=-(c*(l*I-h*F)-k*(d*I-f*F)+H*(d*h-f*l));a[15]=c*(l*A-h*u)-k*(d*A-f*u)+t*(d*h-f*l);return a}function X(a){const b=a[0],c=a[1],d=a[2],f=a[3],g=a[4],k=a[5],l=a[6],h=a[7],m=a[8],t=a[9],u=a[10],A=a[11],z=a[12],H=a[13],F=a[14];a=a[15];return(b*
k-c*g)*(u*a-A*F)-(b*l-d*g)*(t*a-A*H)+(b*h-f*g)*(t*F-u*H)+(c*l-d*k)*(m*a-A*z)-(c*h-f*k)*(m*F-u*z)+(d*h-f*l)*(m*H-t*z)}function B(a,b,c){const d=b[0],f=b[1],g=b[2],k=b[3],l=b[4],h=b[5],m=b[6],t=b[7],u=b[8],A=b[9],z=b[10],H=b[11],F=b[12],I=b[13],Y=b[14];b=b[15];let Q=c[0],S=c[1],T=c[2],U=c[3];a[0]=Q*d+S*l+T*u+U*F;a[1]=Q*f+S*h+T*A+U*I;a[2]=Q*g+S*m+T*z+U*Y;a[3]=Q*k+S*t+T*H+U*b;Q=c[4];S=c[5];T=c[6];U=c[7];a[4]=Q*d+S*l+T*u+U*F;a[5]=Q*f+S*h+T*A+U*I;a[6]=Q*g+S*m+T*z+U*Y;a[7]=Q*k+S*t+T*H+U*b;Q=c[8];S=c[9];
T=c[10];U=c[11];a[8]=Q*d+S*l+T*u+U*F;a[9]=Q*f+S*h+T*A+U*I;a[10]=Q*g+S*m+T*z+U*Y;a[11]=Q*k+S*t+T*H+U*b;Q=c[12];S=c[13];T=c[14];U=c[15];a[12]=Q*d+S*l+T*u+U*F;a[13]=Q*f+S*h+T*A+U*I;a[14]=Q*g+S*m+T*z+U*Y;a[15]=Q*k+S*t+T*H+U*b;return a}function C(a,b,c){const d=c[0],f=c[1];c=c[2];if(b===a)a[12]=b[0]*d+b[4]*f+b[8]*c+b[12],a[13]=b[1]*d+b[5]*f+b[9]*c+b[13],a[14]=b[2]*d+b[6]*f+b[10]*c+b[14],a[15]=b[3]*d+b[7]*f+b[11]*c+b[15];else{const g=b[0],k=b[1],l=b[2],h=b[3],m=b[4],t=b[5],u=b[6],A=b[7],z=b[8],H=b[9],F=
b[10],I=b[11];a[0]=g;a[1]=k;a[2]=l;a[3]=h;a[4]=m;a[5]=t;a[6]=u;a[7]=A;a[8]=z;a[9]=H;a[10]=F;a[11]=I;a[12]=g*d+m*f+z*c+b[12];a[13]=k*d+t*f+H*c+b[13];a[14]=l*d+u*f+F*c+b[14];a[15]=h*d+A*f+I*c+b[15]}return a}function J(a,b,c){const d=c[0],f=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*f;a[5]=b[5]*f;a[6]=b[6]*f;a[7]=b[7]*f;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function N(a,b,c,d){let f=d[0],g=d[1];d=d[2];let k=
Math.sqrt(f*f+g*g+d*d);var l=void 0,h=void 0;let m=void 0,t=void 0,u=void 0,A=void 0,z=void 0,H=void 0,F=void 0,I=void 0,Y=void 0,Q=void 0,S=void 0,T=void 0,U=void 0,pa=void 0,qa=void 0,ra=void 0,sa=void 0,ta=void 0,ua=void 0,va=void 0;h=l=void 0;if(k<E.getEpsilon())return null;k=1/k;f*=k;g*=k;d*=k;l=Math.sin(c);h=Math.cos(c);m=1-h;t=b[0];u=b[1];A=b[2];z=b[3];H=b[4];F=b[5];I=b[6];Y=b[7];Q=b[8];S=b[9];T=b[10];U=b[11];pa=f*f*m+h;qa=g*f*m+d*l;ra=d*f*m-g*l;sa=f*g*m-d*l;ta=g*g*m+h;ua=d*g*m+f*l;va=f*d*
m+g*l;l=g*d*m-f*l;h=d*d*m+h;a[0]=t*pa+H*qa+Q*ra;a[1]=u*pa+F*qa+S*ra;a[2]=A*pa+I*qa+T*ra;a[3]=z*pa+Y*qa+U*ra;a[4]=t*sa+H*ta+Q*ua;a[5]=u*sa+F*ta+S*ua;a[6]=A*sa+I*ta+T*ua;a[7]=z*sa+Y*ta+U*ua;a[8]=t*va+H*l+Q*h;a[9]=u*va+F*l+S*h;a[10]=A*va+I*l+T*h;a[11]=z*va+Y*l+U*h;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function R(a,b,c){const d=Math.sin(c);c=Math.cos(c);const f=b[4],g=b[5],k=b[6],l=b[7],h=b[8],m=b[9],t=b[10],u=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],
a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=f*c+h*d;a[5]=g*c+m*d;a[6]=k*c+t*d;a[7]=l*c+u*d;a[8]=h*c-f*d;a[9]=m*c-g*d;a[10]=t*c-k*d;a[11]=u*c-l*d;return a}function V(a,b,c){const d=Math.sin(c);c=Math.cos(c);const f=b[0],g=b[1],k=b[2],l=b[3],h=b[8],m=b[9],t=b[10],u=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=f*c-h*d;a[1]=g*c-m*d;a[2]=k*c-t*d;a[3]=l*c-u*d;a[8]=f*d+h*c;a[9]=g*d+m*c;a[10]=k*d+t*c;a[11]=l*d+u*c;return a}function ia(a,b,c){const d=
Math.sin(c);c=Math.cos(c);const f=b[0],g=b[1],k=b[2],l=b[3],h=b[4],m=b[5],t=b[6],u=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=f*c+h*d;a[1]=g*c+m*d;a[2]=k*c+t*d;a[3]=l*c+u*d;a[4]=h*c-f*d;a[5]=m*c-g*d;a[6]=t*c-k*d;a[7]=u*c-l*d;return a}function L(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function ba(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;
a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,b,c){if(0===b)return p(a);let d=c[0],f=c[1];c=c[2];let g=Math.sqrt(d*d+f*f+c*c),k=void 0,l=void 0,h=void 0;if(g<E.getEpsilon())return null;g=1/g;d*=g;f*=g;c*=g;k=Math.sin(b);l=Math.cos(b);h=1-l;a[0]=d*d*h+l;a[1]=f*d*h+c*k;a[2]=c*d*h-f*k;a[3]=0;a[4]=d*f*h-c*k;a[5]=f*f*h+l;a[6]=c*f*h+d*k;a[7]=0;a[8]=d*c*h+f*k;a[9]=f*c*h-d*k;a[10]=c*c*h+l;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function O(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=c;a[7]=0;a[8]=0;a[9]=-c;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-c;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=c;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function fa(a,b){const c=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=c;a[2]=0;a[3]=0;a[4]=-c;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;
a[13]=0;a[14]=0;a[15]=1;return a}function ka(a,b,c){var d=b[0],f=b[1],g=b[2],k=b[3],l=d+d,h=f+f;const m=g+g;b=d*l;const t=d*h;d*=m;const u=f*h;f*=m;g*=m;l*=k;h*=k;k*=m;a[0]=1-(u+g);a[1]=t+k;a[2]=d-h;a[3]=0;a[4]=t-k;a[5]=1-(b+g);a[6]=f+l;a[7]=0;a[8]=d+h;a[9]=f-l;a[10]=1-(b+u);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function wa(a,b){const c=Ia,d=-b[0],f=-b[1],g=-b[2],k=b[3],l=b[4],h=b[5],m=b[6],t=b[7],u=d*d+f*f+g*g+k*k;0<u?(c[0]=2*(l*k+t*d+h*g-m*f)/u,c[1]=2*(h*k+t*f+m*d-l*g)/u,c[2]=
2*(m*k+t*g+l*f-h*d)/u):(c[0]=2*(l*k+t*d+h*g-m*f),c[1]=2*(h*k+t*f+m*d-l*g),c[2]=2*(m*k+t*g+l*f-h*d));ka(a,b,c);return a}function xa(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function Da(a,b){const c=b[0],d=b[1],f=b[2],g=b[4],k=b[5],l=b[6],h=b[8],m=b[9];b=b[10];a[0]=Math.sqrt(c*c+d*d+f*f);a[1]=Math.sqrt(g*g+k*k+l*l);a[2]=Math.sqrt(h*h+m*m+b*b);return a}function ya(a,b){const c=b[0]+b[5]+b[10];let d=0;0<c?(d=2*Math.sqrt(c+1),a[3]=.25*d,a[0]=(b[6]-b[9])/d,a[1]=(b[8]-b[2])/d,a[2]=(b[1]-b[4])/d):b[0]>
b[5]&&b[0]>b[10]?(d=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/d,a[0]=.25*d,a[1]=(b[1]+b[4])/d,a[2]=(b[8]+b[2])/d):b[5]>b[10]?(d=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/d,a[0]=(b[1]+b[4])/d,a[1]=.25*d,a[2]=(b[6]+b[9])/d):(d=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/d,a[0]=(b[8]+b[2])/d,a[1]=(b[6]+b[9])/d,a[2]=.25*d);return a}function Aa(a,b,c,d){var f=b[0],g=b[1],k=b[2],l=b[3],h=f+f,m=g+g,t=k+k;b=f*h;const u=f*m;f*=t;const A=g*m;g*=t;k*=t;h*=l;m*=l;l*=t;t=d[0];const z=d[1];d=d[2];
a[0]=(1-(A+k))*t;a[1]=(u+l)*t;a[2]=(f-m)*t;a[3]=0;a[4]=(u-l)*z;a[5]=(1-(b+k))*z;a[6]=(g+h)*z;a[7]=0;a[8]=(f+m)*d;a[9]=(g-h)*d;a[10]=(1-(b+A))*d;a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a}function Ba(a,b,c,d,f){var g=b[0],k=b[1],l=b[2],h=b[3],m=g+g,t=k+k,u=l+l;b=g*m;var A=g*t,z=g*u;g=k*t;k*=u;var H=l*u;l=h*m;t*=h;const F=h*u;var I=d[0],Y=d[1];u=d[2];d=f[0];h=f[1];f=f[2];m=(1-(g+H))*I;const Q=(A+F)*I;I*=z-t;A=(A-F)*Y;H=(1-(b+H))*Y;Y*=k+l;z=(z+t)*u;k=(k-l)*u;b=(1-(b+g))*u;a[0]=m;a[1]=
Q;a[2]=I;a[3]=0;a[4]=A;a[5]=H;a[6]=Y;a[7]=0;a[8]=z;a[9]=k;a[10]=b;a[11]=0;a[12]=c[0]+d-(m*d+A*h+z*f);a[13]=c[1]+h-(Q*d+H*h+k*f);a[14]=c[2]+f-(I*d+Y*h+b*f);a[15]=1;return a}function Ea(a,b){var c=b[0],d=b[1],f=b[2];b=b[3];var g=c+c,k=d+d;const l=f+f;c*=g;const h=d*g;d*=k;const m=f*g,t=f*k;f*=l;g*=b;k*=b;b*=l;a[0]=1-d-f;a[1]=h+b;a[2]=m-k;a[3]=0;a[4]=h-b;a[5]=1-c-f;a[6]=t+g;a[7]=0;a[8]=m+k;a[9]=t-g;a[10]=1-c-d;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ma(a,b,c,d,f,g,k){const l=1/(c-b),
h=1/(f-d),m=1/(g-k);a[0]=2*g*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*g*h;a[6]=0;a[7]=0;a[8]=(c+b)*l;a[9]=(f+d)*h;a[10]=(k+g)*m;a[11]=-1;a[12]=0;a[13]=0;a[14]=k*g*2*m;a[15]=0;return a}function na(a,b,c,d,f){b=1/Math.tan(b/2);let g=void 0;a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=f&&Infinity!==f?(g=1/(d-f),a[10]=(f+d)*g,a[14]=2*f*d*g):(a[10]=-1,a[14]=-2*d);return a}function P(a,b,c,d){const f=Math.tan(b.upDegrees*Math.PI/180),g=Math.tan(b.downDegrees*
Math.PI/180),k=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const l=2/(k+b),h=2/(f+g);a[0]=l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=h;a[6]=0;a[7]=0;a[8]=-((k-b)*l*.5);a[9]=(f-g)*h*.5;a[10]=d/(c-d);a[11]=-1;a[12]=0;a[13]=0;a[14]=d*c/(c-d);a[15]=0;return a}function Z(a,b,c,d,f,g,k){const l=1/(b-c),h=1/(d-f),m=1/(g-k);a[0]=-2*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*h;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*m;a[11]=0;a[12]=(b+c)*l;a[13]=(f+d)*h;a[14]=(k+g)*m;a[15]=1;return a}function ha(a,
b,c,d){var f=void 0;let g=void 0;var k=void 0,l=void 0;let h=void 0,m=void 0;var t=void 0,u=void 0;let A=void 0,z=void 0;const H=b[0],F=b[1];b=b[2];k=d[0];l=d[1];d=d[2];t=c[0];u=c[1];c=c[2];f=E.getEpsilon();if(Math.abs(H-t)<f&&Math.abs(F-u)<f&&Math.abs(b-c)<f)return p(a);t=H-t;u=F-u;A=b-c;z=1/Math.sqrt(t*t+u*u+A*A);t*=z;u*=z;A*=z;f=l*A-d*u;g=d*t-k*A;k=k*u-l*t;(z=Math.sqrt(f*f+g*g+k*k))?(z=1/z,f*=z,g*=z,k*=z):k=g=f=0;l=u*k-A*g;h=A*f-t*k;m=t*g-u*f;(z=Math.sqrt(l*l+h*h+m*m))?(z=1/z,l*=z,h*=z,m*=z):m=
h=l=0;a[0]=f;a[1]=l;a[2]=t;a[3]=0;a[4]=g;a[5]=h;a[6]=u;a[7]=0;a[8]=k;a[9]=m;a[10]=A;a[11]=0;a[12]=-(f*H+g*F+k*b);a[13]=-(l*H+h*F+m*b);a[14]=-(t*H+u*F+A*b);a[15]=1;return a}function ja(a,b,c,d){const f=b[0],g=b[1];b=b[2];var k=d[0];const l=d[1];var h=d[2];d=f-c[0];let m=g-c[1];c=b-c[2];let t=d*d+m*m+c*c;0<t&&(t=1/Math.sqrt(t),d*=t,m*=t,c*=t);let u=l*c-h*m;h=h*d-k*c;k=k*m-l*d;t=u*u+h*h+k*k;0<t&&(t=1/Math.sqrt(t),u*=t,h*=t,k*=t);a[0]=u;a[1]=h;a[2]=k;a[3]=0;a[4]=m*k-c*h;a[5]=c*u-d*k;a[6]=d*h-m*u;a[7]=
0;a[8]=d;a[9]=m;a[10]=c;a[11]=0;a[12]=f;a[13]=g;a[14]=b;a[15]=1;return a}function za(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function oa(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function n(a,b,c){a[0]=b[0]+c[0];a[1]=b[1]+c[1];a[2]=b[2]+c[2];a[3]=
b[3]+c[3];a[4]=b[4]+c[4];a[5]=b[5]+c[5];a[6]=b[6]+c[6];a[7]=b[7]+c[7];a[8]=b[8]+c[8];a[9]=b[9]+c[9];a[10]=b[10]+c[10];a[11]=b[11]+c[11];a[12]=b[12]+c[12];a[13]=b[13]+c[13];a[14]=b[14]+c[14];a[15]=b[15]+c[15];return a}function w(a,b,c){a[0]=b[0]-c[0];a[1]=b[1]-c[1];a[2]=b[2]-c[2];a[3]=b[3]-c[3];a[4]=b[4]-c[4];a[5]=b[5]-c[5];a[6]=b[6]-c[6];a[7]=b[7]-c[7];a[8]=b[8]-c[8];a[9]=b[9]-c[9];a[10]=b[10]-c[10];a[11]=b[11]-c[11];a[12]=b[12]-c[12];a[13]=b[13]-c[13];a[14]=b[14]-c[14];a[15]=b[15]-c[15];return a}
function G(a,b,c){a[0]=b[0]*c;a[1]=b[1]*c;a[2]=b[2]*c;a[3]=b[3]*c;a[4]=b[4]*c;a[5]=b[5]*c;a[6]=b[6]*c;a[7]=b[7]*c;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12]*c;a[13]=b[13]*c;a[14]=b[14]*c;a[15]=b[15]*c;return a}function ca(a,b,c,d){a[0]=b[0]+c[0]*d;a[1]=b[1]+c[1]*d;a[2]=b[2]+c[2]*d;a[3]=b[3]+c[3]*d;a[4]=b[4]+c[4]*d;a[5]=b[5]+c[5]*d;a[6]=b[6]+c[6]*d;a[7]=b[7]+c[7]*d;a[8]=b[8]+c[8]*d;a[9]=b[9]+c[9]*d;a[10]=b[10]+c[10]*d;a[11]=b[11]+c[11]*d;a[12]=b[12]+c[12]*d;a[13]=b[13]+c[13]*d;
a[14]=b[14]+c[14]*d;a[15]=b[15]+c[15]*d;return a}function da(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function ea(a,b){if(a===b)return!0;const c=a[0],d=a[1],f=a[2],g=a[3],k=a[4],l=a[5],h=a[6],m=a[7],t=a[8],u=a[9],A=a[10],z=a[11],H=a[12],F=a[13],I=a[14];a=a[15];const Y=b[0],Q=b[1],S=b[2],T=b[3],U=b[4],pa=b[5],qa=
b[6],ra=b[7],sa=b[8],ta=b[9],ua=b[10],va=b[11],aa=b[12],Fa=b[13],Ga=b[14];b=b[15];const la=E.getEpsilon();return Math.abs(c-Y)<=la*Math.max(1,Math.abs(c),Math.abs(Y))&&Math.abs(d-Q)<=la*Math.max(1,Math.abs(d),Math.abs(Q))&&Math.abs(f-S)<=la*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(g-T)<=la*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(k-U)<=la*Math.max(1,Math.abs(k),Math.abs(U))&&Math.abs(l-pa)<=la*Math.max(1,Math.abs(l),Math.abs(pa))&&Math.abs(h-qa)<=la*Math.max(1,Math.abs(h),Math.abs(qa))&&
Math.abs(m-ra)<=la*Math.max(1,Math.abs(m),Math.abs(ra))&&Math.abs(t-sa)<=la*Math.max(1,Math.abs(t),Math.abs(sa))&&Math.abs(u-ta)<=la*Math.max(1,Math.abs(u),Math.abs(ta))&&Math.abs(A-ua)<=la*Math.max(1,Math.abs(A),Math.abs(ua))&&Math.abs(z-va)<=la*Math.max(1,Math.abs(z),Math.abs(va))&&Math.abs(H-aa)<=la*Math.max(1,Math.abs(H),Math.abs(aa))&&Math.abs(F-Fa)<=la*Math.max(1,Math.abs(F),Math.abs(Fa))&&Math.abs(I-Ga)<=la*Math.max(1,Math.abs(I),Math.abs(Ga))&&Math.abs(a-b)<=la*Math.max(1,Math.abs(a),Math.abs(b))}
function Ca(a){const b=E.getEpsilon(),c=a[0],d=a[1],f=a[2],g=a[4],k=a[5],l=a[6],h=a[8],m=a[9];a=a[10];return Math.abs(1-(c*c+g*g+h*h))<=b&&Math.abs(1-(d*d+k*k+m*m))<=b&&Math.abs(1-(f*f+l*l+a*a))<=b}function Ha(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ia=v.create();v=Object.freeze(Object.defineProperty({__proto__:null,add:n,adjoint:W,copy:D,determinant:X,equals:ea,exactEquals:da,frob:oa,fromQuat:Ea,fromQuat2:wa,fromRotation:y,fromRotationTranslation:ka,
fromRotationTranslationScale:Aa,fromRotationTranslationScaleOrigin:Ba,fromScaling:ba,fromTranslation:L,fromXRotation:O,fromYRotation:K,fromZRotation:fa,frustum:ma,getRotation:ya,getScaling:Da,getTranslation:xa,hasIdentityRotation:Ha,identity:p,invert:M,invertOrIdentity:r,isOrthoNormal:Ca,lookAt:ha,mul:B,multiply:B,multiplyScalar:G,multiplyScalarAndAdd:ca,ortho:Z,perspective:na,perspectiveFromFieldOfView:P,rotate:N,rotateX:R,rotateY:V,rotateZ:ia,scale:J,set:x,str:za,sub:w,subtract:w,targetTo:ja,translate:C,
transpose:q},Symbol.toStringTag,{value:"Module"}));e.add=n;e.adjoint=W;e.copy=D;e.determinant=X;e.equals=ea;e.exactEquals=da;e.frob=oa;e.fromQuat=Ea;e.fromQuat2=wa;e.fromRotation=y;e.fromRotationTranslation=ka;e.fromRotationTranslationScale=Aa;e.fromRotationTranslationScaleOrigin=Ba;e.fromScaling=ba;e.fromTranslation=L;e.fromXRotation=O;e.fromYRotation=K;e.fromZRotation=fa;e.frustum=ma;e.getRotation=ya;e.getScaling=Da;e.getTranslation=xa;e.hasIdentityRotation=Ha;e.identity=p;e.invert=M;e.invertOrIdentity=
r;e.isOrthoNormal=Ca;e.lookAt=ha;e.mat4=v;e.mul=B;e.multiply=B;e.multiplyScalar=G;e.multiplyScalarAndAdd=ca;e.ortho=Z;e.perspective=na;e.perspectiveFromFieldOfView=P;e.rotate=N;e.rotateX=R;e.rotateY=V;e.rotateZ=ia;e.scale=J;e.set=x;e.str=za;e.sub=w;e.subtract=w;e.targetTo=ja;e.translate=C;e.transpose=q})},"esri/chunks/vec4f64":function(){define(["exports"],function(e){function v(){return[0,0,0,0]}function E(ba){return[ba[0],ba[1],ba[2],ba[3]]}function D(ba,y,O,K){return[ba,y,O,K]}function x(ba){const y=
v(),O=Math.min(4,ba.length);for(let K=0;K<O;++K)y[K]=ba[K];return y}function p(ba,y){return new Float64Array(ba,y,4)}function q(){return v()}function r(){return[1,1,1,1]}function M(){return[1,0,0,0]}function W(){return[0,1,0,0]}function X(){return[0,0,1,0]}function B(){return[0,0,0,1]}const C=v(),J=r(),N=M(),R=W(),V=X(),ia=B(),L=Object.freeze(Object.defineProperty({__proto__:null,ONES:J,UNIT_W:ia,UNIT_X:N,UNIT_Y:R,UNIT_Z:V,ZEROS:C,clone:E,create:v,createView:p,fromArray:x,fromValues:D,ones:r,unitW:B,
unitX:M,unitY:W,unitZ:X,zeros:q},Symbol.toStringTag,{value:"Module"}));e.ONES=J;e.UNIT_W=ia;e.UNIT_X=N;e.UNIT_Y=R;e.UNIT_Z=V;e.ZEROS=C;e.clone=E;e.create=v;e.createView=p;e.fromArray=x;e.fromValues=D;e.ones=r;e.unitW=B;e.unitX=M;e.unitY=W;e.unitZ=X;e.vec4f64=L;e.zeros=q})},"esri/geometry/support/Axis":function(){define(["exports"],function(e){e.Axis=void 0;var v=e.Axis||(e.Axis={});v[v.X=0]="X";v[v.Y=1]="Y";v[v.Z=2]="Z";Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),
function(e,v,E,D,x,p){function q(B){return B?r(x.clone(B.origin),x.clone(B.direction)):r(x.create(),x.create())}function r(B,C){return{origin:B,direction:C}}function M(B,C,J=q()){D.copy(J.origin,B);D.copy(J.direction,C);return J}function W(B,C){B=D.cross(p.sv3d.get(),D.normalize(p.sv3d.get(),B.direction),D.subtract(p.sv3d.get(),C,B.origin));return D.dot(B,B)}const X=new E.ObjectStack(()=>q());e.closestPoint=function(B,C,J){C=D.dot(B.direction,D.subtract(J,C,B.origin));D.add(J,B.origin,D.scale(J,B.direction,
C));return J};e.copy=function(B,C=q()){return M(B.origin,B.direction,C)};e.create=q;e.distance=function(B,C){return Math.sqrt(W(B,C))};e.distance2=W;e.equals=function(B,C){return v.equals(B.origin,C.origin)&&v.equals(B.direction,C.direction)};e.fromPoints=function(B,C,J=q()){D.copy(J.origin,B);D.subtract(J.direction,C,B);return J};e.fromValues=M;e.wrap=function(B,C){const J=X.get();J.origin=B;J.direction=C;return J};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports",
"./nextTick"],function(e,v){let E=function(){function D(p){this._allocator=p;this._items=[];this._itemsPtr=0;this._grow()}var x=D.prototype;x.get=function(){0===this._itemsPtr&&v.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]};x._reset=function(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0};x._grow=function(){for(let p=0;p<Math.max(8,Math.min(this._items.length,
1024));p++)this._items.push(this._allocator())};return D}();e.ObjectStack=E;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(e,v){const E=v.VectorStack.createVec2f64(),D=v.VectorStack.createVec3f64(),x=v.VectorStack.createVec4f64(),p=v.VectorStack.createMat3f64(),q=v.VectorStack.createMat4f64();v=v.VectorStack.createQuatf64();e.sm3d=p;e.sm4d=q;e.sq4d=v;e.sv2d=E;e.sv3d=D;e.sv4d=x;Object.defineProperty(e,
Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./byteSizeEstimations ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),function(e,v,E,D,x,p,q,r,M,W){let X=function(){function C(N,R,V){this._itemByteSize=N;this._itemCreate=R;this._buffers=[];this._items=[];this._itemsPtr=0;this._itemsPerBuffer=Math.ceil(V/this._itemByteSize)}var J=C.prototype;
J.get=function(){0===this._itemsPtr&&D.nextTick(()=>this._reset());const N=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=N;){const R=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let V=0;V<this._itemsPerBuffer;++V)this._items.push(this._itemCreate(R,V*this._itemByteSize));this._buffers.push(R)}return this._items[this._itemsPtr++]};J._reset=function(){const N=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>N;)this._buffers.pop(),
this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0};C.createVec2f64=function(N=B){return new C(16,r.createView,N)};C.createVec3f64=function(N=B){return new C(24,M.createView,N)};C.createVec4f64=function(N=B){return new C(32,W.createView,N)};C.createMat3f64=function(N=B){return new C(72,x.createView,N)};C.createMat4f64=function(N=B){return new C(128,p.createView,N)};C.createQuatf64=function(N=B){return new C(32,q.createView,N)};v._createClass(C,[{key:"test",get:function(){return{size:this._buffers.length*
this._itemsPerBuffer*this._itemByteSize}}}]);return C}();const B=4*E.ByteSizeUnit.KILOBYTES;e.VectorStack=X;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(e){function v(x){return 32+x.length}function E(x){if(!x)return 0;if(Array.isArray(x)){var p=x.length;if(0===p||"number"===typeof x[0])x=32+8*p;else{var q=32;for(let r=0;r<p;r++)q+=D(x[r]);x=q}return x}q=32;for(p in x)x.hasOwnProperty(p)&&(q+=D(x[p]));return q}
function D(x){switch(typeof x){case "object":return E(x);case "string":return v(x);case "number":return 16;case "boolean":return 4;default:return 8}}e.ByteSizeUnit=void 0;(function(x){x[x.KILOBYTES=1024]="KILOBYTES";x[x.MEGABYTES=1048576]="MEGABYTES";x[x.GIGABYTES=1073741824]="GIGABYTES"})(e.ByteSizeUnit||(e.ByteSizeUnit={}));e.estimateAttributesObjectSize=function(x){if(!x)return 0;let p=32;for(const q in x)if(x.hasOwnProperty(q)){const r=x[q];switch(typeof r){case "string":p+=v(r);break;case "number":p+=
16;break;case "boolean":p+=4}}return p};e.estimateFixedArraySize=function(x,p){return 32+x.length*p};e.estimateNestedObjectSize=E;e.estimateNumberByteSize=function(x){return 16};e.estimateStringByteSize=v;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3f64":function(){define(["exports"],function(e){function v(){return[1,0,0,0,1,0,0,0,1]}function E(q){return[q[0],q[1],q[2],q[3],q[4],q[5],q[6],q[7],q[8]]}function D(q,r,M,W,X,B,C,J,N){return[q,r,M,W,X,B,C,J,N]}function x(q,
r){return new Float64Array(q,r,9)}const p=Object.freeze(Object.defineProperty({__proto__:null,clone:E,create:v,createView:x,fromValues:D},Symbol.toStringTag,{value:"Module"}));e.clone=E;e.create=v;e.createView=x;e.fromValues=D;e.mat3f64=p})},"esri/chunks/mat4f64":function(){define(["exports"],function(e){function v(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function E(r){return[r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]]}function D(r,M,W,X,B,C,J,N,R,V,ia,
L,ba,y,O,K){return[r,M,W,X,B,C,J,N,R,V,ia,L,ba,y,O,K]}function x(r,M){return new Float64Array(r,M,16)}const p=v(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p,clone:E,create:v,createView:x,fromValues:D},Symbol.toStringTag,{value:"Module"}));e.IDENTITY=p;e.clone=E;e.create=v;e.createView=x;e.fromValues=D;e.mat4f64=q})},"esri/chunks/quatf64":function(){define(["exports"],function(e){function v(){return[0,0,0,1]}function E(r){return[r[0],r[1],r[2],r[3]]}function D(r,M,W,X){return[r,
M,W,X]}function x(r,M){return new Float64Array(r,M,4)}const p=v(),q=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:p,clone:E,create:v,createView:x,fromValues:D},Symbol.toStringTag,{value:"Module"}));e.IDENTITY=p;e.clone=E;e.create=v;e.createView=x;e.fromValues=D;e.quatf64=q})},"esri/chunks/vec2f64":function(){define(["exports"],function(e){function v(){return[0,0]}function E(R){return[R[0],R[1]]}function D(R,V){return[R,V]}function x(R){const V=[0,0],ia=Math.min(2,R.length);for(let L=
0;L<ia;++L)V[L]=R[L];return V}function p(R,V){return new Float64Array(R,V,2)}function q(){return[0,0]}function r(){return[1,1]}function M(){return[1,0]}function W(){return[0,1]}const X=[0,0],B=[1,1],C=[1,0],J=[0,1],N=Object.freeze(Object.defineProperty({__proto__:null,ONES:B,UNIT_X:C,UNIT_Y:J,ZEROS:X,clone:E,create:v,createView:p,fromArray:x,fromValues:D,ones:r,unitX:M,unitY:W,zeros:q},Symbol.toStringTag,{value:"Module"}));e.ONES=B;e.UNIT_X=C;e.UNIT_Y=J;e.ZEROS=X;e.clone=E;e.create=v;e.createView=
p;e.fromArray=x;e.fromValues=D;e.ones=r;e.unitX=M;e.unitY=W;e.vec2f64=N;e.zeros=q})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec3","../../chunks/vec3f64"],function(e,v,E,D){const x=D.create(),p=D.create();e.angle=function(q,r){q=E.dot(q,r)/(E.length(q)*E.length(r));return-v.acosClamped(q)};e.angleAroundAxis=function(q,r,M){E.normalize(x,q);E.normalize(p,r);q=E.dot(x,p);q=v.acosClamped(q);r=E.cross(x,x,p);return 0>E.dot(r,M)?2*Math.PI-q:q};e.projectPoint=
function(q,r,M){r=E.dot(q,r)/E.dot(q,q);return E.scale(M,q,r)};e.projectPointSignedLength=function(q,r){return E.dot(q,r)/E.length(q)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../libs/i3s/enums ../../../libs/i3s/I3SModule ./i3s/I3SNode".split(" "),function(e,v,E,D,x,p){function q(){q=v._asyncToGenerator(function*(y){yield V();const O=[y.geometryBuffer];return{result:C(y,O),transferList:O}});return q.apply(this,arguments)}function r(){r=v._asyncToGenerator(function*(y){yield V();const O=[y.geometryBuffer];var {geometryBuffer:K}=y,fa=K.byteLength;y=L._malloc(fa);fa=new Uint8Array(L.HEAPU8.buffer,
y,fa);fa.set(new Uint8Array(K));K=L.dracoDecompressPointCloudData(y,fa.byteLength);L._free(y);if(0<K.error.length)throw Error(`i3s.wasm: ${K.error}`);y=0<K.featureIds?.length?K.featureIds.slice():null;K=K.positions.slice();y&&O.push(y.buffer);O.push(K.buffer);return{result:{positions:K,featureIds:y},transferList:O}});return r.apply(this,arguments)}function M(){M=v._asyncToGenerator(function*(y){yield V();J(y);y={buffer:y.buffer};return{result:y,transferList:[y.buffer]}});return M.apply(this,arguments)}
function W(){W=v._asyncToGenerator(function*(y){yield V();B(y)});return W.apply(this,arguments)}function X(){X=v._asyncToGenerator(function*(y){yield V();L.setLegacySchema(y.context,y.jsonSchema)});return X.apply(this,arguments)}function B(y){const O=y.modifications,K=L._malloc(8*O.length),fa=new Float64Array(L.HEAPU8.buffer,K,O.length);for(let ka=0;ka<O.length;++ka)fa[ka]=O[ka];L.setModifications(y.context,K,O.length,y.isGeodetic);L._free(K)}function C(y,O){if(!L)return null;const {context:K,localOrigin:fa,
globalTrafo:ka,mbs:wa,obb:xa,elevationOffset:Da,geometryBuffer:ya,geometryDescriptor:Aa,indexToVertexProjector:Ba,vertexToRenderProjector:Ea}=y;var ma=L._malloc(ya.byteLength),na=L._malloc(33*Float64Array.BYTES_PER_ELEMENT),P=new Uint8Array(L.HEAPU8.buffer,ma,ya.byteLength);P.set(new Uint8Array(ya));var Z=new Float64Array(L.HEAPU8.buffer,na,33);R(Z,fa);var ha=Z.byteOffset+3*Z.BYTES_PER_ELEMENT,ja=new Float64Array(Z.buffer,ha);R(ja,ka);ha+=16*Z.BYTES_PER_ELEMENT;ja=new Float64Array(Z.buffer,ha);R(ja,
wa);ha+=4*Z.BYTES_PER_ELEMENT;E.isSome(xa)&&(ja=new Float64Array(Z.buffer,ha),R(ja,xa.center),ha+=3*Z.BYTES_PER_ELEMENT,ja=new Float64Array(Z.buffer,ha),R(ja,xa.halfSize),ha+=3*Z.BYTES_PER_ELEMENT,ja=new Float64Array(Z.buffer,ha),R(ja,xa.quaternion));Z={isDraco:!1,isLegacy:!1,color:y.layouts.some(oa=>oa.some(n=>"color"===n.name)),normal:y.needNormals&&y.layouts.some(oa=>oa.some(n=>"normalCompressed"===n.name)),uv0:y.layouts.some(oa=>oa.some(n=>"uv0"===n.name)),uvRegion:y.layouts.some(oa=>oa.some(n=>
"uvRegion"===n.name)),featureIndex:Aa.featureIndex};P=L.process(K,!!y.obb,ma,P.byteLength,Aa,Z,na,Da,Ba,Ea,y.normalReferenceFrame);L._free(na);L._free(ma);if(0<P.error.length)throw Error(`i3s.wasm: ${P.error}`);if(P.discarded)return null;ma=0<P.componentOffsets.length?P.componentOffsets.slice():null;na=0<P.featureIds.length?P.featureIds.slice():null;Z=P.interleavedVertedData.slice().buffer;ha=P.indicesType===D.IndexType.Int16?(new Uint16Array(P.indices.buffer,P.indices.byteOffset,P.indices.byteLength/
2)).slice():(new Uint32Array(P.indices.buffer,P.indices.byteOffset,P.indices.byteLength/4)).slice();ja=P.positions.slice();const za=P.positionIndicesType===D.IndexType.Int16?(new Uint16Array(P.positionIndices.buffer,P.positionIndices.byteOffset,P.positionIndices.byteLength/2)).slice():(new Uint32Array(P.positionIndices.buffer,P.positionIndices.byteOffset,P.positionIndices.byteLength/4)).slice();y={layout:y.layouts[0],interleavedVertexData:Z,indices:ha,hasColors:P.hasColors,hasModifications:P.hasModifications,
positionData:{data:ja,indices:za}};na&&O.push(na.buffer);ma&&O.push(ma.buffer);O.push(Z);O.push(ha.buffer);O.push(ja.buffer);O.push(za.buffer);return{componentOffsets:ma,featureIds:na,transformedGeometry:y,obb:P.obb}}function J(y){const {context:O,buffer:K}=y;y=L._malloc(K.byteLength);const fa=K.byteLength/Float64Array.BYTES_PER_ELEMENT,ka=new Float64Array(L.HEAPU8.buffer,y,fa),wa=new Float64Array(K);ka.set(wa);L.filterOBBs(O,y,fa);wa.set(ka);L._free(y)}function N(y){L&&L.destroy(y)}function R(y,
O){for(let K=0;K<O.length;++K)y[K]=O[K]}function V(){if(L)return Promise.resolve();ia||(ia=x.get().then(y=>{L=y;ia=null}));return ia}let ia,L;const ba={transform:C,destroy:N};e.destroyContext=function(y){N(y)};e.dracoDecompressPointCloudData=function(y){return r.apply(this,arguments)};e.filterObbsForModifications=function(y){return M.apply(this,arguments)};e.filterObbsForModificationsSync=J;e.initialize=V;e.interpretObbModificationResults=function(y){return 0===y?p.NodeIMModificationImpact.Unmodified:
1===y?p.NodeIMModificationImpact.PotentiallyModified:2===y?p.NodeIMModificationImpact.Culled:p.NodeIMModificationImpact.Unknown};e.process=function(y){return q.apply(this,arguments)};e.setLegacySchema=function(y){return X.apply(this,arguments)};e.setModifications=function(y){return W.apply(this,arguments)};e.setModificationsSync=B;e.test=ba;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});