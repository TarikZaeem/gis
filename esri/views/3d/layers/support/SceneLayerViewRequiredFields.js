// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../../../../core/AsyncUpdate ../../../../core/HandleOwner ../../../../core/Logger ../../../../core/maybe ../../../../core/accessorSupport/decorators/property ../../../../core/accessorSupport/ensureType ../../../../core/arrayUtils ../../../../core/accessorSupport/decorators/subclass ../../../../layers/support/fieldUtils".split(" "),function(a,h,e,r,t,u,m,g,x,y,v,n){function p(k){return q.apply(this,arguments)}
function q(){q=h._asyncToGenerator(function*(k){const f=new Set;try{return yield k(f),Array.from(f).sort()}catch(b){return u.getLogger("esri.views.3d.layers.support.SceneLayerViewRequiredFields").error(b),null}});return q.apply(this,arguments)}a.SceneLayerViewRequiredFields=function(k){function f(b){return k.call(this,b)||this}h._inheritsLoose(f,k);f.prototype.initialize=function(){var b=this;this.handles.add([this.autoUpdateAsync("rendererFields",h._asyncToGenerator(function*(){const {fieldsIndex:c,
renderer:d}=b.layer;return d?p(l=>d.collectRequiredFields(l,c)):null})),this.autoUpdateAsync("labelingFields",h._asyncToGenerator(function*(){const {layer:c}=b;return c.labelsVisible?p(d=>n.collectLabelingFields(d,c)):null})),this.autoUpdateAsync("viewFilterFields",()=>{const {layer:c,filter:d}=this.layerView;return p(l=>n.collectFilterFields(l,c,d))})])};h._createClass(f,[{key:"layer",get:function(){return this.layerView.layer}},{key:"requiredFields",get:function(){const {layerView:{layer:{fieldsIndex:b},
definitionExpressionFields:c},rendererFields:d,labelingFields:l,viewFilterFields:w}=this;return n.fixFields(b,[...m.unwrapOr(c,[]),...m.unwrapOr(d,[]),...m.unwrapOr(l,[]),...m.unwrapOr(w,[])])}}]);return f}(r.AsyncUpdateMixin(t.HandleOwner));e.__decorate([g.property()],a.SceneLayerViewRequiredFields.prototype,"layerView",void 0);e.__decorate([g.property()],a.SceneLayerViewRequiredFields.prototype,"layer",null);e.__decorate([g.property()],a.SceneLayerViewRequiredFields.prototype,"requiredFields",null);
e.__decorate([g.property()],a.SceneLayerViewRequiredFields.prototype,"rendererFields",void 0);e.__decorate([g.property()],a.SceneLayerViewRequiredFields.prototype,"labelingFields",void 0);e.__decorate([g.property()],a.SceneLayerViewRequiredFields.prototype,"viewFilterFields",void 0);a.SceneLayerViewRequiredFields=e.__decorate([v.subclass("esri.views.3d.layers.support.SceneLayerViewRequiredFields")],a.SceneLayerViewRequiredFields);Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});