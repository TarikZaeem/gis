// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),function(l,c,S,r,I,D,C){function H(P){P[0]=0;P[1]=0;P[2]=0;P[3]=1;return P}function E(P,N,T){T*=.5;const Z=Math.sin(T);P[0]=Z*N[0];P[1]=Z*N[1];P[2]=Z*N[2];P[3]=Math.cos(T);return P}function X(P,N){const T=2*Math.acos(N[3]),Z=Math.sin(T/2);Z>I.getEpsilon()?(P[0]=N[0]/Z,P[1]=N[1]/Z,P[2]=N[2]/Z):(P[0]=1,P[1]=0,P[2]=0);return T}function w(P,N,T){const Z=N[0],ca=N[1],ka=N[2];N=
N[3];const sa=T[0],Qa=T[1],a=T[2];T=T[3];P[0]=Z*T+N*sa+ca*a-ka*Qa;P[1]=ca*T+N*Qa+ka*sa-Z*a;P[2]=ka*T+N*a+Z*Qa-ca*sa;P[3]=N*T-Z*sa-ca*Qa-ka*a;return P}function A(P,N,T){T*=.5;const Z=N[0],ca=N[1],ka=N[2];N=N[3];const sa=Math.sin(T);T=Math.cos(T);P[0]=Z*T+N*sa;P[1]=ca*T+ka*sa;P[2]=ka*T-ca*sa;P[3]=N*T-Z*sa;return P}function R(P,N,T){T*=.5;const Z=N[0],ca=N[1],ka=N[2];N=N[3];const sa=Math.sin(T);T=Math.cos(T);P[0]=Z*T-ka*sa;P[1]=ca*T+N*sa;P[2]=ka*T+Z*sa;P[3]=N*T-ca*sa;return P}function e(P,N,T){T*=.5;
const Z=N[0],ca=N[1],ka=N[2];N=N[3];const sa=Math.sin(T);T=Math.cos(T);P[0]=Z*T+ca*sa;P[1]=ca*T-Z*sa;P[2]=ka*T+N*sa;P[3]=N*T-ka*sa;return P}function t(P,N){const T=N[0],Z=N[1];N=N[2];P[0]=T;P[1]=Z;P[2]=N;P[3]=Math.sqrt(Math.abs(1-T*T-Z*Z-N*N));return P}function k(P,N,T,Z){const ca=N[0],ka=N[1],sa=N[2];N=N[3];let Qa=T[0],a=T[1],b=T[2];T=T[3];let g;let n;var z=ca*Qa+ka*a+sa*b+N*T;0>z&&(z=-z,Qa=-Qa,a=-a,b=-b,T=-T);1-z>I.getEpsilon()?(g=Math.acos(z),n=Math.sin(g),z=Math.sin((1-Z)*g)/n,Z=Math.sin(Z*g)/
n):z=1-Z;P[0]=z*ca+Z*Qa;P[1]=z*ka+Z*a;P[2]=z*sa+Z*b;P[3]=z*N+Z*T;return P}function p(P){var N=I.RANDOM,T=N();const Z=N();N=N();const ca=Math.sqrt(1-T);T=Math.sqrt(T);P[0]=ca*Math.sin(2*Math.PI*Z);P[1]=ca*Math.cos(2*Math.PI*Z);P[2]=T*Math.sin(2*Math.PI*N);P[3]=T*Math.cos(2*Math.PI*N);return P}function x(P,N){const T=N[0],Z=N[1],ca=N[2];N=N[3];var ka=T*T+Z*Z+ca*ca+N*N;ka=ka?1/ka:0;P[0]=-T*ka;P[1]=-Z*ka;P[2]=-ca*ka;P[3]=N*ka;return P}function G(P,N){P[0]=-N[0];P[1]=-N[1];P[2]=-N[2];P[3]=N[3];return P}
function v(P,N){var T=N[0]+N[4]+N[8];if(0<T)T=Math.sqrt(T+1),P[3]=.5*T,T=.5/T,P[0]=(N[5]-N[7])*T,P[1]=(N[6]-N[2])*T,P[2]=(N[1]-N[3])*T;else{let Z=0;N[4]>N[0]&&(Z=1);N[8]>N[3*Z+Z]&&(Z=2);const ca=(Z+1)%3,ka=(Z+2)%3;T=Math.sqrt(N[3*Z+Z]-N[3*ca+ca]-N[3*ka+ka]+1);P[Z]=.5*T;T=.5/T;P[3]=(N[3*ca+ka]-N[3*ka+ca])*T;P[ca]=(N[3*ca+Z]+N[3*Z+ca])*T;P[ka]=(N[3*ka+Z]+N[3*Z+ka])*T}return P}function u(P,N,T,Z){var ca=.5*Math.PI/180;N*=ca;T*=ca;Z*=ca;ca=Math.sin(N);N=Math.cos(N);const ka=Math.sin(T);T=Math.cos(T);
const sa=Math.sin(Z);Z=Math.cos(Z);P[0]=ca*T*Z-N*ka*sa;P[1]=N*ka*Z+ca*T*sa;P[2]=N*T*sa-ca*ka*Z;P[3]=N*T*Z+ca*ka*sa;return P}function B(P){return"quat("+P[0]+", "+P[1]+", "+P[2]+", "+P[3]+")"}function y(P,N,T){const Z=D.dot(N,T);if(-.999999>Z)return D.cross(Aa,Ea,N),1E-6>D.len(Aa)&&D.cross(Aa,$a,N),D.normalize(Aa,Aa),E(P,Aa,Math.PI),P;if(.999999<Z)return P[0]=0,P[1]=0,P[2]=0,P[3]=1,P;D.cross(Aa,N,T);P[0]=Aa[0];P[1]=Aa[1];P[2]=Aa[2];P[3]=1+Z;return Ra(P,P)}function F(P,N,T,Z,ca,ka){k(Wa,N,ca,ka);k(Xa,
T,Z,ka);k(P,Wa,Xa,2*ka*(1-ka));return P}function Q(P,N,T,Z){const ca=ab;ca[0]=T[0];ca[3]=T[1];ca[6]=T[2];ca[1]=Z[0];ca[4]=Z[1];ca[7]=Z[2];ca[2]=-N[0];ca[5]=-N[1];ca[8]=-N[2];return Ra(P,v(P,ca))}const ea=C.copy,pa=C.set,ua=C.add,ja=C.scale,Ca=C.dot,Ga=C.lerp,Ia=C.length,Ja=C.squaredLength,Ra=C.normalize,wa=C.exactEquals;C=C.equals;const Aa=r.create(),Ea=r.fromValues(1,0,0),$a=r.fromValues(0,1,0),Wa=S.create(),Xa=S.create(),ab=c.create();c=Object.freeze(Object.defineProperty({__proto__:null,add:ua,
calculateW:t,conjugate:G,copy:ea,dot:Ca,equals:C,exactEquals:wa,fromEuler:u,fromMat3:v,getAxisAngle:X,identity:H,invert:x,len:Ia,length:Ia,lerp:Ga,mul:w,multiply:w,normalize:Ra,random:p,rotateX:A,rotateY:R,rotateZ:e,rotationTo:y,scale:ja,set:pa,setAxes:Q,setAxisAngle:E,slerp:k,sqlerp:F,sqrLen:Ja,squaredLength:Ja,str:B},Symbol.toStringTag,{value:"Module"}));l.add=ua;l.calculateW=t;l.conjugate=G;l.copy=ea;l.dot=Ca;l.equals=C;l.exactEquals=wa;l.fromEuler=u;l.fromMat3=v;l.getAxisAngle=X;l.identity=H;
l.invert=x;l.len=Ia;l.length=Ia;l.lerp=Ga;l.mul=w;l.multiply=w;l.normalize=Ra;l.quat=c;l.random=p;l.rotateX=A;l.rotateY=R;l.rotateZ=e;l.rotationTo=y;l.scale=ja;l.set=pa;l.setAxes=Q;l.setAxisAngle=E;l.slerp=k;l.sqlerp=F;l.sqrLen=Ja;l.squaredLength=Ja;l.str=B})},"esri/chunks/mat3f64":function(){define(["exports"],function(l){function c(){return[1,0,0,0,1,0,0,0,1]}function S(C){return[C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8]]}function r(C,H,E,X,w,A,R,e,t){return[C,H,E,X,w,A,R,e,t]}function I(C,H){return new Float64Array(C,
H,9)}const D=Object.freeze(Object.defineProperty({__proto__:null,clone:S,create:c,createView:I,fromValues:r},Symbol.toStringTag,{value:"Module"}));l.clone=S;l.create=c;l.createView=I;l.fromValues=r;l.mat3f64=D})},"esri/chunks/quatf64":function(){define(["exports"],function(l){function c(){return[0,0,0,1]}function S(H){return[H[0],H[1],H[2],H[3]]}function r(H,E,X,w){return[H,E,X,w]}function I(H,E){return new Float64Array(H,E,4)}const D=c(),C=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:D,
clone:S,create:c,createView:I,fromValues:r},Symbol.toStringTag,{value:"Module"}));l.IDENTITY=D;l.clone=S;l.create=c;l.createView=I;l.fromValues=r;l.quatf64=C})},"esri/chunks/quatf32":function(){define(["exports"],function(l){function c(){const C=new Float32Array(4);C[3]=1;return C}function S(C){const H=new Float32Array(4);H[0]=C[0];H[1]=C[1];H[2]=C[2];H[3]=C[3];return H}function r(C,H,E,X){const w=new Float32Array(4);w[0]=C;w[1]=H;w[2]=E;w[3]=X;return w}function I(C,H){return new Float32Array(C,H,
4)}const D=Object.freeze(Object.defineProperty({__proto__:null,clone:S,create:c,createView:I,fromValues:r},Symbol.toStringTag,{value:"Module"}));l.clone=S;l.create=c;l.createView=I;l.fromValues=r;l.quatf32=D})},"esri/chunks/vec3f32":function(){define(["exports"],function(l){function c(){return new Float32Array(3)}function S(p){const x=new Float32Array(3);x[0]=p[0];x[1]=p[1];x[2]=p[2];return x}function r(p,x,G){const v=new Float32Array(3);v[0]=p;v[1]=x;v[2]=G;return v}function I(p,x){return new Float32Array(p,
x,3)}function D(){return c()}function C(){return r(1,1,1)}function H(){return r(1,0,0)}function E(){return r(0,1,0)}function X(){return r(0,0,1)}const w=c(),A=C(),R=H(),e=E(),t=X(),k=Object.freeze(Object.defineProperty({__proto__:null,ONES:A,UNIT_X:R,UNIT_Y:e,UNIT_Z:t,ZEROS:w,clone:S,create:c,createView:I,fromValues:r,ones:C,unitX:H,unitY:E,unitZ:X,zeros:D},Symbol.toStringTag,{value:"Module"}));l.ONES=A;l.UNIT_X=R;l.UNIT_Y=e;l.UNIT_Z=t;l.ZEROS=w;l.clone=S;l.create=c;l.createView=I;l.fromValues=r;
l.ones=C;l.unitX=H;l.unitY=E;l.unitZ=X;l.vec3f32=k;l.zeros=D})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(l,c,S,r,I,D,C,H,E,X,w,A,R,e,t,k,p,x,G,v,u,B,y,F,Q,ea,pa){function ua(){return!!ya&&p.isLoaded()}function ja(d){D.isNone(Ya)&&(Ya=Promise.all([p.load(),(new Promise((h,f)=>l(["../chunks/geometryEngineBase"],h,f))).then(h=>h.geometryEngineBase),new Promise((h,f)=>l(["./geometryAdapters/hydrated"],h,f))]));return Ya.then(([,h,{hydratedAdapter:f}])=>{C.throwIfAborted(d);ta=f;ya=h.default;ya._enableProjection(p.pe);Ha.notify()})}function Ca(d,h,f=null,q=null){return Array.isArray(d)?0===d.length?
[]:Ga(ta,d,d[0].spatialReference,h,f,q):Ga(ta,[d],d.spatialReference,h,f,q)[0]}function Ga(d,h,f,q,U=null,W=null){if(D.isNone(f)||D.isNone(q))return h;if(wa(f,q,U))return h.map(da=>D.unwrap(Ea(da,f,q)));if(D.isNone(U)){const da=F.cacheKey(f,q);void 0!==bb[da]?U=bb[da]:(U=Ja(f,q,void 0),D.isNone(U)&&(U=new F),bb[da]=U)}if(D.isNone(ya)||D.isNone(d))throw new fb;return D.isSome(W)?ya._project(d,h,f,q,U,W):ya._project(d,h,f,q,U)}function Ia(d,h){if(!ua())for(const f of d)if(D.isSome(f)&&!Q.equals(f.spatialReference,
h)&&Q.isValid(f.spatialReference)&&Q.isValid(h)&&!wa(f.spatialReference,h))return E.trackAccess(Ha),{pending:ja(),geometries:null};return{pending:null,geometries:d.map(f=>D.isNone(f)?null:Q.equals(f.spatialReference,h)?f:Q.isValid(f.spatialReference)&&Q.isValid(h)?Ra(f,h):null)}}function Ja(d,h,f=null){if(D.isNone(d)||D.isNone(h))return null;if(D.isNone(ya)||D.isNone(ta))throw new fb;d=ya._getTransformation(ta,d,h,f,f?.spatialReference);return null!==d?F.fromGE(d):null}function Ra(d,h){try{const f=
Ca(d,h);if(null==f)return null;"xmin"in d&&"xmin"in f&&(f.zmin=d.zmin,f.zmax=d.zmax);const q=pa.getGeometryZScaler(f.type,d.spatialReference,h);D.isSome(q)&&q(f);return f}catch(f){if(!(f instanceof fb))throw f;return null}}function wa(d,h,f){return f?!1:Q.equals(d,h)?!0:Q.isValid(d)&&Q.isValid(h)&&!!Ka(d,h,hb)}function Aa(){Aa=S._asyncToGenerator(function*(d,h,f,q){if(ua())return C.waitTick(q);if(Array.isArray(d))for(const {source:U,dest:W,geographicTransformation:da}of d){if(!wa(U,W,da))return ja(q)}else if(!wa(d,
h,f))return ja(q);return C.waitTick(q)});return Aa.apply(this,arguments)}function Ea(d,h,f){return d?"x"in d?$a(d,h,new x,f,0):"xmin"in d?P(d,h,new t,f,0):"rings"in d?ab(d,h,new G,f,0):"paths"in d?Xa(d,h,new v,f,0):"points"in d?Wa(d,h,new k,f,0):null:null}function $a(d,h,f,q,U){oa[0]=d.x;oa[1]=d.y;const W=d.z;oa[2]=void 0!==W?W:U;if(!ca(oa,h,0,oa,q,0,1))return null;f.x=oa[0];f.y=oa[1];f.spatialReference=q;void 0===W?(f.z=void 0,f.hasZ=!1):(f.z=oa[2],f.hasZ=!0);void 0===d.m?(f.m=void 0,f.hasM=!1):
(f.m=d.m,f.hasM=!0);return f}function Wa(d,h,f,q,U){const {points:W,hasZ:da,hasM:la}=d;d=[];const Da=W.length,Ba=[];for(var za of W)Ba.push(za[0],za[1],da?za[2]:U);if(!ca(Ba,h,0,Ba,q,0,Da))return null;for(h=0;h<Da;++h){U=3*h;za=Ba[U];const Ma=Ba[U+1];da&&la?d.push([za,Ma,Ba[U+2],W[h][3]]):da?d.push([za,Ma,Ba[U+2]]):la?d.push([za,Ma,W[h][2]]):d.push([za,Ma])}f.points=d;f.spatialReference=q;f.hasZ=da;f.hasM=la;return f}function Xa(d,h,f,q,U){const {paths:W,hasZ:da,hasM:la}=d;d=[];if(!ka(W,da??!1,la??
!1,h,d,q,U))return null;f.paths=d;f.spatialReference=q;f.hasZ=da;f.hasM=la;return f}function ab(d,h,f,q,U){const {rings:W,hasZ:da,hasM:la}=d;d=[];if(!ka(W,da??!1,la??!1,h,d,q,U))return null;f.rings=d;f.spatialReference=q;f.hasZ=da;f.hasM=la;return f}function P(d,h,f,q,U){const {xmin:W,ymin:da,xmax:la,ymax:Da,hasZ:Ba,hasM:za}=d;if(!N(W,da,Ba?d.zmin:U,h,oa,q))return null;f.xmin=oa[0];f.ymin=oa[1];Ba&&(f.zmin=oa[2]);if(!N(la,Da,Ba?d.zmax:U,h,oa,q))return null;f.xmax=oa[0];f.ymax=oa[1];Ba&&(f.zmax=oa[2]);
za&&(f.mmin=d.mmin,f.mmax=d.mmax);f.spatialReference=q;return f}function N(d,h,f,q,U,W){xa[0]=d;xa[1]=h;xa[2]=f;return ca(xa,q,0,U,W,0,1)}function T(d,h,f,q){if(D.isNone(h)||D.isNone(q)||2>d.length)return!1;2===d.length&&(xa[0]=d[0],xa[1]=d[1],xa[2]=0,d=xa);return ca(d,h,0,f,q,0,1)}function Z(d,h,f){if(D.isNone(h))return!1;h=b(h,cb);h=Sa[h][m.WGS84_COMPARABLE_LON_LAT];if(D.isNone(h))return!1;h(d,0,xa,0);f!==xa&&(f[0]=xa[0],f[1]=xa[1],2<f.length&&(f[2]=xa[2]));return!0}function ca(d,h,f,q,U,W,da=1){h=
Ka(h,U,hb);if(D.isNone(h))return!1;if(h===g){if(d===q&&f===W)return!0;da=f+3*da;for(let la=f,Da=W;la<da;la++,Da++)q[Da]=d[la];return!0}da=f+3*da;for(let la=f,Da=W;la<da;la+=3,Da+=3)h(d,la,q,Da);return!0}function ka(d,h,f,q,U,W,da=0){const la=[];for(const Da of d)for(const Ba of Da)la.push(Ba[0],Ba[1],h?Ba[2]:da);if(!ca(la,q,0,la,W,0,la.length/3))return!1;q=0;U.length=0;for(const Da of d){d=[];for(const Ba of Da)h&&f?d.push([la[q++],la[q++],la[q++],Ba[3]]):h?d.push([la[q++],la[q++],la[q++]]):(f?d.push([la[q++],
la[q++],Ba[2]]):d.push([la[q++],la[q++]]),q++);U.push(d)}return!0}function sa(d,h,f,q){h=q+h;if(h<q/2||f>h)return Number.MAX_VALUE;d=Math.abs(Ta*d)+Math.asin(f/h);return d>=Math.PI/2?Number.MAX_VALUE:f/Math.cos(d)}function Qa(d,h,f){const q=Math.sin(d);d=Math.cos(d);const U=Math.sin(h);h=Math.cos(h);f[0]=-q;f[4]=-U*d;f[8]=h*d;f[12]=0;f[1]=d;f[5]=-U*q;f[9]=h*q;f[13]=0;f[2]=0;f[6]=h;f[10]=U;f[14]=0;f[3]=0;f[7]=0;f[11]=0;f[15]=1;return f}function a(d,h,f){Qa(d,h,f);w.transpose(f,f);return f}function b(d,
h){if(!d)return m.UNKNOWN;if(h.spatialReference===d)return h.spatialReferenceId;h.spatialReference=d;"metersPerUnit"in h&&(h.metersPerUnit=H.getMetersPerUnitForSR(d,1));return d.wkt===e.SphericalECEFSpatialReferenceLike.wkt?h.spatialReferenceId=m.SPHERICAL_ECEF:Q.isWGS84(d)?h.spatialReferenceId=m.WGS84:Q.isWebMercator(d)?h.spatialReferenceId=m.WEB_MERCATOR:Q.isPlateCarree(d)?h.spatialReferenceId=m.PLATE_CARREE:d.wkt===e.WGS84ECEFSpatialReferenceLike.wkt?h.spatialReferenceId=m.WGS84_ECEF:d.wkid===
ea.SupportedGCSWkids.CGCS2000?h.spatialReferenceId=m.CGCS2000:d.wkt===e.SphericalPCPFMarsLike.wkt?h.spatialReferenceId=m.SPHERICAL_MARS_PCPF:d.wkt===e.SphericalPCPFMoonLike.wkt?h.spatialReferenceId=m.SPHERICAL_MOON_PCPF:Q.isMars(d)?h.spatialReferenceId=m.GCSMARS2000:Q.isMoon(d)?h.spatialReferenceId=m.GCSMOON2000:h.spatialReferenceId=m.UNKNOWN}function g(d,h,f,q){d!==f&&(f[q++]=d[h++],f[q++]=d[h++],f[q]=d[h])}function n(d,h,f,q){f[q++]=db*(d[h++]/B.earth.radius);f[q++]=db*(Math.PI/2-2*Math.atan(Math.exp(-d[h++]/
B.earth.radius)));f[q]=d[h]}function z(d,h,f,q){n(d,h,f,q);fa(f,q,f,q)}function J(d,h,f,q){n(d,h,f,q);na(f,q,f,q)}function L(d,h,f,q,U){var W=.4999999*Math.PI;W=I.clamp(Ta*d[h+1],-W,W);W=Math.sin(W);f[q++]=Ta*d[h]*U.radius;f[q++]=U.halfSemiMajorAxis*Math.log((1+W)/(1-W));f[q]=d[h+2]}function M(d,h,f,q){L(d,h,f,q,B.earth)}function K(d,h,f,q){f[q]=d[h]*ib;f[q+1]=d[h+1]*ib;f[q+2]=d[h+2]}function O(d,h,f,q){f[q]=d[h]*eb;f[q+1]=d[h+1]*eb;f[q+2]=d[h+2]}function V(d,h,f,q){n(d,h,f,q);K(f,q,f,q)}function Y(d,
h,f,q,U){U+=d[h+2];const W=Ta*d[h+1];d=Ta*d[h];h=Math.cos(W);f[q++]=Math.cos(d)*h*U;f[q++]=Math.sin(d)*h*U;f[q]=Math.sin(W)*U}function ba(d,h,f,q){Y(d,h,f,q,B.moon.radius)}function aa(d,h,f,q){Y(d,h,f,q,B.mars.radius)}function fa(d,h,f,q){Y(d,h,f,q,B.earth.radius)}function ha(d,h,f,q,U){var W=d[h];const da=d[h+1];h=d[h+2];d=Math.sqrt(W*W+da*da+h*h);h=I.asinClamped(h/(0===d?1:d));W=Math.atan2(da,W);f[q++]=db*W;f[q++]=db*h;f[q]=d-U}function ia(d,h,f,q){ha(d,h,f,q,B.moon.radius)}function va(d,h,f,q){ha(d,
h,f,q,B.mars.radius)}function ma(d,h,f,q){ha(d,h,f,q,B.earth.radius)}function qa(d,h,f,q){ma(d,h,f,q);M(f,q,f,q)}function ra(d,h,f,q){ma(d,h,f,q);na(f,q,f,q)}function na(d,h,f,q){var U=B.earth;const W=Ta*d[h];var da=Ta*d[h+1];d=d[h+2];h=Math.sin(da);da=Math.cos(da);const la=U.radius/Math.sqrt(1-U.eccentricitySquared*h*h);f[q++]=(la+d)*da*Math.cos(W);f[q++]=(la+d)*da*Math.sin(W);f[q++]=(la*(1-U.eccentricitySquared)+d)*h}function Fa(d,h,f,q){var U=y.earthEllipsoidConstants,W=d[h],da=d[h+1];d=d[h+2];
let la;h=Math.abs(d);var Da=W*W+da*da;var Ba=Math.sqrt(Da);var za=Da+d*d;var Ma=Math.sqrt(za);W=Math.atan2(da,W);var Va=d*d/za;za=Da/za;da=U.a2/Ma;Da=U.a3-U.a4/Ma;.3<za?(Va=h/Ma*(1+za*(U.a1+da+Va*Da)/Ma),Ma=Math.asin(Va),da=Va*Va,za=Math.sqrt(1-da)):(za=Ba/Ma*(1-Va*(U.a5-da-za*Da)/Ma),Ma=Math.acos(za),da=1-za*za,Va=Math.sqrt(da));la=1-B.earth.eccentricitySquared*da;da=B.earth.radius/Math.sqrt(la);U=U.a6*da;da=Ba-da*za;Da=h-U*Va;h=za*da+Va*Da;Ba=za*Da-Va*da;U=Ba/(U/la+h);Ma+=U;0>d&&(Ma=-Ma);f[q++]=
db*W;f[q++]=db*Ma;f[q]=h+Ba*U/2}function Na(d,h,f,q){Fa(d,h,f,q);fa(f,q,f,q)}function Oa(d,h,f,q){Fa(d,h,f,q);M(f,q,f,q)}function Ka(d,h,f=La()){return D.isNone(d)||D.isNone(h)?null:Pa(d,h,f).projector}function Pa(d,h,f){if(D.isNone(d)||D.isNone(h)||f.source.spatialReference===d&&f.dest.spatialReference===h)return f;const q=b(d,f.source),U=b(h,f.dest);q===m.UNKNOWN&&U===m.UNKNOWN?Q.equals(d,h)?f.projector=g:f.projector=null:f.projector=Sa[q][U];return f}function La(){return{source:{spatialReference:null,
spatialReferenceId:m.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:m.UNKNOWN,metersPerUnit:1},projector:g}}let ya=null,ta=null,Ya=null,bb={};const Ha=new X.SimpleObservable;let fb=function(d){function h(){return d.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}S._inheritsLoose(h,d);return h}(r);var m;(function(d){d[d.UNKNOWN=0]="UNKNOWN";d[d.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";d[d.WGS84=2]="WGS84";d[d.WEB_MERCATOR=3]=
"WEB_MERCATOR";d[d.WGS84_ECEF=4]="WGS84_ECEF";d[d.CGCS2000=5]="CGCS2000";d[d.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";d[d.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";d[d.GCSMARS2000=8]="GCSMARS2000";d[d.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";d[d.GCSMOON2000=10]="GCSMOON2000";d[d.LON_LAT=11]="LON_LAT";d[d.PLATE_CARREE=12]="PLATE_CARREE"})(m||(m={}));const ib=B.earth.radius*Math.PI/180,eb=180/(B.earth.radius*Math.PI),Sa={[m.WGS84]:{[m.CGCS2000]:null,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,
[m.LON_LAT]:g,[m.WGS84_COMPARABLE_LON_LAT]:g,[m.SPHERICAL_ECEF]:fa,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:M,[m.PLATE_CARREE]:K,[m.WGS84]:g,[m.WGS84_ECEF]:na},[m.CGCS2000]:{[m.CGCS2000]:g,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:g,[m.WGS84_COMPARABLE_LON_LAT]:g,[m.SPHERICAL_ECEF]:fa,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:null,[m.PLATE_CARREE]:K,[m.WGS84]:null,[m.WGS84_ECEF]:na},[m.GCSMARS2000]:{[m.CGCS2000]:null,
[m.GCSMARS2000]:g,[m.GCSMOON2000]:null,[m.LON_LAT]:g,[m.WGS84_COMPARABLE_LON_LAT]:null,[m.SPHERICAL_ECEF]:null,[m.SPHERICAL_MARS_PCPF]:aa,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:null,[m.PLATE_CARREE]:null,[m.WGS84]:null,[m.WGS84_ECEF]:null},[m.GCSMOON2000]:{[m.CGCS2000]:null,[m.GCSMARS2000]:null,[m.GCSMOON2000]:g,[m.LON_LAT]:g,[m.WGS84_COMPARABLE_LON_LAT]:null,[m.SPHERICAL_ECEF]:null,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:ba,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:null,
[m.PLATE_CARREE]:null,[m.WGS84]:null,[m.WGS84_ECEF]:null},[m.WEB_MERCATOR]:{[m.CGCS2000]:null,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:n,[m.WGS84_COMPARABLE_LON_LAT]:n,[m.SPHERICAL_ECEF]:z,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:g,[m.PLATE_CARREE]:V,[m.WGS84]:n,[m.WGS84_ECEF]:J},[m.WGS84_ECEF]:{[m.CGCS2000]:Fa,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:Fa,[m.WGS84_COMPARABLE_LON_LAT]:Fa,[m.SPHERICAL_ECEF]:Na,[m.SPHERICAL_MARS_PCPF]:null,
[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:Oa,[m.PLATE_CARREE]:function(d,h,f,q){Fa(d,h,f,q);K(f,q,f,q)},[m.WGS84]:Fa,[m.WGS84_ECEF]:g},[m.SPHERICAL_ECEF]:{[m.CGCS2000]:ma,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:ma,[m.WGS84_COMPARABLE_LON_LAT]:ma,[m.SPHERICAL_ECEF]:g,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:qa,[m.PLATE_CARREE]:function(d,h,f,q){ma(d,h,f,q);K(f,q,f,q)},[m.WGS84]:ma,[m.WGS84_ECEF]:ra},[m.SPHERICAL_MARS_PCPF]:{[m.CGCS2000]:null,
[m.GCSMARS2000]:va,[m.GCSMOON2000]:null,[m.LON_LAT]:va,[m.WGS84_COMPARABLE_LON_LAT]:null,[m.SPHERICAL_ECEF]:null,[m.SPHERICAL_MARS_PCPF]:g,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:null,[m.PLATE_CARREE]:null,[m.WGS84]:null,[m.WGS84_ECEF]:null},[m.SPHERICAL_MOON_PCPF]:{[m.CGCS2000]:null,[m.GCSMARS2000]:null,[m.GCSMOON2000]:ia,[m.LON_LAT]:ia,[m.WGS84_COMPARABLE_LON_LAT]:null,[m.SPHERICAL_ECEF]:null,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:g,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:null,
[m.PLATE_CARREE]:null,[m.WGS84]:null,[m.WGS84_ECEF]:null},[m.UNKNOWN]:{[m.CGCS2000]:null,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:null,[m.WGS84_COMPARABLE_LON_LAT]:null,[m.SPHERICAL_ECEF]:null,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:g,[m.WEB_MERCATOR]:null,[m.PLATE_CARREE]:null,[m.WGS84]:null,[m.WGS84_ECEF]:null},[m.LON_LAT]:{[m.CGCS2000]:g,[m.GCSMARS2000]:g,[m.GCSMOON2000]:g,[m.LON_LAT]:g,[m.WGS84_COMPARABLE_LON_LAT]:g,[m.SPHERICAL_ECEF]:fa,[m.SPHERICAL_MARS_PCPF]:aa,
[m.SPHERICAL_MOON_PCPF]:ba,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:M,[m.PLATE_CARREE]:K,[m.WGS84]:g,[m.WGS84_ECEF]:na},[m.WGS84_COMPARABLE_LON_LAT]:{[m.CGCS2000]:null,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:g,[m.WGS84_COMPARABLE_LON_LAT]:g,[m.SPHERICAL_ECEF]:fa,[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:null,[m.PLATE_CARREE]:K,[m.WGS84]:g,[m.WGS84_ECEF]:na},[m.PLATE_CARREE]:{[m.CGCS2000]:O,[m.GCSMARS2000]:null,[m.GCSMOON2000]:null,[m.LON_LAT]:O,
[m.WGS84_COMPARABLE_LON_LAT]:O,[m.SPHERICAL_ECEF]:function(d,h,f,q){O(d,h,f,q);fa(f,q,f,q)},[m.SPHERICAL_MARS_PCPF]:null,[m.SPHERICAL_MOON_PCPF]:null,[m.UNKNOWN]:null,[m.WEB_MERCATOR]:function(d,h,f,q){O(d,h,f,q);M(f,q,f,q)},[m.PLATE_CARREE]:g,[m.WGS84]:O,[m.WGS84_ECEF]:function(d,h,f,q){O(d,h,f,q);na(f,q,f,q)}}},cb={spatialReference:null,spatialReferenceId:m.UNKNOWN},jb={spatialReference:null,spatialReferenceId:m.UNKNOWN},hb=La(),kb=La(),Ta=I.deg2rad(1),db=I.rad2deg(1),xa=R.create(),Ua=R.create(),
Za=R.create(),oa=R.create(),gb=R.create();c.canProjectToWGS84ComparableLonLat=function(d){if(D.isNone(d))return!1;d=b(d,cb);return!!Sa[d][m.WGS84_COMPARABLE_LON_LAT]};c.canProjectWithoutEngine=wa;c.computeENUToSphericalPCPFLocalRotation=Qa;c.computeSphericalPCPFToENULocalRotation=a;c.computeTranslationToOriginAndRotation=function(d,h,f,q){if(D.isNone(d)||D.isNone(q))return!1;var U=b(d,cb),W=b(q,jb);if(U===W&&W!==m.SPHERICAL_ECEF&&W!==m.SPHERICAL_MARS_PCPF&&W!==m.SPHERICAL_MOON_PCPF&&(U!==m.UNKNOWN||
Q.equals(d,q)))return w.fromTranslation(f,h),!0;if(W===m.SPHERICAL_ECEF||W===m.SPHERICAL_MARS_PCPF||W===m.SPHERICAL_MOON_PCPF){U=Sa[U][m.LON_LAT];W=Sa[m.LON_LAT][W];if(D.isNone(U)||D.isNone(W))return!1;U(h,0,Ua,0);W(Ua,0,Za,0);Qa(Ta*Ua[0],Ta*Ua[1],f);f[12]=Za[0];f[13]=Za[1];f[14]=Za[2];return!0}if((W===m.WEB_MERCATOR||W===m.PLATE_CARREE)&&(U===m.WGS84||U===m.CGCS2000&&W===m.PLATE_CARREE||U===m.SPHERICAL_ECEF||U===m.WEB_MERCATOR)){d=Sa[U][m.LON_LAT];W=Sa[m.LON_LAT][W];if(D.isNone(d)||D.isNone(W))return!1;
d(h,0,Ua,0);W(Ua,0,Za,0);U===m.SPHERICAL_ECEF?a(Ta*Ua[0],Ta*Ua[1],f):w.identity(f);f[12]=Za[0];f[13]=Za[1];f[14]=Za[2];return!0}return!1};c.getProjectorName=function(d,h){switch(Ka(d,h,hb)){case g:return"copy3";case fa:return"wgs84ToSphericalECEF";case M:return"wgs84ToWebMercator";case K:return"wgs84ToPlateCarree";case na:return"wgs84ToWGS84ECEF";case n:return"webMercatorToWGS84";case z:return"webMercatorToSphericalECEF";case J:return"webMercatorToWGS84ECEF";case V:return"webMercatorToPlateCarree";
case Fa:return"wgs84ECEFToWGS84";case Na:return"wgs84ECEFToSphericalECEF";case Oa:return"wgs84ECEFToWebMercator";case ma:return"sphericalECEFToWGS84";case qa:return"sphericalECEFToWebMercator";case va:return"sphericalMarsPCPFToMars2000";case ia:return"sphericalMoonPCPFToMoon2000";case ra:return"sphericalECEFToWGS84ECEF";case aa:return"mars2000ToSphericalPCPF";case ba:return"moon2000ToSphericalPCPF";default:return null}};c.getTransformation=Ja;c.getTransformations=function(d,h,f=null){if(D.isNone(ya)||
D.isNone(ta))throw new fb;d=ya._getTransformationBySuitability(ta,d,h,f,f?.spatialReference);if(null!==d){h=[];for(const q of d)h.push(F.fromGE(q));return h}return[]};c.initializeProjection=function(d,h,f,q){return Aa.apply(this,arguments)};c.isLoaded=ua;c.load=ja;c.localLinearScaleFactors=function(d,h,f,q){if(D.isNone(h)||D.isNone(q))return!1;const U=b(h,cb);var W=b(q,jb);if(U===W&&U!==m.UNKNOWN||Q.equals(h,q))return f[0]=1,f[1]=1,f[2]=1,!0;if(U===m.SPHERICAL_ECEF){h=A.length(d);d=h/Math.sqrt(d[0]*
d[0]+d[1]*d[1]);h/=B.earth.radius;if(W===m.WEB_MERCATOR)return f[0]=d*h,f[1]=d*h,f[2]=1,!0;if(W===m.WGS84||W===m.CGCS2000)return W=eb,f[0]=W*d*h,f[1]=W*h,f[2]=1,!0}else if(U===m.PLATE_CARREE){if(W===m.WGS84||W===m.CGCS2000)return f[0]=eb,f[1]=eb,f[2]=1,!0;if(W===m.WEB_MERCATOR)return W=d[1]/B.earth.radius,f[0]=1,f[1]=1/Math.cos(W),f[2]=1,!0}return!1};c.lonLatToSphericalPCPF=function(d,h,f,q){const U=Math.cos(f);d[0]=Math.cos(h)*U*q;d[1]=Math.sin(h)*U*q;d[2]=Math.sin(f)*q};c.lonLatToWebMercatorComparable=
L;c.project=Ca;c.projectBoundingRect=function(d,h,f,q){if(null==d)return!1;if(Q.equals(h,q))return u.copy(f,d),!0;xa[0]=d[0];xa[1]=d[1];xa[2]=0;if(!ca(xa,h,0,xa,q,0,1))return!1;f[0]=xa[0];f[1]=xa[1];xa[0]=d[2];xa[1]=d[3];xa[2]=0;if(!ca(xa,h,0,xa,q,0,1))return!1;f[2]=xa[0];f[3]=xa[1];return!0};c.projectBoundingSphere=function(d,h,f,q){if(D.isNone(h)||D.isNone(q))return!1;h=Pa(h,q,kb);if(h.projector===g)return f[0]=d[0],f[1]=d[1],f[2]=d[2],f[3]=d[3],!0;if(D.isNone(h.projector))return!1;const {source:U,
dest:W}=h;if(W.spatialReferenceId===m.WEB_MERCATOR){h=Sa[U.spatialReferenceId][m.WGS84];if(D.isNone(h))return!1;h(d,0,Ua,0);M(Ua,0,f,0);f[3]=sa(Ua[1],d[2],d[3],B.earth.radius);return!0}if(U.spatialReferenceId!==m.WGS84&&U.spatialReferenceId!==m.CGCS2000||W.spatialReferenceId!==m.PLATE_CARREE)h.projector(d,0,f,0),f[3]=d[3]*(U.metersPerUnit??1)/(W.metersPerUnit??1);else{q=Sa[m.SPHERICAL_ECEF][m.PLATE_CARREE];let da=d[3];D.isSome(Sa[U.spatialReferenceId][m.SPHERICAL_ECEF])&&D.isSome(q)&&(da=sa(d[1],
d[2],d[3],B.earth.radius));h.projector(d,0,f,0);f[3]=da}return!0};c.projectBuffer=ca;c.projectDirection=function(d,h,f,q,U){A.copy(oa,d);A.add(gb,d,h);T(oa,f,oa,U);T(gb,f,gb,U);A.subtract(q,gb,oa);A.normalize(q,q)};c.projectExtent=function(d,h,f=h.spatialReference,q=0){return D.isSome(d.spatialReference)&&D.isSome(f)&&D.isSome(P(d,d.spatialReference,h,f,q))};c.projectMany=Ga;c.projectMultipoint=function(d,h,f=h.spatialReference,q=0){return D.isSome(d.spatialReference)&&D.isSome(f)&&D.isSome(Wa(d,
d.spatialReference,h,f,q))};c.projectOrLoad=function(d,h){d=Ia([d],h);return D.isSome(d.pending)?{pending:d.pending,geometry:null}:D.isSome(d.geometries)?{pending:null,geometry:d.geometries[0]}:{pending:null,geometry:null}};c.projectOrLoadMany=Ia;c.projectPoint=function(d,h,f=h.spatialReference,q=0){return D.isSome(f)&&D.isSome(d.spatialReference)&&D.isSome($a(d,d.spatialReference,h,f,q))};c.projectPointToVector=function(d,h,f,q=0){oa[0]=d.x;oa[1]=d.y;const U=d.z;oa[2]=void 0!==U?U:q;return ca(oa,
d.spatialReference,0,h,f,0,1)};c.projectPointToWGS84ComparableLonLat=function(d,h){oa[0]=d.x;oa[1]=d.y;const f=d.z;oa[2]=void 0!==f?f:0;return Z(oa,d.spatialReference,h)};c.projectPolygon=function(d,h,f=h.spatialReference,q=0){return D.isSome(d.spatialReference)&&D.isSome(f)&&D.isSome(ab(d,d.spatialReference,h,f,q))};c.projectPolygonToWGS84ComparableLonLat=function({hasZ:d,spatialReference:h,rings:f},q,U=0){h=b(h,cb);h=Sa[h][m.WGS84_COMPARABLE_LON_LAT];if(D.isNone(h))return!1;d=d?W=>W:W=>A.set(oa,
W[0],W[1],U);for(const W of f){f=[];for(const da of W){const la=[0,0,U];h(d(da),0,la,0);f.push(la)}q.push(f)}return!0};c.projectPolyline=function(d,h,f=h.spatialReference,q=0){return D.isSome(d.spatialReference)&&D.isSome(f)&&D.isSome(Xa(d,d.spatialReference,h,f,q))};c.projectPolylineToWGS84ComparableLonLat=function({hasZ:d,spatialReference:h,paths:f},q,U=0){h=b(h,cb);h=Sa[h][m.WGS84_COMPARABLE_LON_LAT];if(D.isNone(h))return!1;d=d?W=>W:W=>A.set(oa,W[0],W[1],U);for(const W of f){f=[];for(const da of W){const la=
[0,0,U];h(d(da),0,la,0);f.push(la)}q.push(f)}return!0};c.projectVectorToDehydratedPoint=function(d,h,f){return ca(d,h,0,oa,f.spatialReference,0,1)?(f.x=oa[0],f.y=oa[1],f.z=oa[2],f):null};c.projectVectorToPoint=function(d,h,f){if(D.isNone(h)||D.isNone(f))return null;const q=new x({spatialReference:f});return ca(d,h,0,oa,f,0,1)?(q.x=oa[0],q.y=oa[1],q.z=oa[2],q):null};c.projectVectorToVector=T;c.projectVectorToWGS84ComparableLonLat=function(d,h,f){return Z(d,h,f)};c.projectWithoutEngine=Ea;c.projectXYZToVector=
N;c.sphericalPCPFtoLonLatElevation=ha;c.test={get loadPromise(){return Ya}};c.tryProjectWithZConversion=Ra;c.unload=function(){Ya=ta=ya=null;bb={}};Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(l,c,S){S=function(r){function I(){return r.apply(this,arguments)||this}c._inheritsLoose(I,r);I.prototype.notify=function(){var D=this._observers;
if(D&&0<D.length){D=D.slice();for(const C of D)C.onInvalidated(),C.onCommitted()}};return I}(S.ObservableBase);l.SimpleObservable=S;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(l,c,S){function r(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function I(a,b,g,n,z,
J,L,M,K,O,V,Y,ba,aa,fa,ha,ia){a[0]=b;a[1]=g;a[2]=n;a[3]=z;a[4]=J;a[5]=L;a[6]=M;a[7]=K;a[8]=O;a[9]=V;a[10]=Y;a[11]=ba;a[12]=aa;a[13]=fa;a[14]=ha;a[15]=ia;return a}function D(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function C(a,b){if(a===b){const g=b[1],n=b[2],z=b[3],J=b[6],L=b[7],M=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=g;a[6]=b[9];a[7]=b[13];a[8]=n;a[9]=J;a[11]=b[14];a[12]=z;a[13]=L;a[14]=M}else a[0]=b[0],
a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function H(a,b){E(a,b)||D(a);return a}function E(a,b){const g=b[0],n=b[1],z=b[2],J=b[3],L=b[4],M=b[5],K=b[6],O=b[7],V=b[8],Y=b[9],ba=b[10],aa=b[11],fa=b[12],ha=b[13],ia=b[14];b=b[15];const va=g*M-n*L,ma=g*K-z*L,qa=g*O-J*L,ra=n*K-z*M,na=n*O-J*M,Fa=z*O-J*K,Na=V*ha-Y*fa,Oa=V*ia-ba*fa,Ka=V*b-aa*fa,Pa=Y*ia-ba*ha,La=Y*b-aa*ha,ya=ba*b-
aa*ia;let ta=va*ya-ma*La+qa*Pa+ra*Ka-na*Oa+Fa*Na;if(!ta)return null;ta=1/ta;a[0]=(M*ya-K*La+O*Pa)*ta;a[1]=(z*La-n*ya-J*Pa)*ta;a[2]=(ha*Fa-ia*na+b*ra)*ta;a[3]=(ba*na-Y*Fa-aa*ra)*ta;a[4]=(K*Ka-L*ya-O*Oa)*ta;a[5]=(g*ya-z*Ka+J*Oa)*ta;a[6]=(ia*qa-fa*Fa-b*ma)*ta;a[7]=(V*Fa-ba*qa+aa*ma)*ta;a[8]=(L*La-M*Ka+O*Na)*ta;a[9]=(n*Ka-g*La-J*Na)*ta;a[10]=(fa*na-ha*qa+b*va)*ta;a[11]=(Y*qa-V*na-aa*va)*ta;a[12]=(M*Oa-L*Pa-K*Na)*ta;a[13]=(g*Pa-n*Oa+z*Na)*ta;a[14]=(ha*ma-fa*ra-ia*va)*ta;a[15]=(V*ra-Y*ma+ba*va)*ta;return a}
function X(a,b){const g=b[0],n=b[1],z=b[2],J=b[3],L=b[4],M=b[5],K=b[6],O=b[7],V=b[8],Y=b[9],ba=b[10],aa=b[11],fa=b[12],ha=b[13],ia=b[14];b=b[15];a[0]=M*(ba*b-aa*ia)-Y*(K*b-O*ia)+ha*(K*aa-O*ba);a[1]=-(n*(ba*b-aa*ia)-Y*(z*b-J*ia)+ha*(z*aa-J*ba));a[2]=n*(K*b-O*ia)-M*(z*b-J*ia)+ha*(z*O-J*K);a[3]=-(n*(K*aa-O*ba)-M*(z*aa-J*ba)+Y*(z*O-J*K));a[4]=-(L*(ba*b-aa*ia)-V*(K*b-O*ia)+fa*(K*aa-O*ba));a[5]=g*(ba*b-aa*ia)-V*(z*b-J*ia)+fa*(z*aa-J*ba);a[6]=-(g*(K*b-O*ia)-L*(z*b-J*ia)+fa*(z*O-J*K));a[7]=g*(K*aa-O*ba)-
L*(z*aa-J*ba)+V*(z*O-J*K);a[8]=L*(Y*b-aa*ha)-V*(M*b-O*ha)+fa*(M*aa-O*Y);a[9]=-(g*(Y*b-aa*ha)-V*(n*b-J*ha)+fa*(n*aa-J*Y));a[10]=g*(M*b-O*ha)-L*(n*b-J*ha)+fa*(n*O-J*M);a[11]=-(g*(M*aa-O*Y)-L*(n*aa-J*Y)+V*(n*O-J*M));a[12]=-(L*(Y*ia-ba*ha)-V*(M*ia-K*ha)+fa*(M*ba-K*Y));a[13]=g*(Y*ia-ba*ha)-V*(n*ia-z*ha)+fa*(n*ba-z*Y);a[14]=-(g*(M*ia-K*ha)-L*(n*ia-z*ha)+fa*(n*K-z*M));a[15]=g*(M*ba-K*Y)-L*(n*ba-z*Y)+V*(n*K-z*M);return a}function w(a){const b=a[0],g=a[1],n=a[2],z=a[3],J=a[4],L=a[5],M=a[6],K=a[7],O=a[8],V=
a[9],Y=a[10],ba=a[11],aa=a[12],fa=a[13],ha=a[14];a=a[15];return(b*L-g*J)*(Y*a-ba*ha)-(b*M-n*J)*(V*a-ba*fa)+(b*K-z*J)*(V*ha-Y*fa)+(g*M-n*L)*(O*a-ba*aa)-(g*K-z*L)*(O*ha-Y*aa)+(n*K-z*M)*(O*fa-V*aa)}function A(a,b,g){const n=b[0],z=b[1],J=b[2],L=b[3],M=b[4],K=b[5],O=b[6],V=b[7],Y=b[8],ba=b[9],aa=b[10],fa=b[11],ha=b[12],ia=b[13],va=b[14];b=b[15];let ma=g[0],qa=g[1],ra=g[2],na=g[3];a[0]=ma*n+qa*M+ra*Y+na*ha;a[1]=ma*z+qa*K+ra*ba+na*ia;a[2]=ma*J+qa*O+ra*aa+na*va;a[3]=ma*L+qa*V+ra*fa+na*b;ma=g[4];qa=g[5];
ra=g[6];na=g[7];a[4]=ma*n+qa*M+ra*Y+na*ha;a[5]=ma*z+qa*K+ra*ba+na*ia;a[6]=ma*J+qa*O+ra*aa+na*va;a[7]=ma*L+qa*V+ra*fa+na*b;ma=g[8];qa=g[9];ra=g[10];na=g[11];a[8]=ma*n+qa*M+ra*Y+na*ha;a[9]=ma*z+qa*K+ra*ba+na*ia;a[10]=ma*J+qa*O+ra*aa+na*va;a[11]=ma*L+qa*V+ra*fa+na*b;ma=g[12];qa=g[13];ra=g[14];na=g[15];a[12]=ma*n+qa*M+ra*Y+na*ha;a[13]=ma*z+qa*K+ra*ba+na*ia;a[14]=ma*J+qa*O+ra*aa+na*va;a[15]=ma*L+qa*V+ra*fa+na*b;return a}function R(a,b,g){const n=g[0],z=g[1];g=g[2];if(b===a)a[12]=b[0]*n+b[4]*z+b[8]*g+b[12],
a[13]=b[1]*n+b[5]*z+b[9]*g+b[13],a[14]=b[2]*n+b[6]*z+b[10]*g+b[14],a[15]=b[3]*n+b[7]*z+b[11]*g+b[15];else{const J=b[0],L=b[1],M=b[2],K=b[3],O=b[4],V=b[5],Y=b[6],ba=b[7],aa=b[8],fa=b[9],ha=b[10],ia=b[11];a[0]=J;a[1]=L;a[2]=M;a[3]=K;a[4]=O;a[5]=V;a[6]=Y;a[7]=ba;a[8]=aa;a[9]=fa;a[10]=ha;a[11]=ia;a[12]=J*n+O*z+aa*g+b[12];a[13]=L*n+V*z+fa*g+b[13];a[14]=M*n+Y*z+ha*g+b[14];a[15]=K*n+ba*z+ia*g+b[15]}return a}function e(a,b,g){const n=g[0],z=g[1];g=g[2];a[0]=b[0]*n;a[1]=b[1]*n;a[2]=b[2]*n;a[3]=b[3]*n;a[4]=
b[4]*z;a[5]=b[5]*z;a[6]=b[6]*z;a[7]=b[7]*z;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*g;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function t(a,b,g,n){let z=n[0],J=n[1];n=n[2];let L=Math.sqrt(z*z+J*J+n*n);var M=void 0,K=void 0;let O=void 0,V=void 0,Y=void 0,ba=void 0,aa=void 0,fa=void 0,ha=void 0,ia=void 0,va=void 0,ma=void 0,qa=void 0,ra=void 0,na=void 0,Fa=void 0,Na=void 0,Oa=void 0,Ka=void 0,Pa=void 0,La=void 0,ya=void 0;K=M=void 0;if(L<S.getEpsilon())return null;L=1/L;z*=
L;J*=L;n*=L;M=Math.sin(g);K=Math.cos(g);O=1-K;V=b[0];Y=b[1];ba=b[2];aa=b[3];fa=b[4];ha=b[5];ia=b[6];va=b[7];ma=b[8];qa=b[9];ra=b[10];na=b[11];Fa=z*z*O+K;Na=J*z*O+n*M;Oa=n*z*O-J*M;Ka=z*J*O-n*M;Pa=J*J*O+K;La=n*J*O+z*M;ya=z*n*O+J*M;M=J*n*O-z*M;K=n*n*O+K;a[0]=V*Fa+fa*Na+ma*Oa;a[1]=Y*Fa+ha*Na+qa*Oa;a[2]=ba*Fa+ia*Na+ra*Oa;a[3]=aa*Fa+va*Na+na*Oa;a[4]=V*Ka+fa*Pa+ma*La;a[5]=Y*Ka+ha*Pa+qa*La;a[6]=ba*Ka+ia*Pa+ra*La;a[7]=aa*Ka+va*Pa+na*La;a[8]=V*ya+fa*M+ma*K;a[9]=Y*ya+ha*M+qa*K;a[10]=ba*ya+ia*M+ra*K;a[11]=aa*
ya+va*M+na*K;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function k(a,b,g){const n=Math.sin(g);g=Math.cos(g);const z=b[4],J=b[5],L=b[6],M=b[7],K=b[8],O=b[9],V=b[10],Y=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=z*g+K*n;a[5]=J*g+O*n;a[6]=L*g+V*n;a[7]=M*g+Y*n;a[8]=K*g-z*n;a[9]=O*g-J*n;a[10]=V*g-L*n;a[11]=Y*g-M*n;return a}function p(a,b,g){const n=Math.sin(g);g=Math.cos(g);const z=b[0],J=b[1],L=b[2],M=b[3],K=b[8],O=
b[9],V=b[10],Y=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=z*g-K*n;a[1]=J*g-O*n;a[2]=L*g-V*n;a[3]=M*g-Y*n;a[8]=z*n+K*g;a[9]=J*n+O*g;a[10]=L*n+V*g;a[11]=M*n+Y*g;return a}function x(a,b,g){const n=Math.sin(g);g=Math.cos(g);const z=b[0],J=b[1],L=b[2],M=b[3],K=b[4],O=b[5],V=b[6],Y=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=z*g+K*n;a[1]=J*g+O*n;a[2]=L*g+V*n;a[3]=M*g+Y*n;a[4]=
K*g-z*n;a[5]=O*g-J*n;a[6]=V*g-L*n;a[7]=Y*g-M*n;return a}function G(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function v(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function u(a,b,g){if(0===b)return D(a);let n=g[0],z=g[1];g=g[2];let J=Math.sqrt(n*n+z*z+g*g),L=void 0,M=void 0,K=void 0;if(J<S.getEpsilon())return null;
J=1/J;n*=J;z*=J;g*=J;L=Math.sin(b);M=Math.cos(b);K=1-M;a[0]=n*n*K+M;a[1]=z*n*K+g*L;a[2]=g*n*K-z*L;a[3]=0;a[4]=n*z*K-g*L;a[5]=z*z*K+M;a[6]=g*z*K+n*L;a[7]=0;a[8]=n*g*K+z*L;a[9]=z*g*K-n*L;a[10]=g*g*K+M;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function B(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=g;a[7]=0;a[8]=0;a[9]=-g;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function y(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-g;a[3]=
0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=g;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function F(a,b){const g=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=g;a[2]=0;a[3]=0;a[4]=-g;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Q(a,b,g){var n=b[0],z=b[1],J=b[2],L=b[3],M=n+n,K=z+z;const O=J+J;b=n*M;const V=n*K;n*=O;const Y=z*K;z*=O;J*=O;M*=L;K*=L;L*=O;a[0]=1-(Y+J);a[1]=V+L;a[2]=n-K;a[3]=0;a[4]=V-L;a[5]=1-(b+J);a[6]=z+M;a[7]=0;a[8]=n+K;a[9]=
z-M;a[10]=1-(b+Y);a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function ea(a,b){const g=Qa,n=-b[0],z=-b[1],J=-b[2],L=b[3],M=b[4],K=b[5],O=b[6],V=b[7],Y=n*n+z*z+J*J+L*L;0<Y?(g[0]=2*(M*L+V*n+K*J-O*z)/Y,g[1]=2*(K*L+V*z+O*n-M*J)/Y,g[2]=2*(O*L+V*J+M*z-K*n)/Y):(g[0]=2*(M*L+V*n+K*J-O*z),g[1]=2*(K*L+V*z+O*n-M*J),g[2]=2*(O*L+V*J+M*z-K*n));Q(a,b,g);return a}function pa(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function ua(a,b){const g=b[0],n=b[1],z=b[2],J=b[4],L=b[5],M=b[6],K=b[8],O=b[9];
b=b[10];a[0]=Math.sqrt(g*g+n*n+z*z);a[1]=Math.sqrt(J*J+L*L+M*M);a[2]=Math.sqrt(K*K+O*O+b*b);return a}function ja(a,b){const g=b[0]+b[5]+b[10];let n=0;0<g?(n=2*Math.sqrt(g+1),a[3]=.25*n,a[0]=(b[6]-b[9])/n,a[1]=(b[8]-b[2])/n,a[2]=(b[1]-b[4])/n):b[0]>b[5]&&b[0]>b[10]?(n=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/n,a[0]=.25*n,a[1]=(b[1]+b[4])/n,a[2]=(b[8]+b[2])/n):b[5]>b[10]?(n=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/n,a[0]=(b[1]+b[4])/n,a[1]=.25*n,a[2]=(b[6]+b[9])/n):(n=2*Math.sqrt(1+b[10]-
b[0]-b[5]),a[3]=(b[1]-b[4])/n,a[0]=(b[8]+b[2])/n,a[1]=(b[6]+b[9])/n,a[2]=.25*n);return a}function Ca(a,b,g,n){var z=b[0],J=b[1],L=b[2],M=b[3],K=z+z,O=J+J,V=L+L;b=z*K;const Y=z*O;z*=V;const ba=J*O;J*=V;L*=V;K*=M;O*=M;M*=V;V=n[0];const aa=n[1];n=n[2];a[0]=(1-(ba+L))*V;a[1]=(Y+M)*V;a[2]=(z-O)*V;a[3]=0;a[4]=(Y-M)*aa;a[5]=(1-(b+L))*aa;a[6]=(J+K)*aa;a[7]=0;a[8]=(z+O)*n;a[9]=(J-K)*n;a[10]=(1-(b+ba))*n;a[11]=0;a[12]=g[0];a[13]=g[1];a[14]=g[2];a[15]=1;return a}function Ga(a,b,g,n,z){var J=b[0],L=b[1],M=b[2],
K=b[3],O=J+J,V=L+L,Y=M+M;b=J*O;var ba=J*V,aa=J*Y;J=L*V;L*=Y;var fa=M*Y;M=K*O;V*=K;const ha=K*Y;var ia=n[0],va=n[1];Y=n[2];n=z[0];K=z[1];z=z[2];O=(1-(J+fa))*ia;const ma=(ba+ha)*ia;ia*=aa-V;ba=(ba-ha)*va;fa=(1-(b+fa))*va;va*=L+M;aa=(aa+V)*Y;L=(L-M)*Y;b=(1-(b+J))*Y;a[0]=O;a[1]=ma;a[2]=ia;a[3]=0;a[4]=ba;a[5]=fa;a[6]=va;a[7]=0;a[8]=aa;a[9]=L;a[10]=b;a[11]=0;a[12]=g[0]+n-(O*n+ba*K+aa*z);a[13]=g[1]+K-(ma*n+fa*K+L*z);a[14]=g[2]+z-(ia*n+va*K+b*z);a[15]=1;return a}function Ia(a,b){var g=b[0],n=b[1],z=b[2];
b=b[3];var J=g+g,L=n+n;const M=z+z;g*=J;const K=n*J;n*=L;const O=z*J,V=z*L;z*=M;J*=b;L*=b;b*=M;a[0]=1-n-z;a[1]=K+b;a[2]=O-L;a[3]=0;a[4]=K-b;a[5]=1-g-z;a[6]=V+J;a[7]=0;a[8]=O+L;a[9]=V-J;a[10]=1-g-n;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function Ja(a,b,g,n,z,J,L){const M=1/(g-b),K=1/(z-n),O=1/(J-L);a[0]=2*J*M;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*J*K;a[6]=0;a[7]=0;a[8]=(g+b)*M;a[9]=(z+n)*K;a[10]=(L+J)*O;a[11]=-1;a[12]=0;a[13]=0;a[14]=L*J*2*O;a[15]=0;return a}function Ra(a,b,g,n,z){b=1/Math.tan(b/
2);let J=void 0;a[0]=b/g;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=z&&Infinity!==z?(J=1/(n-z),a[10]=(z+n)*J,a[14]=2*z*n*J):(a[10]=-1,a[14]=-2*n);return a}function wa(a,b,g,n){const z=Math.tan(b.upDegrees*Math.PI/180),J=Math.tan(b.downDegrees*Math.PI/180),L=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const M=2/(L+b),K=2/(z+J);a[0]=M;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=K;a[6]=0;a[7]=0;a[8]=-((L-b)*M*.5);a[9]=(z-
J)*K*.5;a[10]=n/(g-n);a[11]=-1;a[12]=0;a[13]=0;a[14]=n*g/(g-n);a[15]=0;return a}function Aa(a,b,g,n,z,J,L){const M=1/(b-g),K=1/(n-z),O=1/(J-L);a[0]=-2*M;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*K;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*O;a[11]=0;a[12]=(b+g)*M;a[13]=(z+n)*K;a[14]=(L+J)*O;a[15]=1;return a}function Ea(a,b,g,n){var z=void 0;let J=void 0;var L=void 0,M=void 0;let K=void 0,O=void 0;var V=void 0,Y=void 0;let ba=void 0,aa=void 0;const fa=b[0],ha=b[1];b=b[2];L=n[0];M=n[1];n=n[2];V=g[0];Y=g[1];g=g[2];
z=S.getEpsilon();if(Math.abs(fa-V)<z&&Math.abs(ha-Y)<z&&Math.abs(b-g)<z)return D(a);V=fa-V;Y=ha-Y;ba=b-g;aa=1/Math.sqrt(V*V+Y*Y+ba*ba);V*=aa;Y*=aa;ba*=aa;z=M*ba-n*Y;J=n*V-L*ba;L=L*Y-M*V;(aa=Math.sqrt(z*z+J*J+L*L))?(aa=1/aa,z*=aa,J*=aa,L*=aa):L=J=z=0;M=Y*L-ba*J;K=ba*z-V*L;O=V*J-Y*z;(aa=Math.sqrt(M*M+K*K+O*O))?(aa=1/aa,M*=aa,K*=aa,O*=aa):O=K=M=0;a[0]=z;a[1]=M;a[2]=V;a[3]=0;a[4]=J;a[5]=K;a[6]=Y;a[7]=0;a[8]=L;a[9]=O;a[10]=ba;a[11]=0;a[12]=-(z*fa+J*ha+L*b);a[13]=-(M*fa+K*ha+O*b);a[14]=-(V*fa+Y*ha+ba*b);
a[15]=1;return a}function $a(a,b,g,n){const z=b[0],J=b[1];b=b[2];var L=n[0];const M=n[1];var K=n[2];n=z-g[0];let O=J-g[1];g=b-g[2];let V=n*n+O*O+g*g;0<V&&(V=1/Math.sqrt(V),n*=V,O*=V,g*=V);let Y=M*g-K*O;K=K*n-L*g;L=L*O-M*n;V=Y*Y+K*K+L*L;0<V&&(V=1/Math.sqrt(V),Y*=V,K*=V,L*=V);a[0]=Y;a[1]=K;a[2]=L;a[3]=0;a[4]=O*L-g*K;a[5]=g*Y-n*L;a[6]=n*K-O*Y;a[7]=0;a[8]=n;a[9]=O;a[10]=g;a[11]=0;a[12]=z;a[13]=J;a[14]=b;a[15]=1;return a}function Wa(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+
", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function Xa(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function ab(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];a[4]=b[4]+g[4];a[5]=b[5]+g[5];a[6]=b[6]+g[6];a[7]=b[7]+g[7];a[8]=b[8]+g[8];a[9]=b[9]+g[9];a[10]=b[10]+g[10];a[11]=b[11]+g[11];a[12]=b[12]+g[12];a[13]=
b[13]+g[13];a[14]=b[14]+g[14];a[15]=b[15]+g[15];return a}function P(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];a[4]=b[4]-g[4];a[5]=b[5]-g[5];a[6]=b[6]-g[6];a[7]=b[7]-g[7];a[8]=b[8]-g[8];a[9]=b[9]-g[9];a[10]=b[10]-g[10];a[11]=b[11]-g[11];a[12]=b[12]-g[12];a[13]=b[13]-g[13];a[14]=b[14]-g[14];a[15]=b[15]-g[15];return a}function N(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;a[4]=b[4]*g;a[5]=b[5]*g;a[6]=b[6]*g;a[7]=b[7]*g;a[8]=b[8]*g;a[9]=b[9]*g;a[10]=b[10]*g;a[11]=b[11]*
g;a[12]=b[12]*g;a[13]=b[13]*g;a[14]=b[14]*g;a[15]=b[15]*g;return a}function T(a,b,g,n){a[0]=b[0]+g[0]*n;a[1]=b[1]+g[1]*n;a[2]=b[2]+g[2]*n;a[3]=b[3]+g[3]*n;a[4]=b[4]+g[4]*n;a[5]=b[5]+g[5]*n;a[6]=b[6]+g[6]*n;a[7]=b[7]+g[7]*n;a[8]=b[8]+g[8]*n;a[9]=b[9]+g[9]*n;a[10]=b[10]+g[10]*n;a[11]=b[11]+g[11]*n;a[12]=b[12]+g[12]*n;a[13]=b[13]+g[13]*n;a[14]=b[14]+g[14]*n;a[15]=b[15]+g[15]*n;return a}function Z(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===
b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function ca(a,b){if(a===b)return!0;const g=a[0],n=a[1],z=a[2],J=a[3],L=a[4],M=a[5],K=a[6],O=a[7],V=a[8],Y=a[9],ba=a[10],aa=a[11],fa=a[12],ha=a[13],ia=a[14];a=a[15];const va=b[0],ma=b[1],qa=b[2],ra=b[3],na=b[4],Fa=b[5],Na=b[6],Oa=b[7],Ka=b[8],Pa=b[9],La=b[10],ya=b[11],ta=b[12],Ya=b[13],bb=b[14];b=b[15];const Ha=S.getEpsilon();return Math.abs(g-va)<=Ha*Math.max(1,Math.abs(g),Math.abs(va))&&
Math.abs(n-ma)<=Ha*Math.max(1,Math.abs(n),Math.abs(ma))&&Math.abs(z-qa)<=Ha*Math.max(1,Math.abs(z),Math.abs(qa))&&Math.abs(J-ra)<=Ha*Math.max(1,Math.abs(J),Math.abs(ra))&&Math.abs(L-na)<=Ha*Math.max(1,Math.abs(L),Math.abs(na))&&Math.abs(M-Fa)<=Ha*Math.max(1,Math.abs(M),Math.abs(Fa))&&Math.abs(K-Na)<=Ha*Math.max(1,Math.abs(K),Math.abs(Na))&&Math.abs(O-Oa)<=Ha*Math.max(1,Math.abs(O),Math.abs(Oa))&&Math.abs(V-Ka)<=Ha*Math.max(1,Math.abs(V),Math.abs(Ka))&&Math.abs(Y-Pa)<=Ha*Math.max(1,Math.abs(Y),Math.abs(Pa))&&
Math.abs(ba-La)<=Ha*Math.max(1,Math.abs(ba),Math.abs(La))&&Math.abs(aa-ya)<=Ha*Math.max(1,Math.abs(aa),Math.abs(ya))&&Math.abs(fa-ta)<=Ha*Math.max(1,Math.abs(fa),Math.abs(ta))&&Math.abs(ha-Ya)<=Ha*Math.max(1,Math.abs(ha),Math.abs(Ya))&&Math.abs(ia-bb)<=Ha*Math.max(1,Math.abs(ia),Math.abs(bb))&&Math.abs(a-b)<=Ha*Math.max(1,Math.abs(a),Math.abs(b))}function ka(a){const b=S.getEpsilon(),g=a[0],n=a[1],z=a[2],J=a[4],L=a[5],M=a[6],K=a[8],O=a[9];a=a[10];return Math.abs(1-(g*g+J*J+K*K))<=b&&Math.abs(1-(n*
n+L*L+O*O))<=b&&Math.abs(1-(z*z+M*M+a*a))<=b}function sa(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Qa=c.create();c=Object.freeze(Object.defineProperty({__proto__:null,add:ab,adjoint:X,copy:r,determinant:w,equals:ca,exactEquals:Z,frob:Xa,fromQuat:Ia,fromQuat2:ea,fromRotation:u,fromRotationTranslation:Q,fromRotationTranslationScale:Ca,fromRotationTranslationScaleOrigin:Ga,fromScaling:v,fromTranslation:G,fromXRotation:B,fromYRotation:y,
fromZRotation:F,frustum:Ja,getRotation:ja,getScaling:ua,getTranslation:pa,hasIdentityRotation:sa,identity:D,invert:E,invertOrIdentity:H,isOrthoNormal:ka,lookAt:Ea,mul:A,multiply:A,multiplyScalar:N,multiplyScalarAndAdd:T,ortho:Aa,perspective:Ra,perspectiveFromFieldOfView:wa,rotate:t,rotateX:k,rotateY:p,rotateZ:x,scale:e,set:I,str:Wa,sub:P,subtract:P,targetTo:$a,translate:R,transpose:C},Symbol.toStringTag,{value:"Module"}));l.add=ab;l.adjoint=X;l.copy=r;l.determinant=w;l.equals=ca;l.exactEquals=Z;l.frob=
Xa;l.fromQuat=Ia;l.fromQuat2=ea;l.fromRotation=u;l.fromRotationTranslation=Q;l.fromRotationTranslationScale=Ca;l.fromRotationTranslationScaleOrigin=Ga;l.fromScaling=v;l.fromTranslation=G;l.fromXRotation=B;l.fromYRotation=y;l.fromZRotation=F;l.frustum=Ja;l.getRotation=ja;l.getScaling=ua;l.getTranslation=pa;l.hasIdentityRotation=sa;l.identity=D;l.invert=E;l.invertOrIdentity=H;l.isOrthoNormal=ka;l.lookAt=Ea;l.mat4=c;l.mul=A;l.multiply=A;l.multiplyScalar=N;l.multiplyScalarAndAdd=T;l.ortho=Aa;l.perspective=
Ra;l.perspectiveFromFieldOfView=wa;l.rotate=t;l.rotateX=k;l.rotateY=p;l.rotateZ=x;l.scale=e;l.set=I;l.str=Wa;l.sub=P;l.subtract=P;l.targetTo=$a;l.translate=R;l.transpose=C})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(l,c,S,r,I){function D(){return!!c._pe}function C(){return!!I("esri-wasm")}function H(){return e?e:e=(new Promise((k,p)=>l(["./pe-wasm"],k,p))).then(k=>k.peWasm).then(({default:k})=>k({locateFile:p=>r.getAssetUrl(`esri/geometry/support/${p}`)})).then(k=>
{E(k)})}function E(k){function p(v,u,B){v[u]=B(v[u])}c._pe=k;c.PeDefs.init();c.PeGTlistExtended.init();c.PeNotationMgrs.init();c.PeNotationUtm.init();c.PePCSInfo.init();c.PeGCSExtent=function(v){function u(){return v.apply(this,arguments)||this}S._inheritsLoose(u,v);u.prototype.destroy=function(){c._pe.destroy(this)};return u}(c._pe.PeGCSExtent);k=[c._pe.PeDatum,c._pe.PeGeogcs,c._pe.PeGeogtran,c._pe.PeObject,c._pe.PeParameter,c._pe.PePrimem,c._pe.PeProjcs,c._pe.PeSpheroid,c._pe.PeUnit];for(var x of k)p(x.prototype,
"getName",v=>function(){return v.call(this,Array(c.PeDefs.PE_NAME_MAX))});for(const v of[c._pe.PeGeogtran,c._pe.PeProjcs])p(v.prototype,"getParameters",u=>function(){const B=Array(c.PeDefs.PE_PARM_MAX);let y=u.call(this);for(let F=0;F<B.length;F++){const Q=c._pe.getValue(y,"*");B[F]=Q?c._pe.wrapPointer(Q,c._pe.PeParameter):null;y+=Int32Array.BYTES_PER_ELEMENT}return B});p(c._pe.PeHorizon.prototype,"getCoord",v=>function(){const u=this.getSize();if(!u)return null;const B=[],y=v.call(this);R(B,u,y);
return B});p(c._pe.PeGTlistExtendedEntry.prototype,"getEntries",v=>{const u=c._pe._pe_getPeGTlistExtendedGTsSize();return function(){let B=null;var y=v.call(this);if(!c._pe.compare(y,c._pe.NULL)){B=[y];const F=this.getSteps();if(1<F){y=c._pe.getPointer(y);for(let Q=1;Q<F;Q++)B.push(c._pe.wrapPointer(y+u*Q,c._pe.PeGTlistExtendedGTs))}}return B}});const G=c._pe._pe_getPeHorizonSize();x=v=>function(){let u=this._cache;u||(this._cache=u=new Map);if(u.has(v))return u.get(v);let B=null;var y=v.call(this);
if(!c._pe.compare(y,c._pe.NULL)){B=[y];const F=y.getNump();if(1<F){y=c._pe.getPointer(y);for(let Q=1;Q<F;Q++)B.push(c._pe.wrapPointer(y+G*Q,c._pe.PeHorizon))}}u.set(v,B);return B};p(c._pe.PeProjcs.prototype,"horizonGcsGenerate",x);p(c._pe.PeProjcs.prototype,"horizonPcsGenerate",x);c._pe.PeObject.prototype.toString=function(v=c.PeDefs.PE_STR_OPTS_NONE){c._pe.ensureCache.prepare();const u=c._pe.getPointer(this),B=c._pe.ensureInt8(Array(c.PeDefs.PE_BUFFER_MAX));return c._pe.UTF8ToString(c._pe._pe_object_to_string_ext(u,
v,B))}}function X(k){if(k){var p=c._pe.getClass(k);p&&(p=c._pe.getCache(p))&&(k=c._pe.getPointer(k))&&delete p[k]}}function w(k,p){const x=[];p=Array(p);for(let G=0;G<k;G++)x.push(c._pe.ensureInt8(p));return x}function A(k){let p;Array.isArray(k[0])?(p=[],k.forEach(x=>{p.push(x[0],x[1])})):p=k;return p}function R(k,p,x,G=!1){if(G)for(G=0;G<2*p;G++)k[G]=c._pe.getValue(x+G*Float64Array.BYTES_PER_ELEMENT,"double");else{G=0===k.length;for(let v=0;v<p;v++)G&&(k[v]=Array(2)),k[v][0]=c._pe.getValue(x,"double"),
k[v][1]=c._pe.getValue(x+Float64Array.BYTES_PER_ELEMENT,"double"),x+=2*Float64Array.BYTES_PER_ELEMENT}}let e;c._pe=null;c.PeCSTransformations=void 0;(function(k){function p(v,u,B){c._pe.ensureCache.prepare();var y=A(B);const F=B===y;y=c._pe.ensureFloat64(y);(v=c._pe._pe_geog_to_proj(c._pe.getPointer(v),u,y))&&R(B,u,y,F);return v}function x(v,u,B){return G(v,u,B,0)}function G(v,u,B,y){c._pe.ensureCache.prepare();var F=A(B);const Q=B===F;F=c._pe.ensureFloat64(F);(v=c._pe._pe_proj_to_geog_center(c._pe.getPointer(v),
u,F,y))&&R(B,u,F,Q);return v}k.geogToProj=p;k.projGeog=function(v,u,B,y){switch(y){case c.PeDefs.PE_TRANSFORM_P_TO_G:return x(v,u,B);case c.PeDefs.PE_TRANSFORM_G_TO_P:return p(v,u,B)}return 0};k.projToGeog=x;k.projToGeogCenter=G})(c.PeCSTransformations||(c.PeCSTransformations={}));c.PeDefs=void 0;(function(k){k.init=function(){k.PE_BUFFER_MAX=c._pe.PeDefs.prototype.PE_BUFFER_MAX;k.PE_NAME_MAX=c._pe.PeDefs.prototype.PE_NAME_MAX;k.PE_MGRS_MAX=c._pe.PeDefs.prototype.PE_MGRS_MAX;k.PE_USNG_MAX=c._pe.PeDefs.prototype.PE_USNG_MAX;
k.PE_DD_MAX=c._pe.PeDefs.prototype.PE_DD_MAX;k.PE_DDM_MAX=c._pe.PeDefs.prototype.PE_DDM_MAX;k.PE_DMS_MAX=c._pe.PeDefs.prototype.PE_DMS_MAX;k.PE_UTM_MAX=c._pe.PeDefs.prototype.PE_UTM_MAX;k.PE_PARM_MAX=c._pe.PeDefs.prototype.PE_PARM_MAX;k.PE_TYPE_NONE=c._pe.PeDefs.prototype.PE_TYPE_NONE;k.PE_TYPE_GEOGCS=c._pe.PeDefs.prototype.PE_TYPE_GEOGCS;k.PE_TYPE_PROJCS=c._pe.PeDefs.prototype.PE_TYPE_PROJCS;k.PE_TYPE_GEOGTRAN=c._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;k.PE_TYPE_COORDSYS=c._pe.PeDefs.prototype.PE_TYPE_COORDSYS;
k.PE_TYPE_UNIT=c._pe.PeDefs.prototype.PE_TYPE_UNIT;k.PE_TYPE_LINUNIT=c._pe.PeDefs.prototype.PE_TYPE_LINUNIT;k.PE_STR_OPTS_NONE=c._pe.PeDefs.prototype.PE_STR_OPTS_NONE;k.PE_STR_AUTH_NONE=c._pe.PeDefs.prototype.PE_STR_AUTH_NONE;k.PE_STR_AUTH_TOP=c._pe.PeDefs.prototype.PE_STR_AUTH_TOP;k.PE_STR_NAME_CANON=c._pe.PeDefs.prototype.PE_STR_NAME_CANON;k.PE_PARM_X0=c._pe.PeDefs.prototype.PE_PARM_X0;k.PE_PARM_ND=c._pe.PeDefs.prototype.PE_PARM_ND;k.PE_TRANSFORM_1_TO_2=c._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
k.PE_TRANSFORM_2_TO_1=c._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;k.PE_TRANSFORM_P_TO_G=c._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;k.PE_TRANSFORM_G_TO_P=c._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;k.PE_HORIZON_RECT=c._pe.PeDefs.prototype.PE_HORIZON_RECT;k.PE_HORIZON_POLY=c._pe.PeDefs.prototype.PE_HORIZON_POLY;k.PE_HORIZON_LINE=c._pe.PeDefs.prototype.PE_HORIZON_LINE;k.PE_HORIZON_DELTA=c._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(c.PeDefs||(c.PeDefs={}));c.PeFactory=void 0;(function(k){function p(u,B){let y=
null,F=x[u];F||(F={},x[u]=F);F.hasOwnProperty(String(B))?y=F[B]:(u=c._pe.PeFactory.prototype.factoryByType(u,B),c._pe.compare(u,c._pe.NULL)||(y=u,F[B]=y));return y=v(y)}const x={},G={},v=u=>{if(u){const B=u.getType();switch(B){case c.PeDefs.PE_TYPE_GEOGCS:u=c._pe.castObject(u,c._pe.PeGeogcs);break;case c.PeDefs.PE_TYPE_PROJCS:u=c._pe.castObject(u,c._pe.PeProjcs);break;case c.PeDefs.PE_TYPE_GEOGTRAN:u=c._pe.castObject(u,c._pe.PeGeogtran);break;default:B&c.PeDefs.PE_TYPE_UNIT&&(u=c._pe.castObject(u,
c._pe.PeUnit))}}return u};k.initialize=function(){c._pe.PeFactory.prototype.initialize(null)};k.coordsys=function(u){return p(c.PeDefs.PE_TYPE_COORDSYS,u)};k.factoryByType=p;k.fromString=function(u,B){let y=null,F=G[u];F||(F={},G[u]=F);F.hasOwnProperty(B)?y=F[B]:(u=c._pe.PeFactory.prototype.fromString(u,B),c._pe.compare(u,c._pe.NULL)||(y=u,F[B]=y));return y=v(y)};k.geogcs=function(u){return p(c.PeDefs.PE_TYPE_GEOGCS,u)};k.geogtran=function(u){return p(c.PeDefs.PE_TYPE_GEOGTRAN,u)};k.getCode=function(u){return c._pe.PeFactory.prototype.getCode(u)};
k.projcs=function(u){return p(c.PeDefs.PE_TYPE_PROJCS,u)};k.unit=function(u){return p(c.PeDefs.PE_TYPE_UNIT,u)}})(c.PeFactory||(c.PeFactory={}));c.PeGCSExtent=null;c.PeGTlistExtended=void 0;(function(k){let p;k.init=function(){k.PE_GTLIST_OPTS_COMMON=c._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;p=c._pe._pe_getPeGTlistExtendedEntrySize()};k.getGTlist=function(x,G,v,u,B,y){let F=null;const Q=new c._pe.PeInteger(y);try{const ea=c._pe.PeGTlistExtended.prototype.getGTlist(x,G,v,u,B,Q);if(y=Q.val)if(F=
[ea],1<y){const pa=c._pe.getPointer(ea);for(x=1;x<y;x++)F.push(c._pe.wrapPointer(pa+p*x,c._pe.PeGTlistExtendedEntry))}}finally{c._pe.destroy(Q)}return F}})(c.PeGTlistExtended||(c.PeGTlistExtended={}));c.PeGTlistExtendedEntry=void 0;(function(k){k.destroy=function(p){if(p&&p.length){for(const x of p)X(x),x.getEntries().forEach(G=>{X(G);G=G.getGeogtran();X(G);G.getParameters().forEach(X);[G.getGeogcs1(),G.getGeogcs2()].forEach(v=>{X(v);const u=v.getDatum();X(u);X(u.getSpheroid());X(v.getPrimem());X(v.getUnit())})});
c._pe.PeGTlistExtendedEntry.prototype.Delete(p[0])}}})(c.PeGTlistExtendedEntry||(c.PeGTlistExtendedEntry={}));c.PeGTTransformations=void 0;(function(k){k.geogToGeog=function(p,x,G,v,u){c._pe.ensureCache.prepare();var B=A(G);const y=G===B;B=c._pe.ensureFloat64(B);let F=0;v&&(F=c._pe.ensureFloat64(v));(p=c._pe._pe_geog_to_geog(c._pe.getPointer(p),x,B,F,u))&&R(G,x,B,y);return p}})(c.PeGTTransformations||(c.PeGTTransformations={}));c.PeNotationDms=void 0;(function(k){const p=(G,v,u,B,y,F)=>{c._pe.ensureCache.prepare();
switch(G){case "dd":var Q=c._pe._pe_geog_to_dd;var ea=c.PeDefs.PE_DD_MAX;break;case "ddm":Q=c._pe._pe_geog_to_ddm;ea=c.PeDefs.PE_DDM_MAX;break;case "dms":Q=c._pe._pe_geog_to_dms,ea=c.PeDefs.PE_DMS_MAX}G=0;v&&(G=c._pe.getPointer(v));v=A(B);v=c._pe.ensureFloat64(v);ea=w(u,ea);B=c._pe.ensureInt32(ea);if(y=Q(G,u,v,y,B))for(Q=0;Q<u;Q++)F[Q]=c._pe.UTF8ToString(ea[Q]);return y},x=(G,v,u,B,y)=>{c._pe.ensureCache.prepare();switch(G){case "dd":var F=c._pe._pe_dd_to_geog;break;case "ddm":F=c._pe._pe_ddm_to_geog;
break;case "dms":F=c._pe._pe_dms_to_geog}G=0;v&&(G=c._pe.getPointer(v));v=B.map(Q=>c._pe.ensureString(Q));B=c._pe.ensureInt32(v);v=c._pe.ensureFloat64(Array(2*u));(F=F(G,u,B,v))&&R(y,u,v);return F};k.geogToDms=function(G,v,u,B,y){return p("dms",G,v,u,B,y)};k.dmsToGeog=function(G,v,u,B){return x("dms",G,v,u,B)};k.geogToDdm=function(G,v,u,B,y){return p("ddm",G,v,u,B,y)};k.ddmToGeog=function(G,v,u,B){return x("ddm",G,v,u,B)};k.geogToDd=function(G,v,u,B,y){return p("dd",G,v,u,B,y)};k.ddToGeog=function(G,
v,u,B){return x("dd",G,v,u,B)}})(c.PeNotationDms||(c.PeNotationDms={}));c.PeNotationMgrs=void 0;(function(k){k.init=function(){k.PE_MGRS_STYLE_NEW=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;k.PE_MGRS_STYLE_OLD=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;k.PE_MGRS_STYLE_AUTO=c._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;k.PE_MGRS_180_ZONE_1_PLUS=c._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;k.PE_MGRS_ADD_SPACES=c._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};k.geogToMgrsExtended=
function(p,x,G,v,u,B,y){c._pe.ensureCache.prepare();let F=0;p&&(F=c._pe.getPointer(p));p=A(G);G=c._pe.ensureFloat64(p);p=w(x,c.PeDefs.PE_MGRS_MAX);const Q=c._pe.ensureInt32(p);if(v=c._pe._pe_geog_to_mgrs_extended(F,x,G,v,u,B,Q))for(u=0;u<x;u++)y[u]=c._pe.UTF8ToString(p[u]);return v};k.mgrsToGeogExtended=function(p,x,G,v,u){c._pe.ensureCache.prepare();let B=0;p&&(B=c._pe.getPointer(p));p=G.map(y=>c._pe.ensureString(y));G=c._pe.ensureInt32(p);p=c._pe.ensureFloat64(Array(2*x));(v=c._pe._pe_mgrs_to_geog_extended(B,
x,G,v,p))&&R(u,x,p);return v}})(c.PeNotationMgrs||(c.PeNotationMgrs={}));c.PeNotationUsng=void 0;(function(k){k.geogToUsng=function(p,x,G,v,u,B,y){c._pe.ensureCache.prepare();let F=0;p&&(F=c._pe.getPointer(p));p=A(G);G=c._pe.ensureFloat64(p);p=w(x,c.PeDefs.PE_MGRS_MAX);const Q=c._pe.ensureInt32(p);if(v=c._pe._pe_geog_to_usng(F,x,G,v,u,B,Q))for(u=0;u<x;u++)y[u]=c._pe.UTF8ToString(p[u]);return v};k.usngToGeog=function(p,x,G,v){c._pe.ensureCache.prepare();var u=0;p&&(u=c._pe.getPointer(p));p=G.map(B=>
c._pe.ensureString(B));G=c._pe.ensureInt32(p);p=c._pe.ensureFloat64(Array(2*x));(u=c._pe._pe_usng_to_geog(u,x,G,p))&&R(v,x,p);return u}})(c.PeNotationUsng||(c.PeNotationUsng={}));c.PeNotationUtm=void 0;(function(k){k.init=function(){k.PE_UTM_OPTS_NONE=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;k.PE_UTM_OPTS_ADD_SPACES=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;k.PE_UTM_OPTS_NS=c._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};k.geogToUtm=function(p,x,G,v,u){c._pe.ensureCache.prepare();var B=
0;p&&(B=c._pe.getPointer(p));p=A(G);G=c._pe.ensureFloat64(p);p=w(x,c.PeDefs.PE_UTM_MAX);const y=c._pe.ensureInt32(p);if(v=c._pe._pe_geog_to_utm(B,x,G,v,y))for(B=0;B<x;B++)u[B]=c._pe.UTF8ToString(p[B]);return v};k.utmToGeog=function(p,x,G,v,u){c._pe.ensureCache.prepare();let B=0;p&&(B=c._pe.getPointer(p));p=G.map(y=>c._pe.ensureString(y));G=c._pe.ensureInt32(p);p=c._pe.ensureFloat64(Array(2*x));(v=c._pe._pe_utm_to_geog(B,x,G,v,p))&&R(u,x,p);return v}})(c.PeNotationUtm||(c.PeNotationUtm={}));c.PePCSInfo=
void 0;(function(k){const p=new Map;k.init=function(){k.PE_PCSINFO_OPTION_NONE=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;k.PE_PCSINFO_OPTION_DOMAIN=c._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;k.PE_POLE_OUTSIDE_BOUNDARY=c._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;k.PE_POLE_POINT=c._pe.PePCSInfo.prototype.PE_POLE_POINT};k.generate=function(x,G=k.PE_PCSINFO_OPTION_DOMAIN){let v=null,u=null;p.has(x)&&(u=p.get(x),u[G]&&(v=u[G]));v||(v=c._pe.PePCSInfo.prototype.generate(x,G),u||(u=
[],p.set(x,u)),u[G]=v);return v}})(c.PePCSInfo||(c.PePCSInfo={}));c.PeVersion=void 0;(function(k){k.versionString=function(){return c._pe.PeVersion.prototype.version_string()}})(c.PeVersion||(c.PeVersion={}));const t=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return c.PeCSTransformations},get PeDefs(){return c.PeDefs},get PeFactory(){return c.PeFactory},get PeGCSExtent(){return c.PeGCSExtent},get PeGTTransformations(){return c.PeGTTransformations},get PeGTlistExtended(){return c.PeGTlistExtended},
get PeGTlistExtendedEntry(){return c.PeGTlistExtendedEntry},get PeNotationDms(){return c.PeNotationDms},get PeNotationMgrs(){return c.PeNotationMgrs},get PeNotationUsng(){return c.PeNotationUsng},get PeNotationUtm(){return c.PeNotationUtm},get PePCSInfo(){return c.PePCSInfo},get PeVersion(){return c.PeVersion},_init:E,get _pe(){return c._pe},isLoaded:D,isSupported:C,load:H},Symbol.toStringTag,{value:"Module"}));c._init=E;c.isLoaded=D;c.isSupported=C;c.load=H;c.pe=t})},"esri/geometry/support/aaBoundingRect":function(){define(["exports",
"../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(l,c,S,r,I){function D(e=R){return[e[0],e[1],e[2],e[3]]}function C(e,t){e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]);return e}function H(e){return r.isNone(e)||e[0]>=e[2]?0:e[2]-e[0]}function E(e){return e[1]>=e[3]?0:e[3]-e[1]}function X(e,t,k){return t>=e[0]&&k>=e[1]&&t<=e[2]&&k<=e[3]}function w(e){return null!=e&&4===e.length}const A=[Infinity,Infinity,-Infinity,-Infinity],R=[0,0,0,0];l.NEGATIVE_INFINITY=A;l.POSITIVE_INFINITY=
[-Infinity,-Infinity,Infinity,Infinity];l.UNIT=[0,0,1,1];l.ZERO=R;l.allFinite=function(e){for(let t=0;4>t;t++)if(!isFinite(e[t]))return!1;return!0};l.area=function(e){return H(e)*E(e)};l.center=function(e,t=[0,0]){t[0]=(e[0]+e[2])/2;t[1]=(e[1]+e[3])/2;return t};l.clone=function(e){return[e[0],e[1],e[2],e[3]]};l.contains=function(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]};l.containsPoint=function(e,t){return X(e,t[0],t[1])};l.containsPointObject=function(e,t){return X(e,t.x,t.y)};
l.containsPointWithMargin=function(e,t,k){return t[0]>=e[0]-k&&t[1]>=e[1]-k&&t[0]<=e[2]+k&&t[1]<=e[3]+k};l.containsXY=X;l.containsXYWithMargin=function(e,t,k,p){return t>=e[0]-p&&k>=e[1]-p&&t<=e[2]+p&&k<=e[3]+p};l.copy=C;l.create=D;l.distance=function(e,t){const k=(e[1]+e[3])/2,p=Math.max(Math.abs(t[0]-(e[0]+e[2])/2)-H(e)/2,0);e=Math.max(Math.abs(t[1]-k)-E(e)/2,0);return Math.sqrt(p*p+e*e)};l.empty=function(e){return e?C(e,A):D(A)};l.equals=function(e,t){return w(e)&&w(t)?e[0]===t[0]&&e[1]===t[1]&&
e[2]===t[2]&&e[3]===t[3]:e===t};l.expand=function(e,t,k){if(r.isNone(t))C(k,e);else if("length"in t)if(w(t))k[0]=Math.min(e[0],t[0]),k[1]=Math.min(e[1],t[1]),k[2]=Math.max(e[2],t[2]),k[3]=Math.max(e[3],t[3]);else{if(2===t.length||3===t.length)k[0]=Math.min(e[0],t[0]),k[1]=Math.min(e[1],t[1]),k[2]=Math.max(e[2],t[0]),k[3]=Math.max(e[3],t[1])}else switch(t.type){case "extent":k[0]=Math.min(e[0],t.xmin);k[1]=Math.min(e[1],t.ymin);k[2]=Math.max(e[2],t.xmax);k[3]=Math.max(e[3],t.ymax);break;case "point":k[0]=
Math.min(e[0],t.x),k[1]=Math.min(e[1],t.y),k[2]=Math.max(e[2],t.x),k[3]=Math.max(e[3],t.y)}};l.expandPointInPlace=function(e,t){t[0]<e[0]&&(e[0]=t[0]);t[0]>e[2]&&(e[2]=t[0]);t[1]<e[1]&&(e[1]=t[1]);t[1]>e[3]&&(e[3]=t[1])};l.expandWithNestedArray=function(e,t,k=e){const p=t.length;let x=e[0],G=e[1],v=e[2];e=e[3];for(let u=0;u<p;u++){const B=t[u];x=Math.min(x,B[0]);G=Math.min(G,B[1]);v=Math.max(v,B[0]);e=Math.max(e,B[1])}k[0]=x;k[1]=G;k[2]=v;k[3]=e;return k};l.fromExtent=function(e,t=D()){t[0]=e.xmin;
t[1]=e.ymin;t[2]=e.xmax;t[3]=e.ymax;return t};l.fromValues=function(e,t,k,p,x=D()){x[0]=e;x[1]=t;x[2]=k;x[3]=p;return x};l.height=E;l.intersection=function(e,t,k){if(r.isNone(t))return C(k,e);const p=t[0],x=t[1],G=t[2];t=t[3];k[0]=S.clamp(e[0],p,G);k[1]=S.clamp(e[1],x,t);k[2]=S.clamp(e[2],p,G);k[3]=S.clamp(e[3],x,t);return k};l.intersects=function(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])};l.intersectsSegment=function(e,t,k){const p=e[0],x=e[1],
G=e[2];e=e[3];const {x:v,y:u}=t,{x:B,y}=k;var F=(ea,pa)=>0>(y-u)*ea+(v-B)*pa+(B*u-v*y);t=F(p,e);k=F(G,e);const Q=F(G,x);F=F(p,x);return t===k&&k===Q&&Q===F&&F===t||v<p&&B<p||v>G&&B>G||u>e&&y>e||u<x&&y<x?!1:!0};l.intersectsSphere=function(e,t){const k=t[3];var p=Math.abs(t[0]-.5*(e[0]+e[2]));const x=.5*(e[2]-e[0]);if(p>k+x)return!1;var G=.5*(e[3]-e[1]);e=Math.abs(t[1]-.5*(e[1]+e[3]));if(e>k+G)return!1;if(p<x||e<G)return!0;p-=x;G=e-G;return p*p+G*G<=k*k};l.is=w;l.isPoint=function(e){return(0===H(e)||
!isFinite(e[0]))&&(0===E(e)||!isFinite(e[1]))};l.offset=function(e,t,k,p=e){p[0]=e[0]+t;p[1]=e[1]+k;p[2]=e[2]+t;p[3]=e[3]+k;return p};l.pad=function(e,t,k=e){k[0]=e[0]-t;k[1]=e[1]-t;k[2]=e[2]+t;k[3]=e[3]+t;return k};l.setMax=function(e,t,k=e){k[2]=t[0];k[3]=t[1];k!==e&&(k[0]=e[0],k[1]=e[1]);return e};l.setMin=function(e,t,k=e){k[0]=t[0];k[1]=t[1];k!==e&&(k[2]=e[2],k[3]=e[3]);return k};l.size=function(e,t){t[0]=e[2]-e[0];t[1]=e[3]-e[1]};l.toExtent=function(e,t){return new I({xmin:e[0],ymin:e[1],xmax:e[2],
ymax:e[3],spatialReference:t})};l.width=H;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(l,c){const S=Math.PI/180;var r=c.earth.radius;const I=c.earth.eccentricitySquared;r={a1:r*I,a2:r*I*r*I,a3:r*I*I/2,a4:r*I*r*I*2.5,a5:r*I+r*I*I/2,a6:1-I};c={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:c.earth.radius,f:c.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,
f:0},104902:{a:6051800,f:0},104903:{a:c.moon.radius,f:c.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:c.mars.radius,f:c.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,
f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},
104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,
f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:c.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};l.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;l.earthEllipsoidConstants=r;l.spheroids=c;l.toRadians=S;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(l){return function(){function c(r){this.steps=[];this._cachedProjection=
{};this._chain="";this._gtlistentry=null;if(r&&r.steps)for(const I of r.steps)I instanceof l?this.steps.push(I):this.steps.push(new l({wkid:I.wkid,wkt:I.wkt,isInverse:I.isInverse}))}c.cacheKey=function(r,I){return[void 0!==r.wkid&&null!==r.wkid?r.wkid.toString():"-1",void 0!==r.wkt&&null!==r.wkt?r.wkt.toString():"",void 0!==I.wkid&&null!==I.wkid?I.wkid.toString():"-1",void 0!==I.wkt&&null!==I.wkt?I.wkt.toString():""].join()};c.fromGE=function(r){const I=new c;let D="";for(const C of r.steps)r=l.fromGE(C),
I.steps.push(r),D+=r.uid.toString()+",";I._cachedProjection={};I._gtlistentry=null;I._chain=D;return I};var S=c.prototype;S.getInverse=function(){const r=new c;r.steps=[];for(let I=this.steps.length-1;0<=I;I--)r.steps.push(this.steps[I].getInverse());return r};S.getGTListEntry=function(){let r="";for(const I of this.steps)r+=I.uid.toString()+",";r!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=r);return this._gtlistentry};S.assignCachedGe=function(r,I,D){this._cachedProjection[c.cacheKey(r,
I)]=D};S.getCachedGeTransformation=function(r,I){let D="";for(const C of this.steps)D+=C.uid.toString()+",";D!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=D);r=this._cachedProjection[c.cacheKey(r,I)];return void 0===r?null:r};return c}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(l){let c=0;return function(){function S(r){this.uid=c++;r?(this._wkt=null!=r.wkt?r.wkt:null,this._wkid=null!=
r.wkid?r.wkid:-1,this._isInverse=null!=r.isInverse?!0===r.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}S.fromGE=function(r){const I=new S;I._wkt=r.wkt;I._wkid=r.wkid;I._isInverse=r.isInverse;return I};S.prototype.getInverse=function(){const r=new S;r._wkt=this.wkt;r._wkid=this._wkid;r._isInverse=!this.isInverse;return r};l._createClass(S,[{key:"wkt",get:function(){return this._wkt},set:function(r){this._wkt=r;this.uid=c++}},{key:"wkid",get:function(){return this._wkid},set:function(r){this._wkid=
r;this.uid=c++}},{key:"isInverse",get:function(){return this._isInverse},set:function(r){this._isInverse=r;this.uid=c++}}]);return S}()})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(l,c,S,r){l.getGeometryZScaler=function(I,D,C){if(c.isNone(D)||c.isNone(C)||C.vcsWkid||r.equals(D,C))return null;D=S.getMetersPerVerticalUnitForSR(D);C=S.getMetersPerVerticalUnitForSR(C);const H=D/C;if(1===H)return null;switch(I){case "point":case "esriGeometryPoint":return E=>
{E&&null!=E.z&&(E.z*=H)};case "polyline":case "esriGeometryPolyline":return E=>{if(E)for(const X of E.paths)for(const w of X)2<w.length&&(w[2]*=H)};case "polygon":case "esriGeometryPolygon":return E=>{if(E)for(const X of E.rings)for(const w of X)2<w.length&&(w[2]*=H)};case "multipoint":case "esriGeometryMultipoint":return E=>{if(E)for(const X of E.points)2<X.length&&(X[2]*=H)};case "extent":case "esriGeometryExtent":return E=>{E&&null!=E.zmin&&null!=E.zmax&&(E.zmin*=H,E.zmax*=H)};default:return null}};
Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/PointCloudWorkerUtil":function(){define("exports ../../../../core/maybe ../../../../renderers/PointCloudClassBreaksRenderer ../../../../renderers/PointCloudStretchRenderer ../../../../renderers/PointCloudUniqueValueRenderer ./I3SBinaryReader ./LEPCC".split(" "),function(l,c,S,r,I,D,C){function H(w,A){const R=new Float64Array(A);for(let e=0;e<A;e++)R[e]=w[3*e+2];return R}function E(w){return null==w||"none"===
w?null:"low-four-bit"===w?A=>A&15:"high-four-bit"===w?A=>(A&240)>>4:"absolute-value"===w?A=>Math.abs(A):"modulo-ten"===w?A=>A%10:null}function X(w){let A=0;for(const R of w?w:[])A|=1<<R;return A}l.elevationFromPositions=H;l.evaluateRenderer=function(w,A,R,e){const {rendererJSON:t,isRGBRenderer:k}=w;var p=w=null;if(A&&k)w=A;else if(A&&"pointCloudUniqueValueRenderer"===t?.type){p=I.fromJSON(t);var x=p.colorUniqueValueInfos;w=new Uint8Array(3*e);var G=E(p.fieldTransformType);for(var v=0;v<e;v++){var u=
(G?G(A[v]):A[v])+"";for(var B=0;B<x.length;B++)if(x[B].values.includes(u)){w[3*v]=x[B].color.r;w[3*v+1]=x[B].color.g;w[3*v+2]=x[B].color.b;break}}}else if(A&&"pointCloudStretchRenderer"===t?.type)for(p=r.fromJSON(t),x=p.stops,w=new Uint8Array(3*e),G=E(p.fieldTransformType),v=0;v<e;v++)if(u=G?G(A[v]):A[v],B=x.length-1,u<x[0].value)w[3*v]=x[0].color.r,w[3*v+1]=x[0].color.g,w[3*v+2]=x[0].color.b;else if(u>=x[B].value)w[3*v]=x[B].color.r,w[3*v+1]=x[B].color.g,w[3*v+2]=x[B].color.b;else for(B=1;B<x.length;B++){if(u<
x[B].value){u=(u-x[B-1].value)/(x[B].value-x[B-1].value);w[3*v]=x[B].color.r*u+x[B-1].color.r*(1-u);w[3*v+1]=x[B].color.g*u+x[B-1].color.g*(1-u);w[3*v+2]=x[B].color.b*u+x[B-1].color.b*(1-u);break}}else if(A&&"pointCloudClassBreaksRenderer"===t?.type)for(p=S.fromJSON(t),x=p.colorClassBreakInfos,w=new Uint8Array(3*e),G=E(p.fieldTransformType),v=0;v<e;v++)for(u=G?G(A[v]):A[v],B=0;B<x.length;B++){if(u>=x[B].minValue&&u<=x[B].maxValue){w[3*v]=x[B].color.r;w[3*v+1]=x[B].color.g;w[3*v+2]=x[B].color.b;break}}else for(w=
new Uint8Array(3*e),A=0;A<w.length;A++)w[A]=255;if(R&&p&&p.colorModulation)for(A=p.colorModulation.minValue,p=p.colorModulation.maxValue,x=0;x<e;x++)G=R[x],G=G>=p?1:G<=A?.3:.3+.7*(G-A)/(p-A),w[3*x]*=G,w[3*x+1]*=G,w[3*x+2]*=G;return w};l.filterInPlace=function(w,A,R,e,t){const k=w.length/3;let p=0;for(let y=0;y<k;y++){let F=!0;for(let Q=0;Q<e.length&&F;Q++){var {filterJSON:x}=e[Q],G=t[Q].values[y];switch(x.type){case "pointCloudValueFilter":var v="exclude"===x.mode;x.values.includes(G)===v&&(F=!1);
break;case "pointCloudBitfieldFilter":v=X(x.requiredSetBits);x=X(x.requiredClearBits);if((G&v)!==v||0!==(G&x))F=!1;break;case "pointCloudReturnFilter":var u=G&15,B=G>>>4&15;G=1<B;v=1===u;u=u===B;B=!1;for(const ea of x.includedReturns)if("last"===ea&&u||"firstOfMany"===ea&&v&&G||"lastOfMany"===ea&&u&&G||"single"===ea&&!G){B=!0;break}B||(F=!1)}}F&&(R[p]=y,w[3*p]=w[3*y],w[3*p+1]=w[3*y+1],w[3*p+2]=w[3*y+2],A[3*p]=A[3*y],A[3*p+1]=A[3*y+1],A[3*p+2]=A[3*y+2],p++)}return p};l.getAttributeValues=function(w,
A,R){return c.isSome(w)&&w.attributeInfo.useElevation?A?H(A,R):null:c.isSome(w)&&w.attributeInfo.storageInfo?D.readBinaryAttribute(w.attributeInfo.storageInfo,w.buffer,R):null};l.readGeometry=function(w,A){if(null==w.encoding||""===w.encoding){w=D.createGeometryIndexFromSchema(A,w);if(c.isNone(w.vertexAttributes.position))return;A=D.createTypedView(A,w.vertexAttributes.position);var R=w.header.fields;w=[R.offsetX,R.offsetY,R.offsetZ];R=[R.scaleX,R.scaleY,R.scaleZ];const e=A.length/3,t=new Float64Array(3*
e);for(let k=0;k<e;k++)t[3*k]=A[3*k]*R[0]+w[0],t[3*k+1]=A[3*k+1]*R[1]+w[1],t[3*k+2]=A[3*k+2]*R[2]+w[2];return t}if("lepcc-xyz"===w.encoding)return C.decodeXYZ(A).result};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PointCloudClassBreaksRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorClassBreakInfo".split(" "),
function(l,c,S,r,I,D,C,H,E,X){var w;I=w=function(A){function R(e){e=A.call(this,e)||this;e.type="point-cloud-class-breaks";e.field=null;e.legendOptions=null;e.fieldTransformType=null;e.colorClassBreakInfos=null;return e}l._inheritsLoose(R,A);R.prototype.clone=function(){return new w({...this.cloneProperties(),field:this.field,fieldTransformType:this.fieldTransformType,colorClassBreakInfos:S.clone(this.colorClassBreakInfos),legendOptions:S.clone(this.legendOptions)})};return R}(H);c.__decorate([D.enumeration({pointCloudClassBreaksRenderer:"point-cloud-class-breaks"})],
I.prototype,"type",void 0);c.__decorate([r.property({json:{write:!0},type:String})],I.prototype,"field",void 0);c.__decorate([r.property({type:E.LegendOptions,json:{write:!0}})],I.prototype,"legendOptions",void 0);c.__decorate([r.property({type:H.fieldTransformTypeKebabDict.apiValues,json:{type:H.fieldTransformTypeKebabDict.jsonValues,read:H.fieldTransformTypeKebabDict.read,write:H.fieldTransformTypeKebabDict.write}})],I.prototype,"fieldTransformType",void 0);c.__decorate([r.property({type:[X],json:{write:!0}})],
I.prototype,"colorClassBreakInfos",void 0);return I=w=c.__decorate([C.subclass("esri.renderers.PointCloudClassBreaksRenderer")],I)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(l,c,S){l.enumeration=function(r,I={}){r=r instanceof c.JSONMap?r:new c.JSONMap(r,I);r={type:I?.ignoreUnknown??!0?r.apiValues:String,json:{type:r.jsonValues,read:I?.readOnly?!1:{reader:r.read},write:{writer:r.write}}};void 0!==I?.readOnly&&(r.readOnly=
!!I.readOnly);void 0!==I?.default&&(r.json.default=I.default);void 0!==I?.name&&(r.json.name=I.name);void 0!==I?.nonNullable&&(r.nonNullable=I.nonNullable);return S.property(r)};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/PointCloudRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/jsonMap ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/subclass ./support/pointCloud/ColorModulation ./support/pointCloud/pointSizeAlgorithmTypeUtils".split(" "),
function(l,c,S,r,I,D,C,H,E,X){C=S.strict()({pointCloudClassBreaksRenderer:"point-cloud-class-breaks",pointCloudRGBRenderer:"point-cloud-rgb",pointCloudStretchRenderer:"point-cloud-stretch",pointCloudUniqueValueRenderer:"point-cloud-unique-value"});r=function(w){function A(e){e=w.call(this,e)||this;e.type=void 0;e.pointSizeAlgorithm=null;e.colorModulation=null;e.pointsPerInch=10;return e}l._inheritsLoose(A,w);var R=A.prototype;R.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);
return null};R.cloneProperties=function(){return{pointSizeAlgorithm:I.clone(this.pointSizeAlgorithm),colorModulation:I.clone(this.colorModulation),pointsPerInch:I.clone(this.pointsPerInch)}};return A}(r.JSONSupport);c.__decorate([D.property({type:C.apiValues,readOnly:!0,nonNullable:!0,json:{type:C.jsonValues,read:!1,write:C.write}})],r.prototype,"type",void 0);c.__decorate([D.property({types:X.pointSizeAlgorithmTypes,json:{write:!0}})],r.prototype,"pointSizeAlgorithm",void 0);c.__decorate([D.property({type:E,
json:{write:!0}})],r.prototype,"colorModulation",void 0);c.__decorate([D.property({json:{write:!0},nonNullable:!0,type:Number})],r.prototype,"pointsPerInch",void 0);r=c.__decorate([H.subclass("esri.renderers.PointCloudRenderer")],r);(r||(r={})).fieldTransformTypeKebabDict=new S.JSONMap({none:"none",lowFourBit:"low-four-bit",highFourBit:"high-four-bit",absoluteValue:"absolute-value",moduloTen:"modulo-ten"});return r})},"esri/renderers/support/pointCloud/ColorModulation":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,S,r,I,D,C){var H;S=H=function(E){function X(){var w=E.apply(this,arguments)||this;w.field=null;w.minValue=0;w.maxValue=255;return w}l._inheritsLoose(X,E);X.prototype.clone=function(){return new H({field:this.field,minValue:this.minValue,maxValue:this.maxValue})};return X}(S.JSONSupport);c.__decorate([r.property({type:String,json:{write:!0}})],S.prototype,"field",void 0);c.__decorate([r.property({type:Number,nonNullable:!0,json:{write:!0}})],S.prototype,"minValue",void 0);c.__decorate([r.property({type:Number,
nonNullable:!0,json:{write:!0}})],S.prototype,"maxValue",void 0);return S=H=c.__decorate([C.subclass("esri.renderers.support.pointCloud.ColorModulation")],S)})},"esri/renderers/support/pointCloud/pointSizeAlgorithmTypeUtils":function(){define(["exports","./PointSizeAlgorithm","./PointSizeFixedSizeAlgorithm","./PointSizeSplatAlgorithm"],function(l,c,S,r){l.pointSizeAlgorithmTypes={key:"type",base:c,typeMap:{"fixed-size":S,splat:r}};Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/PointSizeAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,S,r,I,D,C,H){S=new S.JSONMap({pointCloudFixedSizeAlgorithm:"fixed-size",pointCloudSplatAlgorithm:"splat"});r=function(E){function X(){return E.apply(this,arguments)||this}l._inheritsLoose(X,E);return X}(r.JSONSupport);c.__decorate([I.property({type:S.apiValues,readOnly:!0,nonNullable:!0,json:{type:S.jsonValues,read:!1,write:S.write}})],r.prototype,"type",void 0);return r=c.__decorate([H.subclass("esri.renderers.support.pointCloud.PointSizeAlgorithm")],r)})},"esri/renderers/support/pointCloud/PointSizeFixedSizeAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(l,c,S,r,I,D,C,H){var E;r=E=function(X){function w(){var A=X.apply(this,arguments)||this;A.type="fixed-size";A.size=0;A.useRealWorldSymbolSizes=null;return A}l._inheritsLoose(w,X);w.prototype.clone=function(){return new E({size:this.size,useRealWorldSymbolSizes:this.useRealWorldSymbolSizes})};return w}(H);c.__decorate([D.enumeration({pointCloudFixedSizeAlgorithm:"fixed-size"})],r.prototype,"type",void 0);c.__decorate([S.property({type:Number,nonNullable:!0,json:{write:!0}})],r.prototype,"size",
void 0);c.__decorate([S.property({type:Boolean,json:{write:!0}})],r.prototype,"useRealWorldSymbolSizes",void 0);return r=E=c.__decorate([C.subclass("esri.renderers.support.pointCloud.PointSizeFixedSizeAlgorithm")],r)})},"esri/renderers/support/pointCloud/PointSizeSplatAlgorithm":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ./PointSizeAlgorithm".split(" "),
function(l,c,S,r,I,D,C,H){var E;r=E=function(X){function w(){var A=X.apply(this,arguments)||this;A.type="splat";A.scaleFactor=1;return A}l._inheritsLoose(w,X);w.prototype.clone=function(){return new E({scaleFactor:this.scaleFactor})};return w}(H);c.__decorate([D.enumeration({pointCloudSplatAlgorithm:"splat"})],r.prototype,"type",void 0);c.__decorate([S.property({type:Number,value:1,nonNullable:!0,json:{write:!0}})],r.prototype,"scaleFactor",void 0);return r=E=c.__decorate([C.subclass("esri.renderers.support.pointCloud.PointSizeSplatAlgorithm")],
r)})},"esri/renderers/support/LegendOptions":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(l,c,S,r,I,D,C,H){var E;l.LegendOptions=E=function(X){function w(){var A=X.apply(this,arguments)||this;A.title=null;return A}c._inheritsLoose(w,X);w.prototype.clone=function(){return new E({title:this.title})};
return w}(r.JSONSupport);S.__decorate([I.property({type:String,json:{write:!0}})],l.LegendOptions.prototype,"title",void 0);l.LegendOptions=E=S.__decorate([H.subclass("esri.renderers.support.LegendOptions")],l.LegendOptions);Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/renderers/support/pointCloud/ColorClassBreakInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,S,r,I,D,C,H){var E;r=E=function(X){function w(){var A=X.apply(this,arguments)||this;A.description=null;A.label=null;A.minValue=0;A.maxValue=0;A.color=null;return A}l._inheritsLoose(w,X);w.prototype.clone=function(){return new E({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,color:I.clone(this.color)})};return w}(r.JSONSupport);c.__decorate([D.property({type:String,json:{write:!0}})],r.prototype,"description",void 0);c.__decorate([D.property({type:String,
json:{write:!0}})],r.prototype,"label",void 0);c.__decorate([D.property({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],r.prototype,"minValue",void 0);c.__decorate([D.property({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],r.prototype,"maxValue",void 0);c.__decorate([D.property({type:S,json:{type:[C.Integer],write:!0}})],r.prototype,"color",void 0);return r=E=c.__decorate([H.subclass("esri.renderers.support.pointCloud.ColorClassBreakInfo")],
r)})},"esri/renderers/PointCloudStretchRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./visualVariables/support/ColorStop".split(" "),function(l,c,S,r,I,D,C,H,E,X){var w;I=w=function(A){function R(e){e=A.call(this,e)||this;e.type="point-cloud-stretch";
e.field=null;e.legendOptions=null;e.fieldTransformType=null;e.stops=null;return e}l._inheritsLoose(R,A);R.prototype.clone=function(){return new w({...this.cloneProperties(),field:S.clone(this.field),fieldTransformType:S.clone(this.fieldTransformType),stops:S.clone(this.stops),legendOptions:S.clone(this.legendOptions)})};return R}(H);c.__decorate([D.enumeration({pointCloudStretchRenderer:"point-cloud-stretch"})],I.prototype,"type",void 0);c.__decorate([r.property({json:{write:!0},type:String})],I.prototype,
"field",void 0);c.__decorate([r.property({type:E.LegendOptions,json:{write:!0}})],I.prototype,"legendOptions",void 0);c.__decorate([r.property({type:H.fieldTransformTypeKebabDict.apiValues,json:{type:H.fieldTransformTypeKebabDict.jsonValues,read:H.fieldTransformTypeKebabDict.read,write:H.fieldTransformTypeKebabDict.write}})],I.prototype,"fieldTransformType",void 0);c.__decorate([r.property({type:[X],json:{write:!0}})],I.prototype,"stops",void 0);return I=w=c.__decorate([C.subclass("esri.renderers.PointCloudStretchRenderer")],
I)})},"esri/renderers/visualVariables/support/ColorStop":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/arrayUtils ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/decorators/writer".split(" "),function(l,c,S,r,I,D,C,H,E){var X;r=X=function(w){function A(e){e=w.call(this,e)||this;e.color=
null;e.label=null;e.value=null;return e}l._inheritsLoose(A,w);var R=A.prototype;R.writeValue=function(e,t,k){t[k]=null==e?0:e};R.clone=function(){return new X({color:this.color&&this.color.clone(),label:this.label,value:this.value})};return A}(r.JSONSupport);c.__decorate([I.property({type:S,json:{type:[D.Integer],write:!0}})],r.prototype,"color",void 0);c.__decorate([I.property({type:String,json:{write:!0}})],r.prototype,"label",void 0);c.__decorate([I.property({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],
r.prototype,"value",void 0);c.__decorate([E.writer("value")],r.prototype,"writeValue",null);return r=X=c.__decorate([H.subclass("esri.renderers.visualVariables.support.ColorStop")],r)})},"esri/renderers/PointCloudUniqueValueRenderer":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/lang ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/enumeration ../core/accessorSupport/decorators/subclass ./PointCloudRenderer ./support/LegendOptions ./support/pointCloud/ColorUniqueValueInfo".split(" "),
function(l,c,S,r,I,D,C,H,E,X){var w;I=w=function(A){function R(e){e=A.call(this,e)||this;e.type="point-cloud-unique-value";e.field=null;e.fieldTransformType=null;e.colorUniqueValueInfos=null;e.legendOptions=null;return e}l._inheritsLoose(R,A);R.prototype.clone=function(){return new w({...this.cloneProperties(),field:S.clone(this.field),fieldTransformType:S.clone(this.fieldTransformType),colorUniqueValueInfos:S.clone(this.colorUniqueValueInfos),legendOptions:S.clone(this.legendOptions)})};return R}(H);
c.__decorate([D.enumeration({pointCloudUniqueValueRenderer:"point-cloud-unique-value"})],I.prototype,"type",void 0);c.__decorate([r.property({json:{write:!0},type:String})],I.prototype,"field",void 0);c.__decorate([r.property({type:H.fieldTransformTypeKebabDict.apiValues,json:{type:H.fieldTransformTypeKebabDict.jsonValues,read:H.fieldTransformTypeKebabDict.read,write:H.fieldTransformTypeKebabDict.write}})],I.prototype,"fieldTransformType",void 0);c.__decorate([r.property({type:[X],json:{write:!0}})],
I.prototype,"colorUniqueValueInfos",void 0);c.__decorate([r.property({type:E.LegendOptions,json:{write:!0}})],I.prototype,"legendOptions",void 0);return I=w=c.__decorate([C.subclass("esri.renderers.PointCloudUniqueValueRenderer")],I)})},"esri/renderers/support/pointCloud/ColorUniqueValueInfo":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Color ../../../core/JSONSupport ../../../core/lang ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass".split(" "),
function(l,c,S,r,I,D,C,H){var E;r=E=function(X){function w(){var A=X.apply(this,arguments)||this;A.description=null;A.label=null;A.values=null;A.color=null;return A}l._inheritsLoose(w,X);w.prototype.clone=function(){return new E({description:this.description,label:this.label,values:I.clone(this.values),color:I.clone(this.color)})};return w}(r.JSONSupport);c.__decorate([D.property({type:String,json:{write:!0}})],r.prototype,"description",void 0);c.__decorate([D.property({type:String,json:{write:!0}})],
r.prototype,"label",void 0);c.__decorate([D.property({type:[String],json:{write:!0}})],r.prototype,"values",void 0);c.__decorate([D.property({type:S,json:{type:[C.Integer],write:!0}})],r.prototype,"color",void 0);return r=E=c.__decorate([H.subclass("esri.renderers.support.pointCloud.ColorUniqueValueInfo")],r)})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC ../../webgl-engine/lib/VertexAttribute".split(" "),
function(l,c,S,r,I,D){function C(y,F){const Q={byteOffset:0,byteCount:0,fields:Object.create(null)};let ea=0;for(let pa=0;pa<F.length;pa++){const ua=F[pa],ja=ua.valueType||ua.type;Q.fields[ua.property]=(0,B[ja])(y,ea);ea+=u[ja].BYTES_PER_ELEMENT}Q.byteCount=ea;return Q}function H(y,F,Q){return E(y,F,Q).map(ea=>(ea=ea?Date.parse(ea):null)&&!Number.isNaN(ea)?ea:null)}function E(y,F,Q){const ea=[];let pa,ua=0,ja;for(ja=0;ja<y;ja+=1){pa=F[ja];if(0<pa){var Ca=ea,Ga=Ca.push,Ia=Q,Ja=ua,Ra=pa-1;let Aa="",
Ea=0;for(;Ea<Ra;){var wa=Ia[Ja+Ea];if(128>wa)Aa+=String.fromCharCode(wa),Ea++;else if(192<=wa&&224>wa){if(Ea+1>=Ra)throw new c("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");Aa+=String.fromCharCode((wa&31)<<6|Ia[Ja+Ea+1]&63);Ea+=2}else if(224<=wa&&240>wa){if(Ea+2>=Ra)throw new c("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");Aa+=String.fromCharCode((wa&15)<<12|(Ia[Ja+Ea+1]&63)<<6|Ia[Ja+Ea+2]&63);Ea+=3}else if(240<=wa&&248>wa){if(Ea+3>=
Ra)throw new c("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");wa=(wa&7)<<18|(Ia[Ja+Ea+1]&63)<<12|(Ia[Ja+Ea+2]&63)<<6|Ia[Ja+Ea+3]&63;Aa=65536<=wa?Aa+String.fromCharCode((wa-65536>>10)+55296,(wa&1023)+56320):Aa+String.fromCharCode(wa);Ea+=4}else throw new c("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}Ga.call(Ca,Aa);if(0!==Q[ua+pa-1])throw new c("string-array-error","Invalid string array: missing null termination.");}else ea.push(null);ua+=
pa}return ea}function X(y,F){return new u[F.valueType](y,F.byteOffset,F.count*F.valuesPerElement)}function w(y,F){return new Uint8Array(y,F.byteOffset,F.byteCount)}function A(y,F,Q){y=null!=F.header?C(y,F.header):{byteOffset:0,byteCount:0,fields:{count:Q}};Q={header:y,byteOffset:y.byteCount,byteCount:0,entries:Object.create(null)};let ea=y.byteCount;for(let pa=0;pa<F.ordering.length;pa++){const ua=F.ordering[pa],ja=S.clone(F[ua]);ja.count=y.fields.count??0;if("String"===ja.valueType){ja.byteOffset=
ea;ja.byteCount=y.fields[ua+"ByteCount"];if("UTF-8"!==ja.encoding)throw new c("unsupported-encoding","Unsupported String encoding.",{encoding:ja.encoding});if(ja.timeEncoding&&"ECMA_ISO8601"!==ja.timeEncoding)throw new c("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:ja.timeEncoding});}else if(p(ja.valueType)){const Ca=x(ja.valueType);ea+=0!==ea%Ca?Ca-ea%Ca:0;ja.byteOffset=ea;ja.byteCount=Ca*ja.valuesPerElement*ja.count}else throw new c("unsupported-value-type","Unsupported binary valueType",
{valueType:ja.valueType});ea+=ja.byteCount??0;Q.entries[ua]=ja}Q.byteCount=ea-Q.byteOffset;return Q}function R(y,F,Q){F!==y&&G.error(`Invalid ${Q} buffer size\n expected: ${y}, actual: ${F})`);if(F<y)throw new c("buffer-too-small","Binary buffer is too small",{expectedSize:y,actualSize:F});}function e(y){return{isDraco:!1,isLegacy:!1,color:null!=y.color,normal:null!=y.normal,uv0:null!=y.uv0,uvRegion:null!=y.uvRegion,featureIndex:null!=y.faceRange&&null!=y.featureId}}function t(y){const F={isDraco:!1,
isLegacy:!0,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Q of y.ordering)if(y.vertexAttributes[Q])switch(Q){case "normal":F.normal=!0;break;case "color":F.color=!0;break;case "uv0":F.uv0=!0;break;case "region":F.uvRegion=!0}y.featureAttributes&&y.featureAttributeOrder&&(F.featureIndex=!0);return F}function k(y){const F={isDraco:!0,isLegacy:!1,color:!1,normal:!1,uv0:!1,uvRegion:!1,featureIndex:!1};for(const Q of y)switch(Q){case "normal":F.normal=!0;break;case "uv0":F.uv0=!0;break;
case "color":F.color=!0;break;case "uv-region":F.uvRegion=!0;break;case "feature-index":F.featureIndex=!0}return F}function p(y){return u.hasOwnProperty(y)}function x(y){return p(y)?u[y].BYTES_PER_ELEMENT:0}const G=r.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader"),v={position:D.VertexAttribute.POSITION,normal:D.VertexAttribute.NORMAL,color:D.VertexAttribute.COLOR,uv0:D.VertexAttribute.UV0,region:D.VertexAttribute.UVREGION},u={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,
UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},B={Float32:(y,F)=>(new DataView(y,0)).getFloat32(F,!0),Float64:(y,F)=>(new DataView(y,0)).getFloat64(F,!0),UInt8:(y,F)=>(new DataView(y,0)).getUint8(F),Int8:(y,F)=>(new DataView(y,0)).getInt8(F),UInt16:(y,F)=>(new DataView(y,0)).getUint16(F,!0),Int16:(y,F)=>(new DataView(y,0)).getInt16(F,!0),UInt32:(y,F)=>(new DataView(y,0)).getUint32(F,!0),Int32:(y,F)=>(new DataView(y,0)).getInt32(F,!0)};l.createAttributeDataIndex=A;l.createGeometryDescriptor=
function(y,F){return y&&y.compressedAttributes&&"draco"===y.compressedAttributes.encoding?k(y.compressedAttributes.attributes):y?e(y):t(F)};l.createGeometryDescriptorForDraco=k;l.createGeometryDescriptorFromDefinition=e;l.createGeometryDescriptorFromSchema=t;l.createGeometryIndexFromSchema=function(y,F){var Q=C(y,F&&F.header);let ea=Q.byteCount;const pa={isDraco:!1,header:Q,byteOffset:Q.byteCount,byteCount:0,vertexAttributes:{}};Q=Q.fields;var ua=null!=Q.vertexCount?Q.vertexCount:Q.count;for(var ja of F.ordering){if(!F.vertexAttributes[ja])continue;
const Ga={...F.vertexAttributes[ja],byteOffset:ea,count:ua};pa.vertexAttributes[v[ja]?v[ja]:"_"+ja]=Ga;ea+=x(Ga.valueType)*Ga.valuesPerElement*ua}ja=Q.faceCount;if(F.faces&&ja){pa.faces={};for(var Ca of F.ordering)F.faces[Ca]&&(ua={...F.faces[Ca],byteOffset:ea,count:ja},pa.faces[Ca]=ua,ea+=x(ua.valueType)*ua.valuesPerElement*ja)}Ca=Q.featureCount;if(F.featureAttributes&&F.featureAttributeOrder&&Ca){pa.featureAttributes={};for(const Ga of F.featureAttributeOrder)F.featureAttributes[Ga]&&(Q={...F.featureAttributes[Ga],
byteOffset:ea,count:Ca},pa.featureAttributes[Ga]=Q,ja="UInt64"===Q.valueType?8:x(Q.valueType),ea+=ja*Q.valuesPerElement*Ca)}R(ea,y.byteLength,"geometry");pa.byteCount=ea-pa.byteOffset;return pa};l.createRawView=w;l.createTypedView=X;l.getBytesPerValue=x;l.isValueType=p;l.readBinaryAttribute=function(y,F,Q){if("lepcc-rgb"===y.encoding)return I.decodeRGB(F);if("lepcc-intensity"===y.encoding)return I.decodeIntensity(F);if(null!=y.encoding&&""!==y.encoding)throw new c("unknown-attribute-storage-info-encoding",
"Unknown Attribute Storage Info Encoding");y["attributeByteCounts "]&&!y.attributeByteCounts&&(G.warn("Warning: Trailing space in 'attributeByteCounts '."),y.attributeByteCounts=y["attributeByteCounts "]);"ObjectIds"===y.ordering[0]&&y.hasOwnProperty("objectIds")&&(G.warn("Warning: Case error in objectIds"),y.ordering[0]="objectIds");Q=A(F,y,Q);R(Q.byteOffset+Q.byteCount,F.byteLength,"attribute");if(y=Q.entries.attributeValues||Q.entries.objectIds){if("String"===y.valueType){Q=Q.entries.attributeByteCounts;
const ea=X(F,Q);F=w(F,y);return y.timeEncoding?H(Q.count,ea,F):E(Q.count,ea,F)}return X(F,y)}throw new c("bad-attribute-storage-info","Bad attributeStorageInfo specification.");};l.readDateStringArray=H;l.readHeader=C;l.readStringArray=E;l.valueType2ArrayBufferReader=B;l.valueType2TypedArrayClassMap=u;Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["exports","../../../../core/Error"],function(l,c){function S(C,H,E){return{identifier:String.fromCharCode.apply(null,
new Uint8Array(C,E+D.identifierOffset,D.identifierLength)),version:H.getUint16(E+D.versionOffset,!0),checksum:H.getUint32(E+D.checksumOffset,!0)}}function r(C,H,E){const X=[];H=I(C,H,X);const w=[];for(let A=0;A<X.length;A++){w.length=0;H=I(C,H,w);for(let R=0;R<w.length;R++)E.push(w[R]+X[A])}return H}function I(C,H,E){var X=new DataView(C,H),w=X.getUint8(0);const A=w&31;var R=!!(w&32),e=(w&192)>>6;w=0;if(0===e)w=X.getUint32(1,!0),H+=5;else if(1===e)w=X.getUint16(1,!0),H+=3;else if(2===e)w=X.getUint8(1),
H+=2;else throw new c("lepcc-decode-error","Bad count type");if(R)throw new c("lepcc-decode-error","LUT not implemented");C=new Uint8Array(C,H,Math.ceil(w*A/8));e=R=X=0;const t=-1>>>32-A;for(let k=0;k<w;k++){for(;R<A;)X|=C[e]<<R,R+=8,e+=1;E[k]=X&t;X>>>=A;R-=A;32<R+A&&(X|=C[e-1]>>8-R)}return H+e}const D={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};l.decodeIntensity=function(C){const H=new DataView(C,0);var E=0;const {identifier:X,version:w}=S(C,H,E);E+=D.byteCount;
if("Intensity "!==X)throw new c("lepcc-decode-error","Bad identifier");if(1<w)throw new c("lepcc-decode-error","Unknown version");var A=E;var R=H.getUint32(A+0,!0);var e=H.getUint32(A+4,!0);var t=H.getUint32(A+8,!0);var k=H.getUint16(A+12,!0);var p=H.getUint8(A+14);H.getUint8(A+15);E+=16;if(e*2**32+R!==C.byteLength)throw new c("lepcc-decode-error","Bad size");R=new Uint16Array(t);if(8===p){if(t+E!==C.byteLength)throw new c("lepcc-decode-error","Bad size");C=new Uint8Array(C,E,t);for(E=0;E<t;E++)R[E]=
C[E]*k}else if(16===p){if(2*t+E!==C.byteLength)throw new c("lepcc-decode-error","Bad size");C=new Uint16Array(C,E,t);for(E=0;E<t;E++)R[E]=C[E]*k}else{p=[];if(I(C,E,p)!==C.byteLength)throw new c("lepcc-decode-error","Bad size");for(C=0;C<t;C++)R[C]=p[C]*k}return R};l.decodeRGB=function(C){var H=new DataView(C,0),E=0;const {identifier:X,version:w}=S(C,H,E);E+=D.byteCount;if("ClusterRGB"!==X)throw new c("lepcc-decode-error","Bad identifier");if(1<w)throw new c("lepcc-decode-error","Unknown version");
var A=E;var R=H.getUint32(A+0,!0);var e=H.getUint32(A+4,!0);var t=H.getUint32(A+8,!0);var k=H.getUint16(A+12,!0);var p=H.getUint8(A+14);A=H.getUint8(A+15);E+=16;if(e*2**32+R!==C.byteLength)throw new c("lepcc-decode-error","Bad size");if((2===p||1===p)&&0===A){if(3*k+t+E!==C.byteLength||256<k)throw new c("lepcc-decode-error","Bad count");H=new Uint8Array(C,E,3*k);E=new Uint8Array(C,E+3*k,t);C=new Uint8Array(3*t);for(k=0;k<t;k++)R=E[k],C[3*k]=H[3*R],C[3*k+1]=H[3*R+1],C[3*k+2]=H[3*R+2];return C}if(0===
p&&0===A){if(3*t+E!==C.byteLength||0!==k)throw new c("lepcc-decode-error","Bad count");return(new Uint8Array(C,E)).slice()}if(2>=p&&1===A){if(E+3!==C.byteLength||1!==k)throw new c("lepcc-decode-error","Bad count");C=H.getUint8(E);k=H.getUint8(E+1);E=H.getUint8(E+2);H=new Uint8Array(3*t);for(R=0;R<t;R++)H[3*R]=C,H[3*R+1]=k,H[3*R+2]=E;return H}throw new c("lepcc-decode-error","Bad method "+p+","+A);};l.decodeXYZ=function(C){var H=new DataView(C,0),E=0;const {identifier:X,version:w}=S(C,H,E);E+=D.byteCount;
if("LEPCC     "!==X)throw new c("lepcc-decode-error","Bad identifier");if(1<w)throw new c("lepcc-decode-error","Unknown version");var A=E;var R=H.getUint32(A+0,!0);var e=H.getUint32(A+4,!0);var t=H.getFloat64(A+8,!0);var k=H.getFloat64(A+16,!0);var p=H.getFloat64(A+24,!0);var x=H.getFloat64(A+32,!0);var G=H.getFloat64(A+40,!0);var v=H.getFloat64(A+48,!0);var u=H.getFloat64(A+56,!0);var B=H.getFloat64(A+64,!0);var y=H.getFloat64(A+72,!0);var F=H.getUint32(A+80,!0);H.getUint32(A+84,!0);E+=88;if(e*2**
32+R!==C.byteLength)throw new c("lepcc-decode-error","Bad size");R=new Float64Array(3*F);e=[];F=[];H=[];A=[];E=r(C,E,e);E=r(C,E,F);E=r(C,E,H);E=r(C,E,A);if(E!==C.byteLength)throw new c("lepcc-decode-error","Bad length");E=C=0;for(let Q=0;Q<e.length;Q++){E+=e[Q];let ea=0;for(let pa=0;pa<F[Q];pa++){ea+=H[C];const ua=A[C];R[3*C]=Math.min(x,t+2*u*ea);R[3*C+1]=Math.min(G,k+2*B*E);R[3*C+2]=Math.min(v,p+2*y*ua);C++}}return{errorX:u,errorY:B,errorZ:y,result:R}};Object.defineProperty(l,Symbol.toStringTag,
{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(l){l.VertexAttribute=void 0;var c=l.VertexAttribute||(l.VertexAttribute={});c.POSITION="position";c.NORMAL="normal";c.UV0="uv0";c.AUXPOS1="auxpos1";c.AUXPOS2="auxpos2";c.COLOR="color";c.SYMBOLCOLOR="symbolColor";c.SIZE="size";c.TANGENT="tangent";c.OFFSET="offset";c.SUBDIVISIONFACTOR="subdivisionFactor";c.COLORFEATUREATTRIBUTE="colorFeatureAttribute";c.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";
c.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";c.DISTANCETOSTART="distanceToStart";c.UVMAPSPACE="uvMapSpace";c.BOUNDINGRECT="boundingRect";c.UVREGION="uvRegion";c.NORMALCOMPRESSED="normalCompressed";c.PROFILERIGHT="profileRight";c.PROFILEUP="profileUp";c.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";c.FEATUREVALUE="featureValue";c.MODELORIGINHI="modelOriginHi";c.MODELORIGINLO="modelOriginLo";c.MODEL="model";c.MODELNORMAL="modelNormal";c.INSTANCECOLOR="instanceColor";c.INSTANCEFEATUREATTRIBUTE=
"instanceFeatureAttribute";c.LOCALTRANSFORM="localTransform";c.GLOBALTRANSFORM="globalTransform";c.BOUNDINGSPHERE="boundingSphere";c.MODELORIGIN="modelOrigin";c.MODELSCALEFACTORS="modelScaleFactors";c.FEATUREATTRIBUTE="featureAttribute";c.STATE="state";c.LODLEVEL="lodLevel";c.POSITION0="position0";c.POSITION1="position1";c.NORMALA="normalA";c.NORMALB="normalB";c.COMPONENTINDEX="componentIndex";c.VARIANTOFFSET="variantOffset";c.VARIANTSTROKE="variantStroke";c.VARIANTEXTENSION="variantExtension";c.U8PADDING=
"u8padding";c.U16PADDING="u16padding";c.SIDENESS="sideness";c.START="start";c.END="end";c.UP="up";c.EXTRUDE="extrude";c.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";c.OBJECTANDLAYERIDCOLOR_INSTANCED="objectAndLayerIdColor_instanced";Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../core/maybe ../../../core/typedArrayUtil ../../../chunks/quat ../../../chunks/quatf32 ../../../chunks/vec3 ../../../chunks/vec3f32 ../../../geometry/projection ../../../geometry/SpatialReference ./i3s/PointCloudWorkerUtil".split(" "),function(l,c,S,r,I,D,C,H,E){let X=function(){function A(){}var R=A.prototype;R.transform=function(e){e=this._transform(e);const t=[e.points.buffer,e.rgb.buffer];l.isSome(e.pointIdFilterMap)&&t.push(e.pointIdFilterMap.buffer);for(const k of e.attributes)"buffer"in
k.values&&c.isArrayBuffer(k.values.buffer)&&k.values.buffer!==e.rgb.buffer&&t.push(k.values.buffer);return Promise.resolve({result:e,transferList:t})};R._transform=function(e){const t=E.readGeometry(e.schema,e.geometryBuffer);let k=t.length/3,p=null;const x=[];var G=E.getAttributeValues(e.primaryAttributeData,t,k);l.isSome(e.primaryAttributeData)&&G&&x.push({attributeInfo:e.primaryAttributeData.attributeInfo,values:G});var v=E.getAttributeValues(e.modulationAttributeData,t,k);l.isSome(e.modulationAttributeData)&&
v&&x.push({attributeInfo:e.modulationAttributeData.attributeInfo,values:v});G=E.evaluateRenderer(e.rendererInfo,G,v,k);e.filterInfo&&0<e.filterInfo.length&&l.isSome(e.filterAttributesData)&&(v=e.filterAttributesData.filter(l.isSome).map(B=>{const y=E.getAttributeValues(B,t,k);B={attributeInfo:B.attributeInfo,values:y};x.push(B);return B}),p=new Uint32Array(k),k=E.filterInPlace(t,G,p,e.filterInfo,v));for(var u of e.userAttributesData)v=E.getAttributeValues(u,t,k),x.push({attributeInfo:u.attributeInfo,
values:v});3*k<G.length&&(G=new Uint8Array(G.buffer.slice(0,3*k)));this._applyElevationOffsetInPlace(t,k,e.elevationOffset);u=this._transformCoordinates(t,k,e.obb,H.fromJSON(e.inSR),H.fromJSON(e.outSR));return{obb:e.obb,points:u,rgb:G,attributes:x,pointIdFilterMap:p}};R._transformCoordinates=function(e,t,k,p,x){if(!C.projectBuffer(e,p,0,e,x,0,t))throw Error("Can't reproject");p=D.fromValues(k.center[0],k.center[1],k.center[2]);x=D.create();const G=D.create();S.conjugate(w,k.quaternion);const v=new Float32Array(3*
t);for(let u=0;u<t;u++)x[0]=e[3*u]-p[0],x[1]=e[3*u+1]-p[1],x[2]=e[3*u+2]-p[2],I.transformQuat(G,x,w),k.halfSize[0]=Math.max(k.halfSize[0],Math.abs(G[0])),k.halfSize[1]=Math.max(k.halfSize[1],Math.abs(G[1])),k.halfSize[2]=Math.max(k.halfSize[2],Math.abs(G[2])),v[3*u]=x[0],v[3*u+1]=x[1],v[3*u+2]=x[2];return v};R._applyElevationOffsetInPlace=function(e,t,k){if(0!==k)for(let p=0;p<t;p++)e[3*p+2]+=k};return A}();const w=r.create();return function(){return new X}});