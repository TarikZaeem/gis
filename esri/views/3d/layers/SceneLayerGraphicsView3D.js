// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("require ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../Graphic ../../../core/arrayUtils ../../../core/Logger ../../../core/maybe ../../../core/reactiveUtils ../../../core/accessorSupport/decorators/property ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/subclass ../../../chunks/vec3 ../../../chunks/vec3f64 ../../../geometry/projection ../../../geometry/support/contains ../../../geometry/support/zscale ../../../layers/LayerConstants ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/hydratedFeatures ../../../layers/graphics/controllers/I3SOnDemandController ../../../layers/support/FeatureFilter ../../../rest/support/Query ./I3SPointsWorkerHandle ./LayerView3D ./graphics/Graphics3DFeatureProcessor ./graphics/QueryEngine ./i3s/attributeEditing ./i3s/I3SGraphicsMap ./i3s/I3SOverrides ./i3s/I3SUtil ./support/DefinitionExpressionSceneLayerView ./support/fieldProperties ./support/PopupSceneLayerView ./support/SceneLayerViewRequiredFields ../support/debugFlags ../support/orientedBoundingBox ../support/updatingProperties ../webgl-engine/lib/Attribute ../webgl-engine/lib/DoubleArray ../webgl-engine/lib/UpdatePolicy ../../layers/SceneLayerView ../../support/Scheduler".split(" "),
function(R,w,m,I,S,A,h,C,p,E,T,U,V,F,W,X,Y,J,Z,aa,ba,K,L,l,ca,da,M,ea,N,z,fa,ha,ia,ja,G,ka,la,ma,O,na,oa,pa){function H(u){return"geometryBuffer"in u&&null!==u.geometryBuffer}function P(u){const v=u.attributeInfo,f=u.node.index;if(!(h.isNone(v)||h.isNone(v.loadedAttributes)||h.isNone(v.attributeData)))for(let a=0;a<u.graphics.length;a++){const b=u.graphics[a];if(b.nodeIndex===f){b.attributes||(b.attributes={});for(const {name:c}of v.loadedAttributes)v.attributeData[c]&&(b.attributes[c]=z.getCachedAttributeValue(v.attributeData[c],
a))}}}E=ha.defineFieldProperties();l=function(u){function v(){var a=u.apply(this,arguments)||this;a.type="scene-layer-graphics-3d";a._queryEngine=null;a._memCache=null;a._interactiveEditingSessions=new Map;a.loadedGraphics=new ea.I3SGraphicsMap((b,c,e)=>{{const d=c.attributeInfo;if(h.isNone(d)||h.isNone(d.loadedAttributes)||h.isNone(d.attributeData))b=!1;else{c=!1;for(const {name:g}of d.loadedAttributes)if(d.attributeData[g]){const k=z.getCachedAttributeValue(d.attributeData[g],e);k!==b.attributes[g]&&
(b.attributes[g]=k,c=!0)}b=c}}return b},b=>a.processor.graphicsCore.recreateGraphics(b));a.holeFilling="always";a.progressiveLoadFactor=1;a.supportsHeightUnitConversion=!0;a._coordinatesOutsideExtentErrors=0;a._maxCoordinatesOutsideExtentErrors=20;return a}w._inheritsLoose(v,u);var f=v.prototype;f.tryRecycleWith=function(a,b){return a.url===this.layer.url&&this._i3sOverrides.isEmpty?a.load(b).then(()=>{z.checkRecyclable(this.layer,a,this._i3sOverrides);this.layer=a;this._i3sOverrides.destroy();this._i3sOverrides=
new N.I3SOverrides({view:this.view,layer:a,memoryController:this.view.resourceController?.memoryController});h.destroyMaybe(this._queryEngine);this._setupQueryEngine();this.processor.resetObjectStates()}):null};f.initialize=function(){this.addResolvingPromise(this.layer.indexInfo);this._i3sOverrides=new N.I3SOverrides({view:this.view,layer:this.layer,memoryController:this.view.resourceController?.memoryController});z.checkSpatialReferences(this.layer,this.view.spatialReference,this.view.viewingMode);
this._fieldsHelper=new ja.SceneLayerViewRequiredFields({layerView:this});this.updatingHandles.add(()=>this.layer.rangeInfos,a=>this._rangeInfosChanged(a),C.initial);this.updatingHandles.add(()=>this.layer.renderer,(a,b)=>this._rendererChange(a,b));this.updatingHandles.add(()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted],()=>this._filterChange());this.handles.add(C.watch(()=>G.I3S_TREE_SHOW_TILES,a=>{if(a&&!this._treeDebugger){const b=this._controller.crsIndex;(new Promise((c,e)=>
R(["./support/I3STreeDebugger"],c,e))).then(({I3STreeDebugger:c})=>{!this._treeDebugger&&G.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new c({lv:this,view:this.view,nodeSR:b}))})}else a||!this._treeDebugger||G.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)},C.initial));this._set("processor",new ca({owner:this,preferredUpdatePolicy:na.UpdatePolicy.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,
elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:a=>this._updateClippingExtent(a)}));this.processor.elevationAlignment?.events.on("invalidate-elevation",a=>this._controller.updateElevationChanged(a.extent,a.spatialReference));this.supportsHeightUnitConversion&&(this._verticalScale=X.getGeometryZScaler("point",this.layer.spatialReference,this.view.spatialReference));this.addResolvingPromise(this.processor.initializePromise);this._memCache=
this.view.resourceController.memoryController.newCache(this.uid);this._controller=new aa({layerView:this,scaleVisibilityEnabled:!1});z.containsDraco(this.layer.geometryDefinitions)&&(this._worker=new L.I3SPointsWorkerHandle(a=>this.view.resourceController.immediate.schedule(a)));this.handles.add(this.layer.on("apply-edits",a=>this.updatingHandles.addPromise(a.result)));this.handles.add(this.layer.on("edits",a=>this._handleEdits(a)));this.when(()=>{this._setupQueryEngine();this.updatingHandles.add(()=>
this.maximumNumberOfFeatures,a=>this._controller.featureTarget=a,C.initial);this.updatingHandles.add(()=>this.suspended,a=>{a&&this._removeAllNodeData()})})};f.destroy=function(){this._treeDebugger=h.destroyMaybe(this._treeDebugger);this._i3sOverrides=h.destroyMaybe(this._i3sOverrides);this._set("processor",h.destroyMaybe(this.processor));this._controller=h.destroyMaybe(this._controller);this._queryEngine=h.destroyMaybe(this._queryEngine);this._worker=h.destroyMaybe(this._worker);this._memCache=h.destroyMaybe(this._memCache);
this.loadedGraphics.clear();this._fieldsHelper=h.destroyMaybe(this._fieldsHelper)};f.whenGraphicAttributes=function(){var a=w._asyncToGenerator(function*(b,c){return z.whenGraphicAttributes(this.layer,b,this._getObjectIdField(),c,()=>[...this.loadedGraphics.nodes()])});return function(b,c){return a.apply(this,arguments)}}();f.getHit=function(a){if(!this.loadedGraphics)return null;const b=Z.hydrateGraphic(this.loadedGraphics.find(e=>e.uid===a),this.layer),c=this._getObjectIdField();if(!b||!b.attributes||
!b.attributes[c])return null;b.layer=this.layer;b.sourceLayer=this.layer;return{type:"graphic",graphic:b,layer:b.layer}};f.whenGraphicBounds=function(a,b){return this.processor.whenGraphicBounds(a,b)};f.computeAttachmentOrigin=function(a,b){return this.processor.computeAttachmentOrigin(a,b)};f.canResume=function(){return u.prototype.canResume.call(this)&&(!this._controller||this._controller.rootNodeVisible)};f.isUpdating=function(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||
this.layerFilterUpdating)};f.highlight=function(a){return this.processor.highlight(a,this.layer.objectIdField)};f.createInteractiveEditSession=function(a){return M.createInteractiveEditSession(this._attributeEditingContext,a)};f._decompressBinaryPointData=function(){var a=w._asyncToGenerator(function*(b,c){b={geometryBuffer:b.geometryBuffer};h.isNone(this._worker)&&(this._worker=new L.I3SPointsWorkerHandle(e=>this.view.resourceController.immediate.schedule(e)));c=yield this._worker.invoke(b,c);if(h.isNone(c))throw Error("Failed to decompress Draco point data");
return{positionData:c.positions,featureIds:c.featureIds}});return function(b,c){return a.apply(this,arguments)}}();f.addNode=function(){var a=w._asyncToGenerator(function*(b,c,e){if(!(H(c)||"pointData"in c))throw Error();if(this.loadedGraphics.hasNode(b.index))A.getLogger(this.declaredClass).error("I3S node "+b.id+" already added");else{if(h.isSome(this.layer.fullExtent)){var d=this.layer.fullExtent.clone();d.xmin-=.5;d.ymin-=.5;d.xmax+=.5;d.ymax+=.5;null!=d.zmin&&null!=d.zmax&&(d.zmin-=.5,d.zmax+=
.5);null!=d.mmin&&null!=d.mmax&&(d.mmin-=.5,d.mmax+=.5)}else d=null;var g=d;d=[];var {featureIds:k,pointPositions:q}=H(c)?yield this._extractBinaryPointPositions(b,c,e):this._extractLegacyPointPositions(c);this._validatePositions(b,k,q,g,d);var n=this._controller.crsVertex;F.projectBuffer(q,n,0,q,this.view.spatialReference,0,k.length);g=H(c)?b.level:0;g={graphics:this._createGraphics(k,q,b.index,g),featureIds:k,attributeInfo:c.attributeDataInfo,node:b};yield this._i3sOverrides.apply(g.featureIds,
c.attributeDataInfo,e);b.numFeatures=g.graphics.length;this._updateNodeMemory(b);P(g);0<d.length&&(this._computeObb(b,d,n),this._controller.updateVisibility(b.index));if(this._controller.isGeometryVisible(b)){if(h.isSome(this._verticalScale))for(const r of g.graphics)this._verticalScale(r.geometry);c=this.view._stage.renderView.objectAndLayerIdRenderHelper;if(h.isSome(c))for(e=0;e<g.featureIds.length;e++)c.setUidToObjectAndLayerId(g.featureIds[e],g.graphics[e].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled,
g.node.resources.attributes,e);this.loadedGraphics.addNode(b.index,g);this._controller.updateLoadStatus(b.index,!0);this._filterNode(g);this._treeDebugger&&this._treeDebugger.update()}else this._cacheNodeData(g)}});return function(b,c,e){return a.apply(this,arguments)}}();f._computeObb=function(a,b,c){const e=this._controller.crsIndex,d=e.isGeographic?this.view.renderSpatialReference:e;F.projectBuffer(b,c,0,b,d,0,b.length/3);a.serviceObb=ka.compute(new ma.Attribute(b,3));e.isGeographic&&F.projectVectorToVector(a.serviceObb.center,
d,a.serviceObb.center,e)};f.isNodeLoaded=function(a){return this.loadedGraphics.hasNode(a)};f.isNodeReloading=function(){return!1};f.updateNodeState=function(){};f._extractBinaryPointPositions=function(){var a=w._asyncToGenerator(function*(b,c,e){c=yield this._decompressBinaryPointData(c,e);e=c.positionData;const d=e.length/3,g=O.newDoubleArray(3*d);b=h.isSome(b.serviceObb)?b.serviceObb.center:[0,0,0];const k=Math.abs(b[2])*2**-20;for(let q=0;q<d;q++){const n=3*q;g[n+0]=e[n+0]+b[0];g[n+1]=e[n+1]+
b[1];g[n+2]=e[n+2]+b[2];Math.abs(g[n+2])<k&&(g[n+2]=0)}return{featureIds:c.featureIds?Array.from(c.featureIds):[],pointPositions:g}});return function(b,c,e){return a.apply(this,arguments)}}();f._extractLegacyPointPositions=function(a){const b=a.pointData.length,c=O.newDoubleArray(3*b),e=[];for(let k=0;k<b;k++){var d=a.pointData[k];const q=d.featureDataPosition,n=q.length;var g=d.geometries?.[0]??qa[n];d=d.featureIds[0];if("Embedded"!==g.type||"points"!==g.params.type||2>n||3<n)continue;g=g.params.vertexAttributes?.position??
[0,0,0];const r=3*e.length;c[r+0]=q[0]+g[0];c[r+1]=q[1]+g[1];c[r+2]=3===n?q[2]+g[2]:NaN;e.push(d)}return{featureIds:e,pointPositions:c}};f._validatePositions=function(a,b,c,e,d){if(!h.isNone(e)||!a.serviceObb){b=b.length;for(let g=0;g<b;g++){const k=3*g;U.set(B,c[k],c[k+1],c[k+2]);h.isSome(e)&&!W.extentContainsCoords3D(e,B)&&(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&A.getLogger(this.declaredClass).error("Service Error: Coordinates outside of layer extent"),this._coordinatesOutsideExtentErrors+
1===this._maxCoordinatesOutsideExtentErrors&&A.getLogger(this.declaredClass).error("Maximum number of errors reached. Further errors are ignored."),this._coordinatesOutsideExtentErrors++);a.serviceObb||d.push(B[0],B[1],B[2])}}};f._createGraphics=function(a,b,c,e){const d=a.length,g=this._getObjectIdField(),k=this.processor.graphicsCore,q=[],n=this.view.spatialReference;for(let D=0;D<d;D++){var r=a[D];const Q={};null!=r&&(Q[g]=r);r=null==r?I.generateUID():r;var y=3*D,t=isNaN(b[y+2])?void 0:b[y+2];
y=J.makeDehydratedPoint(b[y],b[y+1],t,n);t=this.loadedGraphics.get(r);if(h.isSome(t)){if(null==t.level||t.level<e)x.property="geometry",x.graphic=t,x.oldValue=h.unwrap(t.geometry),x.newValue=y,t.geometry=y,t.level=e,k.graphicUpdateHandler(x);q.push(t)}else t=I.generateUID(),q.push({objectId:r,uid:t,geometry:y,attributes:Q,visible:!0,nodeIndex:c,level:e})}return q};f._updateNodeMemory=function(a){a.memory=4096+(h.isSome(a.numFeatures)?a.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:
0)};f._cacheNodeData=function(a){const b=a.graphics.reduce((c,e)=>J.estimateSize(e)+c,8*a.featureIds.length+1536);this._memCache.put(this._getMemCacheKey(a.node),a,b)};f._getMemCacheKey=function(a){return`${a.index}`};f._removeAllNodeData=function(){this.loadedGraphics.forEachNode((a,b)=>{a&&(this._updateNodeMemory(a.node),this._cacheNodeData(a));this._controller.updateLoadStatus(b,!1)});this._treeDebugger&&this._treeDebugger.update();this.loadedGraphics.clear()};f.removeNode=function(a){if(a=this._removeNodeStageData(a))this._updateNodeMemory(a.node),
this._cacheNodeData(a)};f._removeNodeStageData=function(a){const b=this.loadedGraphics.getNode(a);if(h.isNone(b))return null;this._controller.updateLoadStatus(a,!1);this.loadedGraphics.removeNode(a);this._treeDebugger&&this._treeDebugger.update();return b};f.loadCachedNodeData=function(){var a=w._asyncToGenerator(function*(b){return this._memCache?.pop(this._getMemCacheKey(b))});return function(b){return a.apply(this,arguments)}}();f.addCachedNodeData=function(){var a=w._asyncToGenerator(function*(b,
c,e,d){this.loadedGraphics.hasNode(b.index)?A.getLogger(this.declaredClass).error("I3S node "+b.id+" already added"):(yield this._i3sOverrides.apply(c.featureIds,e,d),this.loadedGraphics.addNode(b.index,c),this._controller.updateLoadStatus(b.index,!0),this._updateNodeMemory(b),c.attributeInfo=e,this._attributeValuesChanged(c),this._filterNode(c),this._treeDebugger&&this._treeDebugger.update())});return function(b,c,e,d){return a.apply(this,arguments)}}();f.getLoadedNodeIds=function(){const a=[];this.loadedGraphics.forEachNode(b=>
a.push(b.node.id));return a.sort()};f.getVisibleNodes=function(){const a=[];this.loadedGraphics.forEachNode(b=>a.push(b.node));return a};f.getLoadedNodeIndices=function(a){this.loadedGraphics.forEachNode((b,c)=>a.push(c))};f.getLoadedAttributes=function(a){a=this.loadedGraphics.getNode(a);if(h.isSome(a)&&h.isSome(a.attributeInfo))return a.attributeInfo.loadedAttributes};f.getAttributeData=function(a){a=this.loadedGraphics.getNode(a);if(h.isSome(a)&&h.isSome(a.attributeInfo))return a.attributeInfo.attributeData};
f._setAttributeData=function(a,b){a=this.loadedGraphics.getNode(a);h.isNone(a)||h.isNone(a.attributeInfo)||(a.attributeInfo.attributeData=b,this._attributeValuesChanged(a))};f.updateAttributes=function(){var a=w._asyncToGenerator(function*(b,c,e){b=this.loadedGraphics.getNode(b);h.isNone(b)||(yield this._i3sOverrides.apply(b.featureIds,c,e),b.attributeInfo=c,this._attributeValuesChanged(b))});return function(b,c,e){return a.apply(this,arguments)}}();f._attributeValuesChanged=function(a){P(a);this._filterNode(a);
this.processor.graphicsCore.labelsEnabled&&(a=a.graphics.map(b=>b.uid),this.processor.graphicsCore.updateLabelingInfo(a))};f._updateClippingExtent=function(a){this._controller&&this._controller.updateClippingArea(a);return!1};f._getObjectIdField=function(){return this.layer.objectIdField||Y.fallbackObjectIDAttribute};f._rendererChange=function(){var a=w._asyncToGenerator(function*(b,c){const {layer:{fieldsIndex:e}}=this,d=new Set;let g;b?(yield b.collectRequiredFields(d,e),g=Array.from(d).sort()):
g=[];d.clear();let k;c?(yield c.collectRequiredFields(d,e),k=Array.from(d).sort()):k=[];g.length===k.length&&g.every((q,n)=>g[n]===k[n])||this._reloadAllNodes()});return function(b,c){return a.apply(this,arguments)}}();f._rangeInfosChanged=function(a){null!=a&&0<a.length&&A.getLogger(this.declaredClass).warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")};f._filterChange=function(){this.loadedGraphics.forEachNode(a=>this._filterNode(a))};
f._reloadAllNodes=function(){this._removeAllNodeData();this._controller&&this._controller.restartNodeLoading()};f._filterNode=function(a){const b=this.parsedDefinitionExpression,c=this._excludeObjectIdsSorted,e=this._getObjectIdField();for(const d of a.graphics){a=d.visible;const g=!b||this._evaluateClause(b,d),k=h.isNone(c)||0>S.binaryIndexOf(c,d.attributes[e]);d.visible=g&&k;a!==d.visible&&(x.graphic=d,x.property="visible",x.oldValue=a,x.newValue=d.visible,this.processor.graphicsCore.graphicUpdateHandler(x))}};
f.createQuery=function(){const a={outFields:["*"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return h.isSome(this.filter)?this.filter.createQuery(a):new K(a)};f.queryFeatures=function(a,b){return this._queryEngine.executeQuery(this._ensureQuery(a),b?.signal)};f.queryObjectIds=function(a,b){return this._queryEngine.executeQueryForIds(this._ensureQuery(a),b?.signal)};f.queryFeatureCount=function(a,b){return this._queryEngine.executeQueryForCount(this._ensureQuery(a),b?.signal)};
f.queryExtent=function(a,b){return this._queryEngine.executeQueryForExtent(this._ensureQuery(a),b?.signal)};f._ensureQuery=function(a){return this._addDefinitionExpressionToQuery(h.isNone(a)?this.createQuery():K.from(a))};f._setupQueryEngine=function(){const a=()=>this.processor.featureStore;this._queryEngine=new da.QueryEngine({context:{spatialReference:this.view.spatialReference,layer:this.layer,scheduler:this.view.resourceController.scheduler,get featureStore(){return a()},hasZ:this.hasZ,hasM:this.hasM},
priority:pa.TaskPriority.FEATURE_QUERY_ENGINE})};f.getUsedMemory=function(){return this.processor?.graphicsCore?.usedMemory??0};f.getUnloadedMemory=function(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))};f.ignoresMemoryFactor=function(){return this._controller&&this._controller.fixedFeatureTarget};f._handleEdits=function(a){M.processAttributeEdits(this._attributeEditingContext,a)};w._createClass(v,[{key:"i3slayer",get:function(){return this.layer}},
{key:"updatingProgressValue",get:function(){return this._controller?.updatingProgress??1}},{key:"requiredFields",get:function(){return this._fieldsHelper?.requiredFields??[]}},{key:"maximumNumberOfFeatures",get:function(){return this.processor?.graphicsCore?.displayFeatureLimit?.maximumNumberOfFeatures??0},set:function(a){null!=a?(this._override("maximumNumberOfFeatures",a),this._controller.fixedFeatureTarget=!0):(this._clearOverride("maximumNumberOfFeatures"),this._controller.fixedFeatureTarget=
!1)}},{key:"maximumNumberOfFeaturesExceeded",get:function(){return this.suspended?!1:!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached}},{key:"_excludeObjectIdsSorted",get:function(){const a=this.layer.excludeObjectIds;return a.length?a.toArray().sort((b,c)=>b-c):null}},{key:"lodFactor",get:function(){return"Labels"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}},{key:"hasM",get:function(){return!1}},{key:"hasZ",get:function(){return!0}},
{key:"updatePolicy",get:function(){return this.processor.graphicsCore.effectiveUpdatePolicy}},{key:"_attributeEditingContext",get:function(){const a=this._getObjectIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:a,forEachNode:b=>this.loadedGraphics.forEachNode(c=>b(c.node,c.featureIds)),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:b=>this.getAttributeData(b),setAttributeData:(b,
c,e)=>{this._setAttributeData(b,c);b=this.loadedGraphics.getNode(b);h.isSome(e)?(e=this.loadedGraphics.get(e.attributes[a]),h.isSome(e)&&this.processor.graphicsCore.recreateGraphics([e])):h.isSome(b)&&this.processor.graphicsCore.recreateGraphics(b.graphics)},clearMemCache:()=>{}}}},{key:"performanceInfo",get:function(){const a={displayedNumberOfFeatures:this.loadedGraphics.length,maximumNumberOfFeatures:this.maximumNumberOfFeatures,totalNumberOfFeatures:-1,nodes:this.loadedGraphics.nodeCount,core:this.processor.graphicsCore.performanceInfo};
this._controller&&this._controller.updateStats(a);return a}},{key:"test",get:function(){return{controller:this._controller,numNodes:this.loadedGraphics.nodeCount,loadedGraphics:this.loadedGraphics}}}]);return v}(fa.DefinitionExpressionSceneLayerView(ia.PopupSceneLayerView(l.LayerView3D(oa))));m.__decorate([p.property()],l.prototype,"processor",void 0);m.__decorate([p.property({type:ba})],l.prototype,"filter",void 0);m.__decorate([p.property()],l.prototype,"loadedGraphics",void 0);m.__decorate([p.property()],
l.prototype,"i3slayer",null);m.__decorate([p.property()],l.prototype,"_controller",void 0);m.__decorate([p.property()],l.prototype,"updating",void 0);m.__decorate([p.property()],l.prototype,"suspended",void 0);m.__decorate([p.property()],l.prototype,"holeFilling",void 0);m.__decorate([p.property(la.updatingProgress)],l.prototype,"updatingProgress",void 0);m.__decorate([p.property()],l.prototype,"updatingProgressValue",null);m.__decorate([p.property(E.requiredFields)],l.prototype,"requiredFields",
null);m.__decorate([p.property(E.availableFields)],l.prototype,"availableFields",void 0);m.__decorate([p.property()],l.prototype,"_fieldsHelper",void 0);m.__decorate([p.property({type:Number})],l.prototype,"maximumNumberOfFeatures",null);m.__decorate([p.property({readOnly:!0})],l.prototype,"maximumNumberOfFeaturesExceeded",null);m.__decorate([p.property()],l.prototype,"_excludeObjectIdsSorted",null);m.__decorate([p.property({readOnly:!0})],l.prototype,"lodFactor",null);m.__decorate([p.property({readOnly:!0})],
l.prototype,"hasM",null);m.__decorate([p.property({readOnly:!0})],l.prototype,"hasZ",null);m=l=m.__decorate([T.subclass("esri.views.3d.layers.SceneLayerGraphicsView3D")],l);const qa={2:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0]}}},3:{type:"Embedded",params:{type:"points",vertexAttributes:{position:[0,0,0]}}}},B=V.create(),x={graphic:null,property:null,oldValue:null,newValue:null};return m});