// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
require({cache:{"esri/rest/query/operations/pbfDehydratedFeatureSet":function(){define("exports ../../../core/compilerUtils ../../../core/maybe ../../../core/uid ../../../geometry/SpatialReference ../../../geometry/support/zscale ../../../layers/graphics/dehydratedFeatures ../../../layers/graphics/featureConversionUtils ../../../layers/support/Field".split(" "),function(e,A,E,z,w,J,I,N,M){function r(h,C){return C}function p(h,C,t,x){switch(t){case 0:return q(h,C+x,0);case 1:return"lowerLeft"===h.originPosition?
q(h,C+x,1):a(h,C+x,1)}}function H(h,C,t,x){switch(t){case 2:return q(h,C,2);default:return p(h,C,t,x)}}function S(h,C,t,x){switch(t){case 2:return q(h,C,3);default:return p(h,C,t,x)}}function f(h,C,t,x){switch(t){case 3:return q(h,C,3);default:return H(h,C,t,x)}}function q({translate:h,scale:C},t,x){return h[x]+t*C[x]}function a({translate:h,scale:C},t,x){return h[x]-t*C[x]}let c=function(){function h(t){this._options=t;this.geometryTypes=["point","multipoint","polyline","polygon"];this._previousCoordinate=
[0,0];this._transform=null;this._applyTransform=r;this._lengths=[];this._vertexDimension=this._toAddInCurrentPath=this._currentLengthIndex=0;this._coordinateBuffer=null;this._coordinateBufferPtr=0;this._attributesConstructor=function(){return function(){}}()}var C=h.prototype;C.createFeatureResult=function(){return new I.DehydratedFeatureSetClass};C.finishFeatureResult=function(t){this._options.applyTransform&&(t.transform=null);this._attributesConstructor=function(){return function(){}}();this._coordinateBuffer=
null;this._lengths.length=0;if(t.hasZ){var x=J.getGeometryZScaler(t.geometryType,this._options.sourceSpatialReference,t.spatialReference);if(!E.isNone(x))for(const F of t.features)x(F.geometry)}};C.createSpatialReference=function(){return new w};C.addField=function(t,x){t.fields.push(M.fromJSON(x));const F=t.fields.map(T=>T.name);this._attributesConstructor=function(){for(const T of F)this[T]=null}};C.addFeature=function(t,x){const F=this._options.maxStringAttributeLength?this._options.maxStringAttributeLength:
0;if(0<F)for(const T in x.attributes){const U=x.attributes[T];"string"===typeof U&&U.length>F&&(x.attributes[T]="")}t.features.push(x)};C.addQueryGeometry=function(t,x){const {queryGeometry:F,queryGeometryType:T}=x;x=N.unquantizeOptimizedGeometry(F.clone(),F,!1,!1,this._transform);x=N.convertToGeometry(x,T,!1,!1);let U=null;switch(T){case "esriGeometryPoint":U="point";break;case "esriGeometryPolygon":U="polygon";break;case "esriGeometryPolyline":U="polyline";break;case "esriGeometryMultipoint":U=
"multipoint"}x.type=U;t.queryGeometryType=T;t.queryGeometry=x};C.prepareFeatures=function(t){this._transform=t.transform??null;this._options.applyTransform&&t.transform&&(this._applyTransform=this._deriveApplyTransform(t));this._vertexDimension=2;t.hasZ&&this._vertexDimension++;t.hasM&&this._vertexDimension++;switch(t.geometryType){case "point":this.addCoordinate=(x,F,T)=>this.addCoordinatePoint(x,F,T);this.createGeometry=x=>this.createPointGeometry(x);break;case "polygon":this.addCoordinate=(x,F,
T)=>this._addCoordinatePolygon(x,F,T);this.createGeometry=x=>this._createPolygonGeometry(x);break;case "polyline":this.addCoordinate=(x,F,T)=>this._addCoordinatePolyline(x,F,T);this.createGeometry=x=>this._createPolylineGeometry(x);break;case "multipoint":this.addCoordinate=(x,F,T)=>this._addCoordinateMultipoint(x,F,T);this.createGeometry=x=>this._createMultipointGeometry(x);break;case "mesh":case "extent":break;default:A.neverReached(t.geometryType)}};C.createFeature=function(){this._currentLengthIndex=
this._lengths.length=0;this._previousCoordinate[0]=0;this._previousCoordinate[1]=0;return new I.DehydratedFeatureClass(z.generateUID(),null,new this._attributesConstructor)};C.allocateCoordinates=function(){const t=this._lengths.reduce((x,F)=>x+F,0);this._coordinateBuffer=new Float64Array(t*this._vertexDimension);this._coordinateBufferPtr=0};C.addLength=function(t,x){0===this._lengths.length&&(this._toAddInCurrentPath=x);this._lengths.push(x)};C.createPointGeometry=function(t){t={type:"point",x:0,
y:0,spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM};t.hasZ&&(t.z=0);t.hasM&&(t.m=0);return t};C.addCoordinatePoint=function(t,x,F){x=this._transform?this._applyTransform(this._transform,x,F,0):x;if(null!=x)switch(F){case 0:t.x=x;break;case 1:t.y=x;break;case 2:t.hasZ?t.z=x:t.m=x;break;case 3:t.m=x}};C._transformPathLikeValue=function(t,x){let F=0;1>=x&&(F=this._previousCoordinate[x],this._previousCoordinate[x]+=t);return this._transform?this._applyTransform(this._transform,t,x,F):
t};C._addCoordinatePolyline=function(t,x,F){this._dehydratedAddPointsCoordinate(t.paths,x,F)};C._addCoordinatePolygon=function(t,x,F){this._dehydratedAddPointsCoordinate(t.rings,x,F)};C._addCoordinateMultipoint=function(t,x,F){0===F&&t.points.push([]);x=this._transformPathLikeValue(x,F);t.points[t.points.length-1].push(x)};C._createPolygonGeometry=function(t){return{type:"polygon",rings:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}};C._createPolylineGeometry=function(t){return{type:"polyline",
paths:[[]],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}};C._createMultipointGeometry=function(t){return{type:"multipoint",points:[],spatialReference:t.spatialReference,hasZ:!!t.hasZ,hasM:!!t.hasM}};C._dehydratedAddPointsCoordinate=function(t,x,F){0===F&&0===this._toAddInCurrentPath--&&(t.push([]),this._toAddInCurrentPath=this._lengths[++this._currentLengthIndex]-1,this._previousCoordinate[0]=0,this._previousCoordinate[1]=0);x=this._transformPathLikeValue(x,F);t=t[t.length-1];const T=
this._coordinateBuffer;T&&(0===F&&t.push(new Float64Array(T.buffer,this._coordinateBufferPtr*Float64Array.BYTES_PER_ELEMENT,this._vertexDimension)),T[this._coordinateBufferPtr++]=x)};C._deriveApplyTransform=function(t){const {hasZ:x,hasM:F}=t;return x&&F?f:x?H:F?S:p};return h}();e.DehydratedFeatureSetParserContext=c;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(e,A){e.neverReached=function(E){};e.neverReachedSilent=
function(E){};e.typeCast=function(E){return()=>E};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(e,A,E,z){e.getGeometryZScaler=function(w,J,I){if(A.isNone(J)||A.isNone(I)||I.vcsWkid||z.equals(J,I))return null;J=E.getMetersPerVerticalUnitForSR(J);I=E.getMetersPerVerticalUnitForSR(I);const N=J/I;if(1===N)return null;switch(w){case "point":case "esriGeometryPoint":return M=>
{M&&null!=M.z&&(M.z*=N)};case "polyline":case "esriGeometryPolyline":return M=>{if(M)for(const r of M.paths)for(const p of r)2<p.length&&(p[2]*=N)};case "polygon":case "esriGeometryPolygon":return M=>{if(M)for(const r of M.rings)for(const p of r)2<p.length&&(p[2]*=N)};case "multipoint":case "esriGeometryMultipoint":return M=>{if(M)for(const r of M.points)2<r.length&&(r[2]*=N)};case "extent":case "esriGeometryExtent":return M=>{M&&null!=M.zmin&&null!=M.zmax&&(M.zmin*=N,M.zmax*=N)};default:return null}};
Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/dehydratedFeatures":function(){define("exports ../../core/byteSizeEstimations ../../core/has ../../core/maybe ../../core/typedArrayUtil ../../core/uid ../../geometry/SpatialReference ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/quantizationUtils ../../geometry/support/typeUtils ../support/Field ./dehydratedFeatureComparison".split(" "),function(e,A,E,z,w,J,I,N,
M,r,p,H,S){function f(a,c,h){if(z.isNone(a))return null;switch(c){case "point":return{x:a.x,y:a.y,z:a.z,m:a.m,hasZ:null!=a.z,hasM:null!=a.m,type:"point",spatialReference:h};case "polyline":return{paths:a.paths,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polyline",spatialReference:h};case "polygon":return{rings:a.rings,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"polygon",spatialReference:h};case "multipoint":return{points:a.points,hasZ:!!a.hasZ,hasM:!!a.hasM,type:"multipoint",spatialReference:h}}}function q(a){if(z.isNone(a))return 0;
let c=32;switch(a.type){case "point":c+=42;break;case "polyline":case "polygon":var h=0;const C=2+(a.hasZ?1:0)+(a.hasM?1:0);a="polyline"===a.type?a.paths:a.rings;for(const t of a)h+=t.length;c+=8*h*C+64;c+=128*h;c=c+34+32*(a.length+1);break;case "multipoint":h=a.points.length;c+=8*h*(2+(a.hasZ?1:0)+(a.hasM?1:0))+64;c+=128*h;c=c+34+32;break;case "extent":c+=98;a.hasM&&(c+=32);a.hasZ&&(c+=32);break;case "mesh":c+=w.estimateSize(a.vertexAttributes.position),c+=w.estimateSize(a.vertexAttributes.normal),
c+=w.estimateSize(a.vertexAttributes.uv),c+=w.estimateSize(a.vertexAttributes.tangent)}return c}e.equals=S.equals;e.DehydratedFeatureClass=function(a,c,h){this.uid=a;this.geometry=c;this.attributes=h;this.visible=!0;this.centroid=this.objectId=null};e.DehydratedFeatureSetClass=function(){this.exceededTransferLimit=!1;this.features=[];this.fields=[];this.hasZ=this.hasM=!1;this.transform=this.spatialReference=this.geohashFieldName=this.geometryProperties=this.globalIdFieldName=this.objectIdFieldName=
this.geometryType=null};e.computeAABB=function(a,c){N.empty(c);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":c[0]=c[3]=a.x;c[1]=c[4]=a.y;a.hasZ&&(c[2]=c[5]=a.z);break;case "polyline":for(var h=0;h<a.paths.length;h++)N.expandWithNestedArray(c,a.paths[h],!!a.hasZ);break;case "polygon":for(h=0;h<a.rings.length;h++)N.expandWithNestedArray(c,a.rings[h],!!a.hasZ);break;case "multipoint":N.expandWithNestedArray(c,a.points,!!a.hasZ);break;case "extent":c[0]=a.xmin,c[1]=a.ymin,c[3]=a.xmax,c[4]=
a.ymax,null!=a.zmin&&(c[2]=a.zmin),null!=a.zmax&&(c[5]=a.zmax)}};e.computeAABR=function(a,c){M.empty(c);"mesh"===a.type&&(a=a.extent);switch(a.type){case "point":c[0]=c[2]=a.x;c[1]=c[3]=a.y;break;case "polyline":for(var h=0;h<a.paths.length;h++)M.expandWithNestedArray(c,a.paths[h]);break;case "polygon":for(h=0;h<a.rings.length;h++)M.expandWithNestedArray(c,a.rings[h]);break;case "multipoint":M.expandWithNestedArray(c,a.points);break;case "extent":c[0]=a.xmin,c[1]=a.ymin,c[2]=a.xmax,c[3]=a.ymax}};
e.estimateGeometryObjectSize=q;e.estimateSize=function(a){let c;c=32+A.estimateAttributesObjectSize(a.attributes);return c=c+3+(8+q(a.geometry))};e.fromFeatureSetJSON=function(a){const c=p.featureGeometryTypeKebabDictionary.fromJSON(a.geometryType),h=I.fromJSON(a.spatialReference),C=a.transform,t=a.features.map(x=>{var F=a.objectIdFieldName;x={uid:J.generateUID(),objectId:F&&x.attributes?x.attributes[F]:null,attributes:x.attributes,geometry:f(x.geometry,c,h),visible:!0};F=x.geometry;if(z.isSome(F)&&
C)switch(F.type){case "point":x.geometry=r.unquantizePoint(C,F,F,F.hasZ,F.hasM);break;case "multipoint":x.geometry=r.unquantizeMultipoint(C,F,F,!!F.hasZ,!!F.hasM);break;case "polygon":x.geometry=r.unquantizePolygon(C,F,F,!!F.hasZ,!!F.hasM);break;case "polyline":x.geometry=r.unquantizePolyline(C,F,F,!!F.hasZ,!!F.hasM);break;case "extent":x.geometry=F;break;case "mesh":x.geometry=F}return x});return{geometryType:c,features:t,spatialReference:h,fields:a.fields?.map(x=>H.fromJSON(x))??[],objectIdFieldName:a.objectIdFieldName,
globalIdFieldName:a.globalIdFieldName,geohashFieldName:a.geohashFieldName,geometryProperties:a.geometryProperties,hasZ:a.hasZ,hasM:a.hasM,exceededTransferLimit:a.exceededTransferLimit,transform:null}};e.fromJSONGeometry=f;e.getObjectId=function(a,c){return null!=a.objectId?a.objectId:a.attributes&&c?a.attributes[c]:null};e.hasGeometry=function(a){return z.isSome(a.geometry)};e.hasVertices=function(a){if(z.isNone(a))return!1;switch(a.type){case "extent":case "point":return!0;case "polyline":for(const c of a.paths)if(0<
c.length)return!0;return!1;case "polygon":for(const c of a.rings)if(0<c.length)return!0;return!1;case "multipoint":return 0<a.points.length;case "mesh":return!a.loaded||0<a.vertexAttributes.position.length}};e.makeDehydratedPoint=function(a,c,h,C){return{x:a,y:c,z:h,hasZ:null!=h,hasM:!1,spatialReference:C,type:"point"}};e.numVertices=function(a){if(z.isNone(a))return 0;switch(a.type){case "point":return 1;case "polyline":var c=0;for(var h of a.paths)c+=h.length;return c;case "polygon":h=0;for(c of a.rings)h+=
c.length;return h;case "multipoint":return a.points.length;case "extent":return 2;case "mesh":return(a=a.vertexAttributes&&a.vertexAttributes.position)?a.length/3:0}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(e){function A(w){return 32+w.length}function E(w){if(!w)return 0;if(Array.isArray(w)){var J=w.length;if(0===J||"number"===typeof w[0])w=32+8*J;else{var I=32;for(let N=0;N<J;N++)I+=z(w[N]);w=I}return w}I=
32;for(J in w)w.hasOwnProperty(J)&&(I+=z(w[J]));return I}function z(w){switch(typeof w){case "object":return E(w);case "string":return A(w);case "number":return 16;case "boolean":return 4;default:return 8}}e.ByteSizeUnit=void 0;(function(w){w[w.KILOBYTES=1024]="KILOBYTES";w[w.MEGABYTES=1048576]="MEGABYTES";w[w.GIGABYTES=1073741824]="GIGABYTES"})(e.ByteSizeUnit||(e.ByteSizeUnit={}));e.estimateAttributesObjectSize=function(w){if(!w)return 0;let J=32;for(const I in w)if(w.hasOwnProperty(I)){const N=
w[I];switch(typeof N){case "string":J+=A(N);break;case "number":J+=16;break;case "boolean":J+=4}}return J};e.estimateFixedArraySize=function(w,J){return 32+w.length*J};e.estimateNestedObjectSize=E;e.estimateNumberByteSize=function(w){return 16};e.estimateStringByteSize=A;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(e,A,E,z){function w(a=f){return[a[0],a[1],
a[2],a[3],a[4],a[5]]}function J(a,c,h,C,t,x,F=w()){F[0]=a;F[1]=c;F[2]=h;F[3]=C;F[4]=t;F[5]=x;return F}function I(a){return a[0]>=a[3]?0:a[3]-a[0]}function N(a){return a[1]>=a[4]?0:a[4]-a[1]}function M(a){return a[2]>=a[5]?0:a[5]-a[2]}function r(a,c){return Math.max(c[0],a[0])<=Math.min(c[3],a[3])&&Math.max(c[1],a[1])<=Math.min(c[4],a[4])&&Math.max(c[2],a[2])<=Math.min(c[5],a[5])}function p(a,c){a[0]=c[0];a[1]=c[1];a[2]=c[2];a[3]=c[3];a[4]=c[4];a[5]=c[5];return a}function H(a){return 6===a.length}
const S=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],f=[0,0,0,0,0,0],q=w();e.NEGATIVE_INFINITY=S;e.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];e.ZERO=f;e.allFinite=function(a){for(let c=0;6>c;c++)if(!isFinite(a[c]))return!1;return!0};e.center=function(a,c=[0,0,0]){c[0]=a[0]+I(a)/2;c[1]=a[1]+N(a)/2;c[2]=a[2]+M(a)/2;return c};e.contains=function(a,c){return c[0]>=a[0]&&c[1]>=a[1]&&c[2]>=a[2]&&c[3]<=a[3]&&c[4]<=a[4]&&c[5]<=a[5]};e.containsPoint=function(a,
c){return c[0]>=a[0]&&c[1]>=a[1]&&c[2]>=a[2]&&c[0]<=a[3]&&c[1]<=a[4]&&c[2]<=a[5]};e.containsPointWithMargin=function(a,c,h){return c[0]>=a[0]-h&&c[1]>=a[1]-h&&c[2]>=a[2]-h&&c[0]<=a[3]+h&&c[1]<=a[4]+h&&c[2]<=a[5]+h};e.create=w;e.depth=N;e.diameter=function(a){const c=I(a),h=M(a);a=N(a);return Math.sqrt(c*c+h*h+a*a)};e.empty=function(a){return a?p(a,S):w(S)};e.equals=function(a,c,h){if(A.isNone(a)||A.isNone(c))return a===c;if(!H(a)||!H(c))return!1;if(h)for(let C=0;C<a.length;C++){if(!h(a[C],c[C]))return!1}else for(h=
0;h<a.length;h++)if(a[h]!==c[h])return!1;return!0};e.expandWithAABB=function(a,c){a[0]=Math.min(a[0],c[0]);a[1]=Math.min(a[1],c[1]);a[2]=Math.min(a[2],c[2]);a[3]=Math.max(a[3],c[3]);a[4]=Math.max(a[4],c[4]);a[5]=Math.max(a[5],c[5])};e.expandWithBuffer=function(a,c,h=0,C=c.length/3){let t=a[0],x=a[1],F=a[2],T=a[3],U=a[4],m=a[5];for(let D=0;D<C;D++)t=Math.min(t,c[h+3*D]),x=Math.min(x,c[h+3*D+1]),F=Math.min(F,c[h+3*D+2]),T=Math.max(T,c[h+3*D]),U=Math.max(U,c[h+3*D+1]),m=Math.max(m,c[h+3*D+2]);a[0]=t;
a[1]=x;a[2]=F;a[3]=T;a[4]=U;a[5]=m};e.expandWithNestedArray=function(a,c,h){const C=c.length;let t=a[0],x=a[1],F=a[2],T=a[3],U=a[4],m=a[5];if(h)for(h=0;h<C;h++){var D=c[h];t=Math.min(t,D[0]);x=Math.min(x,D[1]);F=Math.min(F,D[2]);T=Math.max(T,D[0]);U=Math.max(U,D[1]);m=Math.max(m,D[2])}else for(h=0;h<C;h++)D=c[h],t=Math.min(t,D[0]),x=Math.min(x,D[1]),T=Math.max(T,D[0]),U=Math.max(U,D[1]);a[0]=t;a[1]=x;a[2]=F;a[3]=T;a[4]=U;a[5]=m};e.expandWithOffset=function(a,c,h,C){a[0]=Math.min(a[0],a[0]+c);a[3]=
Math.max(a[3],a[3]+c);a[1]=Math.min(a[1],a[1]+h);a[4]=Math.max(a[4],a[4]+h);a[2]=Math.min(a[2],a[2]+C);a[5]=Math.max(a[5],a[5]+C)};e.expandWithRect=function(a,c){a[0]=Math.min(a[0],c[0]);a[1]=Math.min(a[1],c[1]);a[3]=Math.max(a[3],c[2]);a[4]=Math.max(a[4],c[3])};e.expandWithVec3=function(a,c){a[0]=Math.min(a[0],c[0]);a[1]=Math.min(a[1],c[1]);a[2]=Math.min(a[2],c[2]);a[3]=Math.max(a[3],c[0]);a[4]=Math.max(a[4],c[1]);a[5]=Math.max(a[5],c[2])};e.fromExtent=function(a,c=w()){c[0]=a.xmin;c[1]=a.ymin;c[2]=
a.hasZ?a.zmin:-Infinity;c[3]=a.xmax;c[4]=a.ymax;c[5]=a.hasZ?a.zmax:Infinity;return c};e.fromMinMax=function(a,c,h=w()){h[0]=a[0];h[1]=a[1];h[2]=a[2];h[3]=c[0];h[4]=c[1];h[5]=c[2];return h};e.fromRect=function(a,c){a[0]=c[0];a[1]=c[1];a[2]=Number.NEGATIVE_INFINITY;a[3]=c[2];a[4]=c[3];a[5]=Number.POSITIVE_INFINITY;return a};e.fromRectValues=function(a,c,h,C,t){a[0]=c;a[1]=h;a[2]=Number.NEGATIVE_INFINITY;a[3]=C;a[4]=t;a[5]=Number.POSITIVE_INFINITY;return a};e.fromValues=J;e.getMax=function(a,c){c[0]=
a[3];c[1]=a[4];c[2]=a[5];return c};e.getMin=function(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];return c};e.height=M;e.intersects=r;e.intersectsClippingArea=function(a,c){return A.isNone(c)?!0:r(a,c)};e.is=H;e.isPoint=function(a){return 0===I(a)&&0===N(a)&&0===M(a)};e.maximumDimension=function(a){return Math.max(I(a),M(a),N(a))};e.offset=function(a,c,h,C,t=a){t[0]=a[0]+c;t[1]=a[1]+h;t[2]=a[2]+C;t[3]=a[3]+c;t[4]=a[4]+h;t[5]=a[5]+C;return t};e.scale=function(a,c,h=a){const C=a[0]+I(a)/2,t=a[1]+N(a)/2,x=a[2]+
M(a)/2;h[0]=C+(a[0]-C)*c;h[1]=t+(a[1]-t)*c;h[2]=x+(a[2]-x)*c;h[3]=C+(a[3]-C)*c;h[4]=t+(a[4]-t)*c;h[5]=x+(a[5]-x)*c;return h};e.set=p;e.setMax=function(a,c,h=a){h[3]=c[0];h[4]=c[1];h[5]=c[2];h!==a&&(h[0]=a[0],h[1]=a[1],h[2]=a[2]);return a};e.setMin=function(a,c,h=a){h[0]=c[0];h[1]=c[1];h[2]=c[2];h!==a&&(h[3]=a[3],h[4]=a[4],h[5]=a[5]);return h};e.size=function(a,c=[0,0,0]){c[0]=I(a);c[1]=N(a);c[2]=M(a);return c};e.toExtent=function(a,c){return isFinite(a[2])||isFinite(a[5])?new E({xmin:a[0],xmax:a[3],
ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:c}):new E({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:c})};e.toRect=function(a,c){c||(c=z.create());c[0]=a[0];c[1]=a[1];c[2]=a[3];c[3]=a[4];return c};e.width=I;e.wrap=function(a,c,h,C,t,x){return J(a,c,h,C,t,x,q)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(e,A,
E,z,w){function J(f=S){return[f[0],f[1],f[2],f[3]]}function I(f,q){f!==q&&(f[0]=q[0],f[1]=q[1],f[2]=q[2],f[3]=q[3]);return f}function N(f){return z.isNone(f)||f[0]>=f[2]?0:f[2]-f[0]}function M(f){return f[1]>=f[3]?0:f[3]-f[1]}function r(f,q,a){return q>=f[0]&&a>=f[1]&&q<=f[2]&&a<=f[3]}function p(f){return null!=f&&4===f.length}const H=[Infinity,Infinity,-Infinity,-Infinity],S=[0,0,0,0];e.NEGATIVE_INFINITY=H;e.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];e.UNIT=[0,0,1,1];e.ZERO=S;e.allFinite=
function(f){for(let q=0;4>q;q++)if(!isFinite(f[q]))return!1;return!0};e.area=function(f){return N(f)*M(f)};e.center=function(f,q=[0,0]){q[0]=(f[0]+f[2])/2;q[1]=(f[1]+f[3])/2;return q};e.clone=function(f){return[f[0],f[1],f[2],f[3]]};e.contains=function(f,q){return q[0]>=f[0]&&q[2]<=f[2]&&q[1]>=f[1]&&q[3]<=f[3]};e.containsPoint=function(f,q){return r(f,q[0],q[1])};e.containsPointObject=function(f,q){return r(f,q.x,q.y)};e.containsPointWithMargin=function(f,q,a){return q[0]>=f[0]-a&&q[1]>=f[1]-a&&q[0]<=
f[2]+a&&q[1]<=f[3]+a};e.containsXY=r;e.containsXYWithMargin=function(f,q,a,c){return q>=f[0]-c&&a>=f[1]-c&&q<=f[2]+c&&a<=f[3]+c};e.copy=I;e.create=J;e.distance=function(f,q){const a=(f[1]+f[3])/2,c=Math.max(Math.abs(q[0]-(f[0]+f[2])/2)-N(f)/2,0);f=Math.max(Math.abs(q[1]-a)-M(f)/2,0);return Math.sqrt(c*c+f*f)};e.empty=function(f){return f?I(f,H):J(H)};e.equals=function(f,q){return p(f)&&p(q)?f[0]===q[0]&&f[1]===q[1]&&f[2]===q[2]&&f[3]===q[3]:f===q};e.expand=function(f,q,a){if(z.isNone(q))I(a,f);else if("length"in
q)if(p(q))a[0]=Math.min(f[0],q[0]),a[1]=Math.min(f[1],q[1]),a[2]=Math.max(f[2],q[2]),a[3]=Math.max(f[3],q[3]);else{if(2===q.length||3===q.length)a[0]=Math.min(f[0],q[0]),a[1]=Math.min(f[1],q[1]),a[2]=Math.max(f[2],q[0]),a[3]=Math.max(f[3],q[1])}else switch(q.type){case "extent":a[0]=Math.min(f[0],q.xmin);a[1]=Math.min(f[1],q.ymin);a[2]=Math.max(f[2],q.xmax);a[3]=Math.max(f[3],q.ymax);break;case "point":a[0]=Math.min(f[0],q.x),a[1]=Math.min(f[1],q.y),a[2]=Math.max(f[2],q.x),a[3]=Math.max(f[3],q.y)}};
e.expandPointInPlace=function(f,q){q[0]<f[0]&&(f[0]=q[0]);q[0]>f[2]&&(f[2]=q[0]);q[1]<f[1]&&(f[1]=q[1]);q[1]>f[3]&&(f[3]=q[1])};e.expandWithNestedArray=function(f,q,a=f){const c=q.length;let h=f[0],C=f[1],t=f[2];f=f[3];for(let x=0;x<c;x++){const F=q[x];h=Math.min(h,F[0]);C=Math.min(C,F[1]);t=Math.max(t,F[0]);f=Math.max(f,F[1])}a[0]=h;a[1]=C;a[2]=t;a[3]=f;return a};e.fromExtent=function(f,q=J()){q[0]=f.xmin;q[1]=f.ymin;q[2]=f.xmax;q[3]=f.ymax;return q};e.fromValues=function(f,q,a,c,h=J()){h[0]=f;h[1]=
q;h[2]=a;h[3]=c;return h};e.height=M;e.intersection=function(f,q,a){if(z.isNone(q))return I(a,f);const c=q[0],h=q[1],C=q[2];q=q[3];a[0]=E.clamp(f[0],c,C);a[1]=E.clamp(f[1],h,q);a[2]=E.clamp(f[2],c,C);a[3]=E.clamp(f[3],h,q);return a};e.intersects=function(f,q){return Math.max(q[0],f[0])<=Math.min(q[2],f[2])&&Math.max(q[1],f[1])<=Math.min(q[3],f[3])};e.intersectsSegment=function(f,q,a){const c=f[0],h=f[1],C=f[2];f=f[3];const {x:t,y:x}=q,{x:F,y:T}=a;var U=(D,g)=>0>(T-x)*D+(t-F)*g+(F*x-t*T);q=U(c,f);
a=U(C,f);const m=U(C,h);U=U(c,h);return q===a&&a===m&&m===U&&U===q||t<c&&F<c||t>C&&F>C||x>f&&T>f||x<h&&T<h?!1:!0};e.intersectsSphere=function(f,q){const a=q[3];var c=Math.abs(q[0]-.5*(f[0]+f[2]));const h=.5*(f[2]-f[0]);if(c>a+h)return!1;var C=.5*(f[3]-f[1]);f=Math.abs(q[1]-.5*(f[1]+f[3]));if(f>a+C)return!1;if(c<h||f<C)return!0;c-=h;C=f-C;return c*c+C*C<=a*a};e.is=p;e.isPoint=function(f){return(0===N(f)||!isFinite(f[0]))&&(0===M(f)||!isFinite(f[1]))};e.offset=function(f,q,a,c=f){c[0]=f[0]+q;c[1]=f[1]+
a;c[2]=f[2]+q;c[3]=f[3]+a;return c};e.pad=function(f,q,a=f){a[0]=f[0]-q;a[1]=f[1]-q;a[2]=f[2]+q;a[3]=f[3]+q;return a};e.setMax=function(f,q,a=f){a[2]=q[0];a[3]=q[1];a!==f&&(a[0]=f[0],a[1]=f[1]);return f};e.setMin=function(f,q,a=f){a[0]=q[0];a[1]=q[1];a!==f&&(a[2]=f[2],a[3]=f[3]);return a};e.size=function(f,q){q[0]=f[2]-f[0];q[1]=f[3]-f[1]};e.toExtent=function(f,q){return new w({xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3],spatialReference:q})};e.width=N;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(e,A,E){function z({scale:g,translate:n},v){return Math.round((v-n[0])/g[0])}function w({scale:g,translate:n},v){return Math.round((n[1]-v)/g[1])}function J(g,n,v){const L=[];let P,W,ca,da;for(let ea=0;ea<v.length;ea++){const fa=v[ea];if(0<ea){if(ca=z(g,fa[0]),da=w(g,fa[1]),ca!==P||da!==W)L.push(n(fa,ca-P,da-W)),P=ca,W=da}else P=z(g,fa[0]),W=w(g,fa[1]),L.push(n(fa,P,W))}return 0<L.length?
L:null}function I(g,n,v,L){return J(g,v?L?D:m:L?m:U,n)}function N(g,n,v,L){const P=[];v=v?L?D:m:L?m:U;for(L=0;L<n.length;L++){const W=J(g,v,n[L]);W&&3<=W.length&&P.push(W)}return P.length?P:null}function M(g,n,v,L){const P=[];v=v?L?D:m:L?m:U;for(L=0;L<n.length;L++){const W=J(g,v,n[L]);W&&2<=W.length&&P.push(W)}return P.length?P:null}function r({scale:g,translate:n},v){return v*g[0]+n[0]}function p({scale:g,translate:n},v){return n[1]-v*g[1]}function H(g,n,v){const L=Array(v.length);if(!v.length)return L;
const [P,W]=g.scale;let ca=r(g,v[0][0]);g=p(g,v[0][1]);L[0]=n(v[0],ca,g);for(let da=1;da<v.length;da++){const ea=v[da];ca+=ea[0]*P;g-=ea[1]*W;L[da]=n(ea,ca,g)}return L}function S(g,n,v){const L=Array(v.length);for(let P=0;P<v.length;P++)L[P]=H(g,n,v[P]);return L}function f(g,n,v,L){return H(g,v?L?D:m:L?m:U,n)}function q(g,n,v,L){return S(g,v?L?D:m:L?m:U,n)}function a(g,n,v,L){return S(g,v?L?D:m:L?m:U,n)}function c(g,n,v){let [L,P]=v[0],W=Math.min(L,n[0]),ca=Math.min(P,n[1]),da=Math.max(L,n[2]);n=
Math.max(P,n[3]);for(let ea=1;ea<v.length;ea++){const [fa,ja]=v[ea];L+=fa;P+=ja;0>fa&&(W=Math.min(W,L));0<fa&&(da=Math.max(da,L));0>ja?ca=Math.min(ca,P):0<ja&&(n=Math.max(n,P))}g[0]=W;g[1]=ca;g[2]=da;g[3]=n;return g}function h(g,n){if(!n.length)return null;g[0]=g[1]=Number.POSITIVE_INFINITY;g[2]=g[3]=Number.NEGATIVE_INFINITY;for(let v=0;v<n.length;v++)c(g,g,n[v]);return g}function C(g,n,v,L,P){n.xmin=z(g,v.xmin);n.ymin=w(g,v.ymin);n.xmax=z(g,v.xmax);n.ymax=w(g,v.ymax);n!==v&&(L&&(n.zmin=v.zmin,n.zmax=
v.zmax),P&&(n.mmin=v.mmin,n.mmax=v.mmax));return n}function t(g,n,v,L,P){n.points=I(g,v.points,L,P)??[];return n}function x(g,n,v,L,P){n.x=z(g,v.x);n.y=w(g,v.y);n!==v&&(L&&(n.z=v.z),P&&(n.m=v.m));return n}function F(g,n,v,L,P){g=N(g,v.rings,L,P);if(!g)return null;n.rings=g;return n}function T(g,n,v,L,P){g=M(g,v.paths,L,P);if(!g)return null;n.paths=g;return n}const U=(g,n,v)=>[n,v],m=(g,n,v)=>[n,v,g[2]],D=(g,n,v)=>[n,v,g[2],g[3]];e.equals=function(g,n){if(g===n||null==g&&null==n)return!0;if(null==
g||null==n)return!1;let v,L,P,W;g&&"upperLeft"===g.originPosition?(v=g.translate[0],L=g.translate[1],g=g.scale[0]):(v=A.isSome(g.extent)?g.extent.xmin:0,L=A.isSome(g.extent)?g.extent.ymax:0,g=g.tolerance);n&&"upperLeft"===n.originPosition?(P=n.translate[0],W=n.translate[1],n=n.scale[0]):(P=A.isSome(n.extent)?n.extent.xmin:0,W=A.isSome(n.extent)?n.extent.ymax:0,n=n.tolerance);return v===P&&L===W&&g===n};e.getQuantizedBoundsCoordsArray=c;e.getQuantizedBoundsCoordsArrayArray=h;e.getQuantizedBoundsPaths=
function(g){return h([0,0,0,0],g)};e.getQuantizedBoundsPoints=function(g){const n=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return c(n,n,g)};e.getQuantizedBoundsRings=function(g){return h([0,0,0,0],g)};e.quantizeBounds=function(g,n,v){n[0]=z(g,v[0]);n[3]=w(g,v[1]);n[2]=z(g,v[2]);n[1]=w(g,v[3]);return n};e.quantizeExtent=C;e.quantizeGeometry=function(g,n){return g&&n?E.isPoint(n)?x(g,{},n,!1,!1):E.isPolyline(n)?T(g,{},n,!1,!1):E.isPolygon(n)?
F(g,{},n,!1,!1):E.isMultipoint(n)?t(g,{},n,!1,!1):E.isExtent(n)?C(g,{},n,!1,!1):null:null};e.quantizeMultipoint=t;e.quantizePaths=M;e.quantizePoint=x;e.quantizePoints=I;e.quantizePolygon=F;e.quantizePolyline=T;e.quantizeRings=N;e.quantizeX=z;e.quantizeY=w;e.toQuantizationTransform=function(g){return g?{originPosition:"upper-left"===g.originPosition?"upperLeft":"lower-left"===g.originPosition?"lowerLeft":g.originPosition,scale:g.tolerance?[g.tolerance,g.tolerance]:[1,1],translate:A.isSome(g.extent)?
[g.extent.xmin,g.extent.ymax]:[0,0]}:null};e.unquantizeBounds=function(g,n,v){return v?(n[0]=r(g,v[0]),n[1]=p(g,v[3]),n[2]=r(g,v[2]),n[3]=p(g,v[1]),n):[r(g,n[0]),p(g,n[3]),r(g,n[2]),p(g,n[1])]};e.unquantizeCoordsArray=H;e.unquantizeCoordsArrayArray=S;e.unquantizeExtent=function(g,n,v,L,P){n.xmin=r(g,v.xmin);n.ymin=p(g,v.ymin);n.xmax=r(g,v.xmax);n.ymax=p(g,v.ymax);n!==v&&(L&&(n.zmin=v.zmin,n.zmax=v.zmax),P&&(n.mmin=v.mmin,n.mmax=v.mmax));return n};e.unquantizeMultipoint=function(g,n,v,L,P){A.isSome(v)&&
(n.points=f(g,v.points,L,P));return n};e.unquantizePaths=q;e.unquantizePoint=function(g,n,v,L,P){if(A.isNone(v))return n;n.x=r(g,v.x);n.y=p(g,v.y);n!==v&&(L&&(n.z=v.z),P&&(n.m=v.m));return n};e.unquantizePoints=f;e.unquantizePolygon=function(g,n,v,L,P){A.isSome(v)&&(n.rings=a(g,v.rings,L,P));return n};e.unquantizePolyline=function(g,n,v,L,P){A.isSome(v)&&(n.paths=q(g,v.paths,L,P));return n};e.unquantizeRings=a;e.unquantizeX=r;e.unquantizeY=p;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},
"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),function(e,A,E,z,w,J,I,N,M,r,p,H){var S;const f=new E.JSONMap({binary:"binary",
coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});E=S=function(q){function a(h){h=q.call(this,h)||this;h.alias=null;h.defaultValue=void 0;h.description=null;h.domain=null;h.editable=
!0;h.length=-1;h.name=null;h.nullable=!0;h.type=null;h.valueType=null;h.visible=!0;return h}e._inheritsLoose(a,q);var c=a.prototype;c.readDescription=function(h,{description:C}){h=null;try{h=C?JSON.parse(C):null}catch(t){}return h?.value??null};c.readValueType=function(h,{description:C}){h=null;try{h=C?JSON.parse(C):null}catch(t){}return h?f.fromJSON(h.fieldValueType):null};c.clone=function(){return new S({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain&&
this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})};return a}(z.JSONSupport);A.__decorate([w.property({type:String,json:{write:!0}})],E.prototype,"alias",void 0);A.__decorate([w.property({type:[String,Number],json:{write:{allowNull:!0}}})],E.prototype,"defaultValue",void 0);A.__decorate([w.property()],E.prototype,"description",void 0);A.__decorate([M.reader("description")],E.prototype,
"readDescription",null);A.__decorate([w.property({types:p.types,json:{read:{reader:p.fromJSON},write:!0}})],E.prototype,"domain",void 0);A.__decorate([w.property({type:Boolean,json:{write:!0}})],E.prototype,"editable",void 0);A.__decorate([w.property({type:J.Integer,json:{write:!0}})],E.prototype,"length",void 0);A.__decorate([w.property({type:String,json:{write:!0}})],E.prototype,"name",void 0);A.__decorate([w.property({type:Boolean,json:{write:!0}})],E.prototype,"nullable",void 0);A.__decorate([N.enumeration(H.kebabDict)],
E.prototype,"type",void 0);A.__decorate([w.property()],E.prototype,"valueType",void 0);A.__decorate([M.reader("valueType",["description"])],E.prototype,"readValueType",null);A.__decorate([w.property({type:Boolean,json:{read:!1}})],E.prototype,"visible",void 0);return E=S=A.__decorate([r.subclass("esri.layers.support.Field")],E)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(e,A,E){e.enumeration=function(z,w={}){z=z instanceof
A.JSONMap?z:new A.JSONMap(z,w);z={type:w?.ignoreUnknown??!0?z.apiValues:String,json:{type:z.jsonValues,read:w?.readOnly?!1:{reader:z.read},write:{writer:z.write}}};void 0!==w?.readOnly&&(z.readOnly=!!w.readOnly);void 0!==w?.default&&(z.json.default=w.default);void 0!==w?.name&&(z.json.name=w.name);void 0!==w?.nonNullable&&(z.nonNullable=w.nonNullable);return E.property(z)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),
function(e,A,E,z,w,J){A={key:"type",base:z,typeMap:{range:J,"coded-value":E,inherited:w}};e.CodedValueDomain=E;e.DomainBase=z;e.InheritedDomain=w;e.RangeDomain=J;e.fromJSON=function(I){if(!I||!I.type)return null;switch(I.type){case "range":return J.fromJSON(I);case "codedValue":return E.fromJSON(I);case "inherited":return w.fromJSON(I)}return null};e.types=A;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(e,A,E,z,w,J,I,N,M){var r;w=r=function(p){function H(f){f=p.call(this,f)||this;f.codedValues=null;f.type="coded-value";return f}e._inheritsLoose(H,p);var S=H.prototype;S.getName=function(f){let q=null;if(this.codedValues){const a=String(f);this.codedValues.some(c=>{String(c.code)===a&&(q=c.name);return!!q})}return q};S.clone=function(){return new r({codedValues:E.clone(this.codedValues),name:this.name})};return H}(M);A.__decorate([z.property({type:[N.CodedValue],json:{write:!0}})],w.prototype,
"codedValues",void 0);A.__decorate([J.enumeration({codedValue:"coded-value"})],w.prototype,"type",void 0);return w=r=A.__decorate([I.subclass("esri.layers.support.CodedValueDomain")],w)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass".split(" "),function(e,
A,E,z,w,J,I,N){var M;e.CodedValue=M=function(r){function p(H){H=r.call(this,H)||this;H.name=null;H.code=null;return H}A._inheritsLoose(p,r);p.prototype.clone=function(){return new M({name:this.name,code:this.code})};return p}(z.JSONSupport);E.__decorate([w.property({type:String,json:{write:!0}})],e.CodedValue.prototype,"name",void 0);E.__decorate([w.property({type:[String,Number],json:{write:!0}})],e.CodedValue.prototype,"code",void 0);e.CodedValue=M=E.__decorate([N.subclass("esri.layers.support.CodedValue")],
e.CodedValue);Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(e,A,E,z,w,J,I,N,M){E=new E.JSONMap({inherited:"inherited",
codedValue:"coded-value",range:"range"});z=function(r){function p(H){H=r.call(this,H)||this;H.name=null;H.type=null;return H}e._inheritsLoose(p,r);return p}(z.JSONSupport);A.__decorate([w.property({type:String,json:{write:!0}})],z.prototype,"name",void 0);A.__decorate([N.enumeration(E)],z.prototype,"type",void 0);return z=A.__decorate([M.subclass("esri.layers.support.Domain")],z)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/Error ../../core/has ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,A,E,z,w,J,I,N,M,r){var p;E=p=function(H){function S(f){f=H.call(this,f)||this;f.type="inherited";return f}e._inheritsLoose(S,H);S.prototype.clone=function(){return new p};return S}(r);A.__decorate([N.enumeration({inherited:"inherited"})],E.prototype,"type",void 0);return E=p=A.__decorate([M.subclass("esri.layers.support.InheritedDomain")],E)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(e,A,E,z,w,J,I,N){var M;z=M=function(r){function p(H){H=r.call(this,H)||this;H.maxValue=null;H.minValue=null;H.type="range";return H}e._inheritsLoose(p,r);p.prototype.clone=function(){return new M({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return p}(N);A.__decorate([E.property({type:Number,json:{type:[Number],read:{source:"range",reader(r,p){return p.range&&p.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(r,p,H){p[H]=[this.minValue||0,r]}}}})],z.prototype,"maxValue",void 0);A.__decorate([E.property({type:Number,json:{type:[Number],read:{source:"range",reader(r,p){return p.range&&p.range[0]}},write:{target:"range",writer(r,p,H){p[H]=[r,this.maxValue||0]}}}})],z.prototype,"minValue",void 0);A.__decorate([J.enumeration({range:"range"})],z.prototype,"type",void 0);return z=M=A.__decorate([I.subclass("esri.layers.support.RangeDomain")],z)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(e,A){A=new A.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});e.kebabDict=A;Object.defineProperty(e,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/dehydratedFeatureComparison":function(){define(["exports","../../core/has","../../core/maybe","../../geometry/support/spatialReferenceUtils"],function(e,A,E,z){function w(r,p){if(r===p)return!0;if(null==r||null==p||r.length!==p.length)return!1;for(let H=0;H<r.length;H++){const S=r[H],f=p[H];if(S.length!==f.length)return!1;for(let q=0;q<S.length;q++)if(S[q]!==f[q])return!1}return!0}function J(r,p){if(r===p)return!0;if(null==r||null==p||r.length!==p.length)return!1;
for(let H=0;H<r.length;H++)if(!w(r[H],p[H]))return!1;return!0}function I(r,p){return r===p||E.isSome(r)&&E.isSome(p)&&z.equals(r.spatialReference,p.spatialReference)&&r.x===p.x&&r.y===p.y&&r.z===p.z&&r.m===p.m}function N(r,p){if(r===p)return!0;if(E.isNone(r)||E.isNone(p)||r.type!==p.type)return!1;switch(r.type){case "point":return I(r,p);case "extent":return r=r.hasZ!==p.hasZ||r.hasM!==p.hasM?!1:z.equals(r.spatialReference,p.spatialReference)?r.xmin===p.xmin&&r.ymin===p.ymin&&r.zmin===p.zmin&&r.xmax===
p.xmax&&r.ymax===p.ymax&&r.zmax===p.zmax:!1,r;case "polyline":return r=r.hasZ!==p.hasZ||r.hasM!==p.hasM?!1:z.equals(r.spatialReference,p.spatialReference)?J(r.paths,p.paths):!1,r;case "polygon":return r=r.hasZ!==p.hasZ||r.hasM!==p.hasM?!1:z.equals(r.spatialReference,p.spatialReference)?J(r.rings,p.rings):!1,r;case "multipoint":return r=r.hasZ!==p.hasZ||r.hasM!==p.hasM?!1:z.equals(r.spatialReference,p.spatialReference)?w(r.points,p.points):!1,r;case "mesh":return!1}}function M(r,p){if(r===p)return!0;
if(!r||!p)return!1;const H=Object.keys(r),S=Object.keys(p);if(H.length!==S.length)return!1;for(const f of H)if(r[f]!==p[f])return!1;return!0}e.equals=function(r,p){return r===p?!0:null!=r&&null!=p&&r.objectId===p.objectId&&N(r.geometry,p.geometry)&&M(r.attributes,p.attributes)?!0:!1};e.pointEquals=I;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(e,A,E,z,w,J,I,N,M,r){function p(b,d){return b?d?4:3:d?3:2}function H(b,d,k,l){if(b){if(k)return d&&l?wa:ta;if(d&&l)return xa}else if(d&&l)return ta;return ya}function S({scale:b,translate:d},k){return Math.round((k-d[0])/b[0])}function f({scale:b,translate:d},k){return Math.round((d[1]-k)/b[1])}function q({scale:b,translate:d},k,l){return k*b[l]+d[l]}function a(b){b=b.coords;return{x:b[0],y:b[1]}}function c(b,d){b.coords[0]=d.x;b.coords[1]=d.y;return b}function h(b){b=b.coords;return{x:b[0],
y:b[1],z:b[2]}}function C(b,d){b.coords[0]=d.x;b.coords[1]=d.y;b.coords[2]=d.z;return b}function t(b){b=b.coords;return{x:b[0],y:b[1],m:b[2]}}function x(b,d){b.coords[0]=d.x;b.coords[1]=d.y;b.coords[2]=d.m;return b}function F(b){b=b.coords;return{x:b[0],y:b[1],z:b[2],m:b[3]}}function T(b,d){b.coords[0]=d.x;b.coords[1]=d.y;b.coords[2]=d.z;b.coords[3]=d.m;return b}function U(b,d){return b&&d?T:b?C:d?x:c}function m(b,d,k,l,u){k=U(k,l);for(const {geometry:y,attributes:B}of d)d=z.isSome(y)?k(new r,y):
null,b.push(new N.OptimizedFeature(d,B,null,u?B[u]:void 0));return b}function D(b,d,k,l){for(const {geometry:u,attributes:y}of d)b.push({attributes:y,geometry:z.isSome(u)?g(u,k,l):null});return b}function g(b,d,k){if(z.isNone(b))return null;const l=p(d,k),u=[];for(let y=0;y<b.coords.length;y+=l){const B=[];for(let G=0;G<l;G++)B.push(b.coords[y+G]);u.push(B)}return d?k?{points:u,hasZ:d,hasM:k}:{points:u,hasZ:d}:k?{points:u,hasM:k}:{points:u}}function n(b,d,k,l,u){k=p(k,l);for(const {geometry:y,attributes:B}of d)d=
z.isSome(y)?v(new r,y,k):null,b.push(new N.OptimizedFeature(d,B,null,u?B[u]:void 0));return b}function v(b,d,k=p(d.hasZ,d.hasM)){b.lengths[0]=d.points.length;const l=b.coords;let u=0;for(const y of d.points)for(d=0;d<k;d++)l[u++]=y[d];return b}function L(b,d,k){if(!b)return null;const l=p(d,k),{coords:u,lengths:y}=b;b=[];let B=0;for(const G of y){const K=[];for(let Q=0;Q<G;Q++){const O=[];for(let R=0;R<l;R++)O.push(u[B++]);K.push(O)}b.push(K)}return d?k?{paths:b,hasZ:d,hasM:k}:{paths:b,hasZ:d}:k?
{paths:b,hasM:k}:{paths:b}}function P(b,d,k,l,u){k=p(k,l);for(const {geometry:y,attributes:B}of d)d=z.isSome(y)?W(new r,y,k):null,b.push(new N.OptimizedFeature(d,B,null,u?B[u]:void 0));return b}function W(b,d,k=p(d.hasZ,d.hasM)){const {lengths:l,coords:u}=b;let y=0;for(const B of d.paths){for(const G of B)for(d=0;d<k;d++)u[y++]=G[d];l.push(B.length)}return b}function ca(b,d,k){if(!b)return null;const l=p(d,k),{coords:u,lengths:y}=b;b=[];let B=0;for(const G of y){const K=[];for(let Q=0;Q<G;Q++){const O=
[];for(let R=0;R<l;R++)O.push(u[B++]);K.push(O)}b.push(K)}return d?k?{rings:b,hasZ:d,hasM:k}:{rings:b,hasZ:d}:k?{rings:b,hasM:k}:{rings:b}}function da(b,d,k,l,u){for(const {geometry:y,centroid:B,attributes:G}of d){d=z.isSome(y)?ea(new r,y,k,l):null;const K=u?G[u]:void 0;z.isSome(B)?b.push(new N.OptimizedFeature(d,G,c(new r,B),K)):b.push(new N.OptimizedFeature(d,G,null,K))}return b}function ea(b,d,k=d.hasZ,l=d.hasM){fa(b,d.rings,k,l);return b}function fa(b,d,k,l){k=p(k,l);const {lengths:u,coords:y}=
b;l=0;ia(b);for(const B of d){for(const G of B)for(d=0;d<k;d++)y[l++]=G[d];u.push(B.length)}return b}function ja(b,d,k,l,u,y){ha(b);if(!k){for(const B of d)b.push(new N.OptimizedFeature(null,B.attributes,null,y?B.attributes[y]:void 0));return b}switch(k){case "esriGeometryPoint":return m(b,d,l,u,y);case "esriGeometryMultipoint":return n(b,d,l,u,y);case "esriGeometryPolyline":return P(b,d,l,u,y);case "esriGeometryPolygon":return da(b,d,l,u,y);default:la.error("convertToFeatureSet:unknown-geometry",
new A(`Unable to parse unknown geometry type '${k}'`)),ha(b)}return b}function ua(b,d,k,l){b=b&&("coords"in b?b:b.geometry);if(z.isNone(b))return null;switch(d){case "esriGeometryPoint":return d=a,k&&l?d=F:k?d=h:l&&(d=t),d(b);case "esriGeometryMultipoint":return g(b,k,l);case "esriGeometryPolyline":return L(b,k,l);case "esriGeometryPolygon":return ca(b,k,l);default:return la.error("convertToGeometry:unknown-geometry",new A(`Unable to parse unknown geometry type '${d}'`)),null}}function oa(b,d,k,l,
u){ha(b);if(z.isNone(k)){for(const B of d)b.push({attributes:B.attributes});return b}switch(k){case "esriGeometryPoint":k=a;l&&u?k=F:l?k=h:u&&(k=t);for(var y of d){const {geometry:B,attributes:G}=y;l=z.isSome(B)?k(B):null;b.push({attributes:G,geometry:l})}break;case "esriGeometryMultipoint":return D(b,d,l,u);case "esriGeometryPolyline":for(const {geometry:B,attributes:G}of d)b.push({attributes:G,geometry:z.isSome(B)?L(B,l,u):null});break;case "esriGeometryPolygon":for(const {geometry:B,attributes:G,
centroid:K}of d)y=z.isSome(B)?ca(B,l,u):null,z.isSome(K)?(d=a(K),b.push({attributes:G,centroid:d,geometry:y})):b.push({attributes:G,geometry:y});break;default:la.error("convertToFeatureSet:unknown-geometry",new A(`Unable to parse unknown geometry type '${k}'`))}return b}function pa(b,d,k,l,u,y,B=k,G=l){ia(b);if(z.isNone(d)||!d.coords.length)return null;u=qa[u];const {coords:K,lengths:Q}=d;d=p(k,l);const O=p(k&&B,l&&G);k=H(k,l,B,G);if(!Q.length)return k(b.coords,K,0,0,S(y,K[0]),f(y,K[1])),ia(b,d,0),
b;let R,V=0,X,Z=0;for(const aa of Q){if(aa<u)continue;let Y=0;X=Z;G=l=S(y,K[V]);R=B=f(y,K[V+1]);k(b.coords,K,X,V,G,R);Y++;V+=d;X+=O;for(let ba=1;ba<aa;ba++,V+=d)if(G=S(y,K[V]),R=f(y,K[V+1]),G!==l||R!==B)k(b.coords,K,X,V,G-l,R-B),X+=O,Y++,l=G,B=R;Y>=u&&(b.lengths.push(Y),Z=X)}ha(b.coords,Z);return b.coords.length?b:null}function ra(b,d,k,l,u,y,B){let G=l,K=0;for(let O=y+k;O<B;O+=k){var Q=d[O];const R=d[O+1],V=d[B],X=d[B+1];let Z=d[y],aa=d[y+1],Y=V-Z,ba=X-aa;if(0!==Y||0!==ba){const ka=((Q-Z)*Y+(R-aa)*
ba)/(Y*Y+ba*ba);1<ka?(Z=V,aa=X):0<ka&&(Z+=Y*ka,aa+=ba*ka)}Y=Q-Z;ba=R-aa;Q=Y*Y+ba*ba;Q>G&&(K=O,G=Q)}G>l&&(K-y>k&&ra(b,d,k,l,u,y,K),u(b,d,b.length,K,d[K],d[K+1]),B-K>k&&ra(b,d,k,l,u,K,B))}function sa(b,d,k,l,u){const {coords:y,lengths:B}=d;k=p(k,l);if(!y.length)return b!==d&&ia(b),b;z.assertIsSome(u);const {originPosition:G,scale:K,translate:Q}=u;u=za;u.originPosition=G;l=u.scale;l[0]=K[0]??1;l[1]=-(K[1]??1);l[2]=K[2]??1;l[3]=K[3]??1;var O=u.translate;O[0]=Q[0]??0;O[1]=Q[1]??0;O[2]=Q[2]??0;O[3]=Q[3]??
0;if(!B.length){for(l=0;l<k;++l)b.coords[l]=q(u,y[l],l);b!==d&&ia(b,k,0);return b}O=0;for(let V=0;V<B.length;V++){const X=B[V];b.lengths[V]=X;for(var R=0;R<k;++R)b.coords[O+R]=q(u,y[O+R],R);R=b.coords[O];let Z=b.coords[O+1];O+=k;for(let aa=1;aa<X;aa++,O+=k){R+=y[O]*l[0];Z+=y[O+1]*l[1];b.coords[O]=R;b.coords[O+1]=Z;for(let Y=2;Y<k;++Y)b.coords[O+Y]=q(u,y[O+Y],Y)}}b!==d&&ia(b,y.length,B.length);return b}function va(b,d,k,l){let u=0,y=b[l*d],B=b[l*(d+1)];for(let G=1;G<k;G++){const K=y+b[l*(d+G)],Q=B+
b[l*(d+G)+1],O=(K-y)*(Q+B);y=K;B=Q;u+=O}return.5*u}function ia(b,d=0,k=0){ha(b.lengths,k);ha(b.coords,d)}function ha(b,d=0){b.length!==d&&(b.length=d)}const la=E.getLogger("esri.layers.graphics.featureConversionUtils"),qa={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},ya=(b,d,k,l,u,y)=>{b[k]=u;b[k+1]=y},ta=(b,d,k,l,u,y)=>{b[k]=u;b[k+1]=y;b[k+2]=d[l+2]},xa=(b,d,k,l,u,y)=>{b[k]=u;b[k+1]=y;b[k+2]=d[l+3]},wa=(b,d,k,l,u,y)=>{b[k]=u;b[k+1]=y;b[k+2]=d[l+2];b[k+
3]=d[l+3]},ma=[],na=[],za={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};e.convertFromFeature=function(b,d,k,l,u){ma[0]=b;[b]=ja(na,ma,d,k,l,u);ha(ma);ha(na);return b};e.convertFromFeatureSet=function(b,d){const k=new M,{hasM:l,hasZ:u,features:y,objectIdFieldName:B,spatialReference:G,geometryType:K,exceededTransferLimit:Q,transform:O,fields:R}=b;R&&(k.fields=R);k.geometryType=K??null;k.objectIdFieldName=B??d??null;k.spatialReference=G??null;if(!k.objectIdFieldName)return la.error(new A("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),k;y&&ja(k.features,y,K,u,l,k.objectIdFieldName);Q&&(k.exceededTransferLimit=Q);l&&(k.hasM=l);u&&(k.hasZ=u);O&&(k.transform=O);return k};e.convertFromFeatures=ja;e.convertFromGeometry=function(b,d,k){if(z.isNone(b))return null;const l=new r;"hasZ"in b&&null==d&&(d=b.hasZ);"hasM"in b&&null==k&&(k=b.hasM);if(I.isPoint(b))return U(null!=d?d:null!=b.z,null!=k?k:null!=b.m)(l,b);if(I.isPolygon(b))return ea(l,b,d,k);if(I.isPolyline(b))return W(l,b,p(d,k));if(I.isMultipoint(b))return v(l,
b,p(d,k));la.error("convertFromGeometry:unknown-geometry",new A(`Unable to parse unknown geometry type '${b}'`))};e.convertFromGraphics=function(b,d,k,l,u,y){const B=b.length;switch(k){case "esriGeometryPoint":m(b,d,l,u,y);break;case "esriGeometryMultipoint":n(b,d,l,u,y);break;case "esriGeometryPolyline":P(b,d,l,u,y);break;case "esriGeometryPolygon":da(b,d,l,u,y);break;default:la.error("convertToFeatureSet:unknown-geometry",new A(`Unable to parse unknown geometry type '${k}'`))}for(l=0;l<d.length;l++)b[l+
B].geometryType=k,b[l+B].insertAfter=d[l].insertAfter,b[l+B].groupId=d[l].groupId;return b};e.convertFromMultipoint=v;e.convertFromMultipointFeatures=n;e.convertFromNestedArray=fa;e.convertFromPoint=function(b,d,k=U(null!=d.z,null!=d.m)){return k(b,d)};e.convertFromPointFeatures=m;e.convertFromPolygon=ea;e.convertFromPolyline=W;e.convertFromPolylineFeatures=P;e.convertToFeature=function(b,d,k,l){na[0]=b;oa(ma,na,d,k,l);b=ma[0];ha(ma);ha(na);return b};e.convertToFeatureSet=function(b){const {objectIdFieldName:d,
spatialReference:k,transform:l,fields:u,hasM:y,hasZ:B,features:G,geometryType:K,exceededTransferLimit:Q,uniqueIdField:O,queryGeometry:R,queryGeometryType:V}=b;b=oa([],G,K,B,y);const X=ua(R,V,!1,!1);b={features:b,fields:u,geometryType:K,objectIdFieldName:d,spatialReference:k,uniqueIdField:O,queryGeometry:X};l&&(b.transform=l);Q&&(b.exceededTransferLimit=Q);y&&(b.hasM=y);B&&(b.hasZ=B);return b};e.convertToFeatures=oa;e.convertToGeometry=ua;e.convertToMultipoint=g;e.convertToMultipointFeatures=D;e.convertToPoint=
function(b,d,k){return b?d?k?F(b):h(b):k?t(b):a(b):null};e.convertToPolygon=ca;e.convertToPolyline=L;e.deltaDecodeGeometry=function(b,d){if(z.isNone(b))return null;const k=b.clone(),l=b.coords;b=b.lengths;let u=0;for(let G=0;G<b.length;G++){const K=b[G];var y=l[d*u],B=l[d*u+1];for(let Q=1;Q<K;Q++)y+=l[d*(u+Q)],B+=l[d*(u+Q)+1],k.coords[d*(u+Q)]=y,k.coords[d*(u+Q)+1]=B;u+=K}return k};e.deltaEncodeGeometry=function(b,d){const k=b.clone(),l=b.coords;b=b.lengths;let u=0;for(let B=0;B<b.length;B++){const G=
b[B];let K=l[d*u];var y=l[d*u+1];for(let Q=1;Q<G;Q++){const O=l[d*(u+Q)],R=l[d*(u+Q)+1];y=R-y;k.coords[d*(u+Q)]=O-K;k.coords[d*(u+Q)+1]=y;K=O;y=R}u+=G}return k};e.generalizeOptimizedGeometry=function(b,d,k,l,u,y,B=k,G=l){ia(b);if(!d||!d.coords.length)return null;u=qa[u];const {coords:K,lengths:Q}=d;d=p(k,l);const O=p(k&&B,l&&G);k=H(k,l,B,G);if(!Q.length)return k(b.coords,K,0,0,K[0],K[1]),ia(b,d,0),b;l=0;y*=y;for(const R of Q){if(R<u){l+=R*d;continue}B=b.coords.length/O;G=l;const V=l+(R-1)*d;k(b.coords,
K,b.coords.length,G,K[G],K[G+1]);ra(b.coords,K,d,y,k,G,V);k(b.coords,K,b.coords.length,V,K[V],K[V+1]);G=b.coords.length/O-B;G>=u?b.lengths.push(G):ha(b.coords,B*O);l+=R*d}return b.coords.length?b:null};e.getBoundsOptimizedGeometry=function(b,d,k,l){if(z.isNone(d)||!d.coords||!d.coords.length)return null;k=p(k,l);let u=l=Number.POSITIVE_INFINITY,y=Number.NEGATIVE_INFINITY,B=Number.NEGATIVE_INFINITY;if(d&&d.coords){d=d.coords;for(let G=0;G<d.length;G+=k){const K=d[G],Q=d[G+1];l=Math.min(l,K);y=Math.max(y,
K);u=Math.min(u,Q);B=Math.max(B,Q)}}w.is(b)?w.fromRectValues(b,l,u,y,B):J.fromValues(l,u,y,B,b);return b};e.getQuantizedArea=function(b,d){const {coords:k,lengths:l}=b;let u=b=0;for(let y=0;y<l.length;y++){const B=l[y];u+=va(k,b,B,d);b+=B}return Math.abs(u)};e.getQuantizedBoundsOptimizedGeometry=function(b,d,k,l){k=p(k,l);const {lengths:u,coords:y}=d;l=d=Number.POSITIVE_INFINITY;let B=Number.NEGATIVE_INFINITY,G=Number.NEGATIVE_INFINITY,K=0;for(const Q of u){let O=y[K],R=y[K+1];d=Math.min(O,d);l=Math.min(R,
l);B=Math.max(O,B);G=Math.max(R,G);K+=k;for(let V=1;V<Q;V++,K+=k){const X=y[K],Z=y[K+1];O+=X;R+=Z;0>X&&(d=Math.min(d,O));0<X&&(B=Math.max(B,O));0>Z?l=Math.min(l,R):0<Z&&(G=Math.max(G,R))}}b[0]=d;b[1]=l;b[2]=B;b[3]=G;return b};e.getSignedQuantizedRingArea=va;e.quantizeOptimizedFeatureSet=function(b,d){const {geometryType:k,features:l,hasM:u,hasZ:y}=d;if(!b)return d;for(let B=0;B<l.length;B++){const G=l[B],K=G.weakClone();K.geometry=new r;pa(K.geometry,G.geometry,u,y,k,b);G.centroid&&(K.centroid=new r,
pa(K.centroid,G.centroid,u,y,"esriGeometryPoint",b));l[B]=K}d.transform=b;return d};e.quantizeOptimizedGeometry=pa;e.quantizeX=S;e.quantizeY=f;e.removeCollinearVectices=function(b,d,k,l,u){if(!d||!d.coords||!d.coords.length)return null;k=qa[k];const {coords:y,lengths:B}=d;d=H(l,u,l,u);l=p(l,u);let G=u=0,K=0,Q=0;for(const V of B){G=Q;d(b.coords,y,G,u,y[u],y[u+1]);u+=l;var O=y[u];let X=y[u+1],Z=O,aa=X;var R=X/O;G+=l;d(b.coords,y,G,u,Z,aa);u+=l;for(let Y=2;Y<V;Y++){O=y[u];X=y[u+1];const ba=X/O,ka=R===
ba||!isFinite(R)&&!isFinite(ba);R=ka&&isFinite(ba)?0<=R&&0<=ba||0>=R&&0>=ba:0<=aa&&0<=X||0>=aa&&0>=X;ka&&R?(Z+=O,aa+=X):(Z=O,aa=X,G+=l);d(b.coords,y,G,u,Z,aa);u+=l;R=ba}G+=l;O=(G-Q)/l;O>=k&&(b.lengths[K]=O,Q=G,K++)}b.coords.length>Q&&(b.coords.length=Q);b.lengths.length>K&&(b.lengths.length=K);return b.coords.length&&b.lengths.length?b:null};e.removeZMValues=function(b,d,k,l,u,y){ia(b);b.lengths.push(...d.lengths);if(k===u&&l===y)for(var B=0;B<d.coords.length;B++)b.coords.push(d.coords[B]);else for(B=
p(k,l),k=H(k,l,u,y),d=d.coords,l=0;l<d.length;l+=B)k(b.coords,d,b.coords.length,l,d[l],d[l+1]);return b};e.unquantizeOptimizedFeatureSet=function(b){const {transform:d,features:k,hasM:l,hasZ:u}=b;if(!d)return b;for(const y of k)z.isSome(y.geometry)&&sa(y.geometry,y.geometry,l,u,d),z.isSome(y.centroid)&&sa(y.centroid,y.centroid,l,u,d);b.transform=null;return b};e.unquantizeOptimizedGeometry=sa;e.unquantizeValue=q;e.unquantizeX=function(b,d){return q(b,d,0)};e.unquantizeY=function(b,d){return q(b,-d,
1)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(e,A,E){let z=function(){function J(I=null,N={},M,r){this.geometry=I;this.attributes=N;this.centroid=M;this.objectId=r;this.geohashY=this.geohashX=this.displayId=0}J.prototype.weakClone=function(){const I=new J(this.geometry,this.attributes,this.centroid,this.objectId);I.displayId=this.displayId;
I.geohashX=this.geohashX;I.geohashY=this.geohashY;return I};return J}(),w=function(J){function I(){return J.apply(this,arguments)||this}A._inheritsLoose(I,J);return I}(z);e.OptimizedFeature=z;e.OptimizedFeatureWithGeometry=w;e.hasGeometry=function(J){return!(E.isNone(J.geometry)||!J.geometry.coords||!J.geometry.coords.length)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function e(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}e.prototype.weakClone=function(){const A=new e;A.objectIdFieldName=this.objectIdFieldName;A.globalIdFieldName=this.globalIdFieldName;A.geohashFieldName=this.geohashFieldName;A.geometryProperties=this.geometryProperties;
A.geometryType=this.geometryType;A.spatialReference=this.spatialReference;A.hasZ=this.hasZ;A.hasM=this.hasM;A.features=this.features;A.fields=this.fields;A.transform=this.transform;A.exceededTransferLimit=this.exceededTransferLimit;A.uniqueIdField=this.uniqueIdField;A.queryGeometry=this.queryGeometry;A.queryGeometryType=this.queryGeometryType;return A};return e}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(e){return function(){function A(z=
[],w=[],J=!1){this.lengths=z??[];this.coords=w??[];this.hasIndeterminateRingOrder=J}A.fromRect=function(z){const [w,J,I,N]=z;z=I-w;const M=N-J;return new A([5],[w,J,z,0,0,M,-z,0,0,-M])};var E=A.prototype;E.forEachVertex=function(z){let w=0;this.lengths.length||z(this.coords[0],this.coords[1]);for(let J=0;J<this.lengths.length;J++){const I=this.lengths[J];for(let N=0;N<I;N++)z(this.coords[2*(N+w)],this.coords[2*(N+w)+1]);w+=I}};E.clone=function(z){return z?(z.set(this.coords),new A(this.lengths.slice(),
z,this.hasIndeterminateRingOrder)):new A(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};e._createClass(A,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((z,w)=>z+w)}}]);return A}()})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(e,A){e.parsePBFFeatureQuery=function(E,z){var w=
A.parseFeatureQuery(E,z);E=w.queryResult.featureResult;z=w.queryResult.queryGeometry;w=w.queryResult.queryGeometryType;if(E&&E.features&&E.features.length&&E.objectIdFieldName){const J=E.objectIdFieldName;for(const I of E.features)I.attributes&&(I.objectId=I.attributes[J])}E&&(E.queryGeometry=z,E.queryGeometryType=w);return E};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(e,A,E,z,w,J){function I(m){return m>=F.length?null:F[m]}function N(m,D,g){m=m.asUnsafe();for(g=D.createPointGeometry(g);m.next();)switch(m.tag()){case 3:var n=m.getUInt32();n=m.pos()+n;let v=0;for(;m.pos()<n;)D.addCoordinatePoint(g,m.getSInt64(),v++);break;default:m.skip()}return g}function M(m,D,g){m=m.asUnsafe();const n=D.createGeometry(g);for(g=2+(g.hasZ?1:0)+(g.hasM?1:0);m.next();)switch(m.tag()){case 2:var v=m.getUInt32();v=m.pos()+v;for(var L=0;m.pos()<v;)D.addLength(n,m.getUInt32(),
L++);break;case 3:v=m.getUInt32();v=m.pos()+v;L=0;for(D.allocateCoordinates(n);m.pos()<v;)D.addCoordinate(n,m.getSInt64(),L),L++,L===g&&(L=0);break;default:m.skip()}return n}function r(m){m=m.asUnsafe();const D=new w;let g="esriGeometryPoint";for(;m.next();)switch(m.tag()){case 2:var n=m.getUInt32();for(n=m.pos()+n;m.pos()<n;)D.lengths.push(m.getUInt32());break;case 3:n=m.getUInt32();for(n=m.pos()+n;m.pos()<n;)D.coords.push(m.getSInt64());break;case 1:g=J.OPTIMIZED_GEOMETRY_TYPES[m.getEnum()];break;
default:m.skip()}return{queryGeometry:D,queryGeometryType:g}}function p(m){for(m=m.asUnsafe();m.next();)switch(m.tag()){case 1:return m.getString();case 2:return m.getFloat();case 3:return m.getDouble();case 4:return m.getSInt32();case 5:return m.getUInt32();case 6:return m.getInt64();case 7:return m.getUInt64();case 8:return m.getSInt64();case 9:return m.getBool();default:return m.skip(),null}return null}function H(m){m=m.asUnsafe();const D={type:I(0)};for(;m.next();)switch(m.tag()){case 1:D.name=
m.getString();break;case 2:D.type=I(m.getEnum());break;case 3:D.alias=m.getString();break;case 4:var g=m.getEnum();g=g>=T.length?null:T[g];D.sqlType=g;break;case 5:m.skip();break;case 6:D.defaultValue=m.getString();break;default:m.skip()}return D}function S(m){const D={};for(m=m.asUnsafe();m.next();)switch(m.tag()){case 1:D.name=m.getString();break;case 2:D.isSystemMaintained=m.getBool();break;default:m.skip()}return D}function f(m,D,g,n){const v=D.createFeature(g);let L=0;for(;m.next();)switch(m.tag()){case 1:const P=
n[L++].name;v.attributes[P]=m.processMessage(p);break;case 2:v.geometry=m.processMessageWithArgs(M,D,g);break;case 4:v.centroid=m.processMessageWithArgs(N,D,g);break;default:m.skip()}return v}function q(m){const D=[1,1,1,1];for(m=m.asUnsafe();m.next();)switch(m.tag()){case 1:D[0]=m.getDouble();break;case 2:D[1]=m.getDouble();break;case 4:D[2]=m.getDouble();break;case 3:D[3]=m.getDouble();break;default:m.skip()}return D}function a(m){const D=[0,0,0,0];for(m=m.asUnsafe();m.next();)switch(m.tag()){case 1:D[0]=
m.getDouble();break;case 2:D[1]=m.getDouble();break;case 4:D[2]=m.getDouble();break;case 3:D[3]=m.getDouble();break;default:m.skip()}return D}function c(m){const D={originPosition:0>=U.length?null:U[0]};for(m=m.asUnsafe();m.next();)switch(m.tag()){case 1:var g=m.getEnum();D.originPosition=g>=U.length?null:U[g];break;case 2:D.scale=m.processMessage(q);break;case 3:D.translate=m.processMessage(a);break;default:m.skip()}return D}function h(m){const D={};for(m=m.asUnsafe();m.next();)switch(m.tag()){case 1:D.shapeAreaFieldName=
m.getString();break;case 2:D.shapeLengthFieldName=m.getString();break;case 3:D.units=m.getString();break;default:m.skip()}return D}function C(m,D){for(D=D.createSpatialReference();m.next();)switch(m.tag()){case 1:D.wkid=m.getUInt32();break;case 5:D.wkt=m.getString();break;case 2:D.latestWkid=m.getUInt32();break;case 3:D.vcsWkid=m.getUInt32();break;case 4:D.latestVcsWkid=m.getUInt32();break;default:m.skip()}return D}function t(m,D){const g=D.createFeatureResult();m=m.asUnsafe();g.geometryType=0>=D.geometryTypes.length?
null:D.geometryTypes[0];let n=!1;for(;m.next();)switch(m.tag()){case 1:g.objectIdFieldName=m.getString();break;case 3:g.globalIdFieldName=m.getString();break;case 4:g.geohashFieldName=m.getString();break;case 5:g.geometryProperties=m.processMessage(h);break;case 7:var v=m.getEnum();g.geometryType=v>=D.geometryTypes.length?null:D.geometryTypes[v];break;case 8:g.spatialReference=m.processMessageWithArgs(C,D);break;case 10:g.hasZ=m.getBool();break;case 11:g.hasM=m.getBool();break;case 12:g.transform=
m.processMessage(c);break;case 9:v=m.getBool();g.exceededTransferLimit=v;break;case 13:D.addField(g,m.processMessage(H));break;case 15:n||(D.prepareFeatures(g),n=!0);D.addFeature(g,m.processMessageWithArgs(f,D,g,g.fields));break;case 2:g.uniqueIdField=m.processMessage(S);break;default:m.skip()}D.finishFeatureResult(g);return g}function x(m,D){const g={};let n=null;for(;m.next();)switch(m.tag()){case 4:n=m.processMessageWithArgs(r);break;case 1:g.featureResult=m.processMessageWithArgs(t,D);break;default:m.skip()}E.isSome(n)&&
g.featureResult&&D.addQueryGeometry(g,n);return g}const F="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),T="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),
U=["upperLeft","lowerLeft"];e.parseFeatureQuery=function(m,D){try{const g=new z(new Uint8Array(m),new DataView(m));for(m={};g.next();)switch(g.tag()){case 2:m.queryResult=g.processMessageWithArgs(x,D);break;default:g.skip()}return m}catch(g){throw new A("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:g});}};e.parseFieldType=I;e.parseTransform=c;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),
function(e,A,E,z,w,J){const I=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let N=function(){function M(p){this._options=p;this.geometryTypes=I;this._vertexDimension=this._coordinatePtr=0}var r=M.prototype;r.createFeatureResult=function(){return new w};r.prepareFeatures=function(p){this._vertexDimension=2;p.hasZ&&this._vertexDimension++;p.hasM&&this._vertexDimension++};r.finishFeatureResult=function(p){if(p&&p.features&&p.hasZ&&this._options.sourceSpatialReference&&
p.spatialReference&&!E.equals(p.spatialReference,this._options.sourceSpatialReference)&&!p.spatialReference.vcsWkid){var H=A.getMetersPerVerticalUnitForSR(this._options.sourceSpatialReference),S=A.getMetersPerVerticalUnitForSR(p.spatialReference);H/=S;if(1!==H)for(const f of p.features)if(z.hasGeometry(f))for(p=f.geometry.coords,S=2;S<p.length;S+=3)p[S]*=H}};r.addFeature=function(p,H){p.features.push(H)};r.createFeature=function(){return new z.OptimizedFeature};r.createSpatialReference=function(){return{wkid:0}};
r.createGeometry=function(){return new J};r.addField=function(p,H){p.fields.push(H)};r.allocateCoordinates=function(p){p.coords.length=p.lengths.reduce((H,S)=>H+S,0)*this._vertexDimension;this._coordinatePtr=0};r.addCoordinate=function(p,H){p.coords[this._coordinatePtr++]=H};r.addCoordinatePoint=function(p,H){p.coords.push(H)};r.addLength=function(p,H){p.lengths.push(H)};r.addQueryGeometry=function(p,H){p.queryGeometry=H.queryGeometry;p.queryGeometryType=H.queryGeometryType};r.createPointGeometry=
function(){return new J};return M}();e.OPTIMIZED_GEOMETRY_TYPES=I;e.OptimizedFeatureSetParserContext=N;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../rest/query/operations/pbfDehydratedFeatureSet","../../../rest/query/operations/pbfQueryUtils"],function(e,A){let E=function(){function z(){}z.prototype._parseFeatureQuery=function(w){w=A.parsePBFFeatureQuery(w.buffer,new e.DehydratedFeatureSetParserContext(w.options));w={...w,spatialReference:w.spatialReference?.toJSON(),fields:w.fields?w.fields.map(J=>J.toJSON()):void 0};return Promise.resolve(w)};return z}();return function(){return new E}});