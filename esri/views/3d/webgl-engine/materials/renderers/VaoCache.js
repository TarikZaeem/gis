// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../../../../core/maybe ../../../../../core/MemCache ../../../../../core/uid ../../lib/VertexArrayObject ../../../../webgl/BufferObject ../../../../webgl/enums".split(" "),function(h,g,k,l,m,n,p){function q(d,e){if(e===k.RemoveMode.ALL)d.forEach(a=>a.dispose());else return e=d.pop(),d=d.length*e.size,e.dispose(),d}const r=k.MIN_PRIORITY+1;let t=function(){function d(a,b,c){this._rctx=a;this._locations=b;this._layout=c;this._cache=a.newCache(`VaoCache ${l.generateUID()}`,q)}var e=
d.prototype;e.dispose=function(){this._cache.destroy()};e.newVao=function(a){var b=a.toString();const c=this._cache.pop(b);if(g.isSome(c)){const f=c.pop();0<c.length&&this._cache.put(b,c,a*c.length,r);return f}b=new m.VertexArrayObject(this._rctx,this._locations,{geometry:this._layout},{geometry:n.BufferObject.createVertex(this._rctx,p.Usage.STATIC_DRAW)});b.vertexBuffers.geometry.setSize(a);return b};e.deleteVao=function(a){if(g.isNone(a))return null;const b=a.size,c=b.toString(),f=this._cache.pop(c);
g.isSome(f)?(f.push(a),this._cache.put(c,f,b*f.length,-1)):this._cache.put(c,[a],b,-1);return null};return d}();h.VaoCache=t;Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});