// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../../../core/maybe ../../../../chunks/mat4 ../../../../chunks/vec3f64 ../../../../geometry/support/aaBoundingBox ../../../../chunks/sphere ../../layers/i3s/Intersector ../../terrain/Intersector ./intersectorUtils ./lodRendering/Intersector".split(" "),function(g,c,r,t,u,v,e,m,f,n){function p(a,b){return c.isNone(a)?null:f.isObjectIntersectorResult(a)||f.isHudIntersectorResult(a)?q(a.target?.object.metadata,b):e.isPclIntersectorResult(a)?(a=a.target.createGraphic(),{type:"graphic",
graphic:a,layer:a.layer}):e.isVoxelIntersectorResult(a)?(a=a.target.createVoxelGraphic(),{type:"graphic",graphic:a,layer:a.layer}):m.isOverlayIntersectorResult(a)||n.isLodIntersectorResult(a)?q(a.target,b):e.isI3sIntersectorResult(a)?w(a.target,b):null}function q(a,b){if(c.isNone(a)||c.isNone(a.graphicUid))return null;const d=h(a,b);if(c.isNone(d))return null;if(d===b.graphics)return c.isNone(b.graphicsView)||"number"!==typeof a.graphicUid?null:b.graphicsView.getHit(a.graphicUid);b=b.allLayerViews.find(k=>
k.layer===d);return!b||b.suspended||c.isNone(a.graphicUid)?null:"getHit"in b?b.getHit(a.graphicUid):null}function w(a,b){const d=h(a,b);return c.isNone(d)?null:(b=b.allLayerViews.find(k=>k.layer===d))&&!b.suspended&&"getGraphicFromIntersectorTarget"in b?x(b.getGraphicFromIntersectorTarget(a)):null}function y(a,b){const d=h(a,b);return c.isNone(d)?null:(b=b.allLayerViews.find(k=>k.layer===d))&&!b.suspended&&"getAABBFromIntersectorTarget"in b?b.getAABBFromIntersectorTarget(a):null}function x(a){return c.isSome(a)?
{type:"graphic",graphic:a,layer:a.layer}:null}function h(a,b){return!a||c.isNone(a.layerUid)?null:c.isSome(b.graphicsView)&&a.layerUid===b.graphicsView.processor.layer.id?b.graphics:b.map.findLayerByUid(a.layerUid)}const l=t.create();g.getIntersectedFeatureBSRadius=function(a,b){return f.isObjectIntersectorResult(a)||f.isHudIntersectorResult(a)?v.getRadius(a.target.object.boundingVolumeWorldSpace.bounds):n.isLodIntersectorResult(a)?(r.getScaling(l,a.transformation),a.target.baseBoundingSphere.radius*
Math.max(l[0],l[1],l[2])):e.isI3sIntersectorResult(a)?c.applySome(y(a.target,b),d=>.5*u.diameter(d)):null};g.hasLod=function(a){return f.isObjectIntersectorResult(a)||f.isHudIntersectorResult(a)?!1:n.isLodIntersectorResult(a)?1<a.target.numLodLevels:e.isI3sIntersectorResult(a)?!0:!1};g.toGraphic=function(a,b){a=p(a,b);return c.isSome(a)&&"graphic"===a.type?a.graphic:null};g.toHit=p;g.toOwner=function(a,b){return f.isObjectIntersectorResult(a)||f.isHudIntersectorResult(a)?h(a.target?.object.metadata,
b):m.isTerrainIntersectorResult(a)?b.map?.ground:e.isPclIntersectorResult(a)||e.isI3sIntersectorResult(a)||m.isOverlayIntersectorResult(a)||e.isVoxelIntersectorResult(a)?h(a.target,b):null};Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});