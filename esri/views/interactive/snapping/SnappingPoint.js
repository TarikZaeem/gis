// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/maybe","../../../chunks/vec3f64","../../../layers/graphics/dehydratedFeatures","../../../support/elevationInfoUtils"],function(d,h,f,g,k){function m(a,b,c){if(h.isNone(a))return null;if(h.isNone(b))return f.fromValues(a.x,a.y,a.z??0);if("2d"===b.type)return f.fromValues(a.x,a.y,0);({elevationInfo:c}=c);b=k.getConvertedElevation(b,a,c,k.absoluteHeightElevationInfo)??0;return f.fromValues(a.x,a.y,b)}const n=g.makeDehydratedPoint(0,0,0,null);d.anyMapPointToSnappingPoint=
function(a,b,c){return h.isNone(a)?null:m(c.coordinateHelper.vectorToDehydratedPoint(a,n),b,c)};d.asSnappingPoint=function(a){return a};d.cloneSnappingPoint=function(a){return f.clone(a)};d.createSnappingPoint=function(a,b,c){return f.fromValues(a,b,c)};d.pointToSnappingPoint=m;d.snappingPointToDehydratedPoint=function(a,b){return g.makeDehydratedPoint(a[0],a[1],a[2],b)};d.snappingPointToSnappingOutput=function(a,b,{z:c,m:e,spatialReference:l,elevationInfo:p}){if(null==c&&null==e)return a=g.makeDehydratedPoint(a[0],
a[1],void 0,l),null!=e&&(a.m=e,a.hasM=!0),a;if(h.isNone(b)||"2d"===b.type)return a=g.makeDehydratedPoint(a[0],a[1],c,l),null!=e&&(a.m=e,a.hasM=!0),a;b=k.getConvertedElevationFromVector(b,a,l,k.absoluteHeightElevationInfo,p)??0;a=g.makeDehydratedPoint(a[0],a[1],b,l);null!=e&&(a.m=e,a.hasM=!0);return a};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});