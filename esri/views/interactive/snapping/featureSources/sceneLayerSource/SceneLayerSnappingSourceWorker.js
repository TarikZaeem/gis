// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/support/lineSegment":function(){define("exports ../../core/mathUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(b,e,Z,C,B,v){function p(y){return y?{origin:B.clone(y.origin),vector:B.clone(y.vector)}:{origin:B.create(),vector:B.create()}}function f(y,d){const q=r.get();q.origin=y;q.vector=d;return q}function g(y,d,q=p()){C.copy(q.origin,y);C.copy(q.vector,d);return q}function k(y,d){d=C.subtract(v.sv3d.get(),d,y.origin);
var q=C.dot(y.vector,d);const x=C.dot(y.vector,y.vector);q=e.clamp(q/x,0,1);y=C.subtract(v.sv3d.get(),C.scale(v.sv3d.get(),y.vector,q),d);return C.dot(y,y)}function D(y,d,q,x,L){const {vector:O,origin:P}=y;d=C.subtract(v.sv3d.get(),d,P);d=C.dot(O,d)/C.squaredLength(O);C.scale(L,O,e.clamp(d,q,x));return C.add(L,L,y.origin)}function M(y,d,q,x){const L=y.origin;var O=C.add(v.sv3d.get(),L,y.vector);y=d.origin;var P=C.add(v.sv3d.get(),y,d.vector),E=v.sv3d.get();d=v.sv3d.get();E[0]=L[0]-y[0];E[1]=L[1]-
y[1];E[2]=L[2]-y[2];d[0]=P[0]-y[0];d[1]=P[1]-y[1];d[2]=P[2]-y[2];if(1E-6>Math.abs(d[0])&&1E-6>Math.abs(d[1])&&1E-6>Math.abs(d[2]))return!1;P=v.sv3d.get();P[0]=O[0]-L[0];P[1]=O[1]-L[1];P[2]=O[2]-L[2];if(1E-6>Math.abs(P[0])&&1E-6>Math.abs(P[1])&&1E-6>Math.abs(P[2]))return!1;O=E[0]*d[0]+E[1]*d[1]+E[2]*d[2];var t=d[0]*P[0]+d[1]*P[1]+d[2]*P[2];const A=d[0]*d[0]+d[1]*d[1]+d[2]*d[2],N=(P[0]*P[0]+P[1]*P[1]+P[2]*P[2])*A-t*t;if(1E-6>Math.abs(N))return!1;E=(O*t-(E[0]*P[0]+E[1]*P[1]+E[2]*P[2])*A)/N;O=(O+t*E)/
A;q&&(E=e.clamp(E,0,1),O=e.clamp(O,0,1));q=v.sv3d.get();t=v.sv3d.get();q[0]=L[0]+E*P[0];q[1]=L[1]+E*P[1];q[2]=L[2]+E*P[2];t[0]=y[0]+O*d[0];t[1]=y[1]+O*d[1];t[2]=y[2]+O*d[2];x.tA=E;x.tB=O;x.pA=q;x.pB=t;x.distance2=C.squaredDistance(q,t);return!0}const G={tA:0,tB:0,pA:B.create(),pB:B.create(),distance2:0},r=new Z.ObjectStack(()=>p());b.closestLineSegmentDistance2=function(y,d){return M(y,d,!0,G)?G.distance2:null};b.closestLineSegmentPoint=function(y,d,q){return M(y,d,!0,G)?(C.copy(q,G.pA),!0):!1};b.closestRayDistance2=
function(y,d){if(M(y,f(d.origin,d.direction),!1,G)){const {tA:q,pB:x,distance2:L}=G;if(0<=q&&1>=q)return L;if(0>q)return C.squaredDistance(y.origin,x);if(1<q)return C.squaredDistance(C.add(v.sv3d.get(),y.origin,y.vector),x)}return null};b.copy=function(y,d=p()){return g(y.origin,y.vector,d)};b.create=p;b.distance=function(y,d){return Math.sqrt(k(y,d))};b.distance2=k;b.fromPoints=function(y,d,q=p()){C.copy(q.origin,y);C.subtract(q.vector,d,y);return q};b.fromValues=g;b.pointAt=function(y,d,q){return C.add(q,
y.origin,C.scale(q,y.vector,d))};b.projectPoint=function(y,d,q){return D(y,d,0,1,q)};b.projectPointClamp=D;b.wrap=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/ObjectStack":function(){define(["exports","./nextTick"],function(b,e){let Z=function(){function C(v){this._allocator=v;this._items=[];this._itemsPtr=0;this._grow()}var B=C.prototype;B.get=function(){0===this._itemsPtr&&e.nextTick(()=>this._reset());this._itemsPtr===this._items.length&&this._grow();return this._items[this._itemsPtr++]};
B._reset=function(){this._items.length=Math.min(Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3072),this._items.length);this._itemsPtr=0};B._grow=function(){for(let v=0;v<Math.max(8,Math.min(this._items.length,1024));v++)this._items.push(this._allocator())};return C}();b.ObjectStack=Z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vectorStacks":function(){define(["exports","../../core/VectorStack"],function(b,e){const Z=e.VectorStack.createVec2f64(),
C=e.VectorStack.createVec3f64(),B=e.VectorStack.createVec4f64(),v=e.VectorStack.createMat3f64(),p=e.VectorStack.createMat4f64();e=e.VectorStack.createQuatf64();b.sm3d=v;b.sm4d=p;b.sq4d=e;b.sv2d=Z;b.sv3d=C;b.sv4d=B;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/VectorStack":function(){define("exports ../chunks/_rollupPluginBabelHelpers ./byteSizeEstimations ./nextTick ../chunks/mat3f64 ../chunks/mat4f64 ../chunks/quatf64 ../chunks/vec2f64 ../chunks/vec3f64 ../chunks/vec4f64".split(" "),
function(b,e,Z,C,B,v,p,f,g,k){let D=function(){function G(y,d,q){this._itemByteSize=y;this._itemCreate=d;this._buffers=[];this._items=[];this._itemsPtr=0;this._itemsPerBuffer=Math.ceil(q/this._itemByteSize)}var r=G.prototype;r.get=function(){0===this._itemsPtr&&C.nextTick(()=>this._reset());const y=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=y;){const d=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let q=0;q<this._itemsPerBuffer;++q)this._items.push(this._itemCreate(d,
q*this._itemByteSize));this._buffers.push(d)}return this._items[this._itemsPtr++]};r._reset=function(){const y=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>y;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0};G.createVec2f64=function(y=M){return new G(16,f.createView,y)};G.createVec3f64=function(y=M){return new G(24,g.createView,y)};G.createVec4f64=function(y=M){return new G(32,k.createView,y)};G.createMat3f64=function(y=
M){return new G(72,B.createView,y)};G.createMat4f64=function(y=M){return new G(128,v.createView,y)};G.createQuatf64=function(y=M){return new G(32,p.createView,y)};e._createClass(G,[{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}]);return G}();const M=4*Z.ByteSizeUnit.KILOBYTES;b.VectorStack=D;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(b){function e(B){return 32+
B.length}function Z(B){if(!B)return 0;if(Array.isArray(B)){var v=B.length;if(0===v||"number"===typeof B[0])B=32+8*v;else{var p=32;for(let f=0;f<v;f++)p+=C(B[f]);B=p}return B}p=32;for(v in B)B.hasOwnProperty(v)&&(p+=C(B[v]));return p}function C(B){switch(typeof B){case "object":return Z(B);case "string":return e(B);case "number":return 16;case "boolean":return 4;default:return 8}}b.ByteSizeUnit=void 0;(function(B){B[B.KILOBYTES=1024]="KILOBYTES";B[B.MEGABYTES=1048576]="MEGABYTES";B[B.GIGABYTES=1073741824]=
"GIGABYTES"})(b.ByteSizeUnit||(b.ByteSizeUnit={}));b.estimateAttributesObjectSize=function(B){if(!B)return 0;let v=32;for(const p in B)if(B.hasOwnProperty(p)){const f=B[p];switch(typeof f){case "string":v+=e(f);break;case "number":v+=16;break;case "boolean":v+=4}}return v};b.estimateFixedArraySize=function(B,v){return 32+B.length*v};b.estimateNestedObjectSize=Z;b.estimateNumberByteSize=function(B){return 16};b.estimateStringByteSize=e;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/chunks/mat3f64":function(){define(["exports"],function(b){function e(){return[1,0,0,0,1,0,0,0,1]}function Z(p){return[p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8]]}function C(p,f,g,k,D,M,G,r,y){return[p,f,g,k,D,M,G,r,y]}function B(p,f){return new Float64Array(p,f,9)}const v=Object.freeze(Object.defineProperty({__proto__:null,clone:Z,create:e,createView:B,fromValues:C},Symbol.toStringTag,{value:"Module"}));b.clone=Z;b.create=e;b.createView=B;b.fromValues=C;b.mat3f64=v})},"esri/chunks/mat4f64":function(){define(["exports"],
function(b){function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Z(f){return[f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]]}function C(f,g,k,D,M,G,r,y,d,q,x,L,O,P,E,t){return[f,g,k,D,M,G,r,y,d,q,x,L,O,P,E,t]}function B(f,g){return new Float64Array(f,g,16)}const v=e(),p=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,clone:Z,create:e,createView:B,fromValues:C},Symbol.toStringTag,{value:"Module"}));b.IDENTITY=v;b.clone=Z;b.create=e;b.createView=
B;b.fromValues=C;b.mat4f64=p})},"esri/chunks/quatf64":function(){define(["exports"],function(b){function e(){return[0,0,0,1]}function Z(f){return[f[0],f[1],f[2],f[3]]}function C(f,g,k,D){return[f,g,k,D]}function B(f,g){return new Float64Array(f,g,4)}const v=e(),p=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:v,clone:Z,create:e,createView:B,fromValues:C},Symbol.toStringTag,{value:"Module"}));b.IDENTITY=v;b.clone=Z;b.create=e;b.createView=B;b.fromValues=C;b.quatf64=p})},"esri/chunks/vec2f64":function(){define(["exports"],
function(b){function e(){return[0,0]}function Z(d){return[d[0],d[1]]}function C(d,q){return[d,q]}function B(d){const q=[0,0],x=Math.min(2,d.length);for(let L=0;L<x;++L)q[L]=d[L];return q}function v(d,q){return new Float64Array(d,q,2)}function p(){return[0,0]}function f(){return[1,1]}function g(){return[1,0]}function k(){return[0,1]}const D=[0,0],M=[1,1],G=[1,0],r=[0,1],y=Object.freeze(Object.defineProperty({__proto__:null,ONES:M,UNIT_X:G,UNIT_Y:r,ZEROS:D,clone:Z,create:e,createView:v,fromArray:B,
fromValues:C,ones:f,unitX:g,unitY:k,zeros:p},Symbol.toStringTag,{value:"Module"}));b.ONES=M;b.UNIT_X=G;b.UNIT_Y=r;b.ZEROS=D;b.clone=Z;b.create=e;b.createView=v;b.fromArray=B;b.fromValues=C;b.ones=f;b.unitX=g;b.unitY=k;b.vec2f64=y;b.zeros=p})},"esri/chunks/vec4f64":function(){define(["exports"],function(b){function e(){return[0,0,0,0]}function Z(O){return[O[0],O[1],O[2],O[3]]}function C(O,P,E,t){return[O,P,E,t]}function B(O){const P=e(),E=Math.min(4,O.length);for(let t=0;t<E;++t)P[t]=O[t];return P}
function v(O,P){return new Float64Array(O,P,4)}function p(){return e()}function f(){return[1,1,1,1]}function g(){return[1,0,0,0]}function k(){return[0,1,0,0]}function D(){return[0,0,1,0]}function M(){return[0,0,0,1]}const G=e(),r=f(),y=g(),d=k(),q=D(),x=M(),L=Object.freeze(Object.defineProperty({__proto__:null,ONES:r,UNIT_W:x,UNIT_X:y,UNIT_Y:d,UNIT_Z:q,ZEROS:G,clone:Z,create:e,createView:v,fromArray:B,fromValues:C,ones:f,unitW:M,unitX:g,unitY:k,unitZ:D,zeros:p},Symbol.toStringTag,{value:"Module"}));
b.ONES=r;b.UNIT_W=x;b.UNIT_X=y;b.UNIT_Y=d;b.UNIT_Z=q;b.ZEROS=G;b.clone=Z;b.create=e;b.createView=v;b.fromArray=B;b.fromValues=C;b.ones=f;b.unitW=M;b.unitX=g;b.unitY=k;b.unitZ=D;b.vec4f64=L;b.zeros=p})},"esri/chunks/sphere":function(){define("exports ../core/has ../core/Logger ../core/mathUtils ../core/maybe ./mat4 ./vec3 ./vec3f64 ./vec4 ./vec4f64 ../geometry/support/Axis ../geometry/support/ray ../geometry/support/vector ../geometry/support/vectorStacks".split(" "),function(b,e,Z,C,B,v,p,f,g,k,D,
M,G,r){function y(){return k.create()}function d(n,W=y()){return g.copy(W,n)}function q(n,W){return k.fromValues(n[0],n[1],n[2],W)}function x(n){return n}function L(n){n[0]=n[1]=n[2]=n[3]=0}function O(n,W){n[0]=n[1]=n[2]=0;n[3]=W;return n}function P(n){return n[3]}function E(n){return n}function t(n,W,za,Ea){return k.fromValues(n,W,za,Ea)}function A(n,W,za){n!==za&&p.copy(za,n);za[3]=n[3]+W;return za}function N(n,W,za){Z.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported");
return n===za?za:d(n,za)}function la(n,W,za){if(B.isNone(W))return!1;const {origin:Ea,direction:Qa}=W;var Oa=V;Oa[0]=Ea[0]-n[0];Oa[1]=Ea[1]-n[1];Oa[2]=Ea[2]-n[2];W=Qa[0]*Qa[0]+Qa[1]*Qa[1]+Qa[2]*Qa[2];if(0===W)return!1;const bb=2*(Qa[0]*Oa[0]+Qa[1]*Oa[1]+Qa[2]*Oa[2]);n=bb*bb-4*W*(Oa[0]*Oa[0]+Oa[1]*Oa[1]+Oa[2]*Oa[2]-n[3]*n[3]);if(0>n)return!1;Oa=Math.sqrt(n);n=(-bb-Oa)/(2*W);W=(-bb+Oa)/(2*W);if(0>n||W<n&&0<W)n=W;if(0>n)return!1;za&&(za[0]=Ea[0]+Qa[0]*n,za[1]=Ea[1]+Qa[1]*n,za[2]=Ea[2]+Qa[2]*n);return!0}
function aa(n,W){return la(n,W,null)}function I(n,W,za){if(la(n,W,za))return za;n=K(n,W,r.sv3d.get());p.add(za,W.origin,p.scale(r.sv3d.get(),W.direction,p.distance(W.origin,n)/p.length(W.direction)));return za}function K(n,W,za){const Ea=r.sv3d.get(),Qa=r.sm4d.get();p.cross(Ea,W.origin,W.direction);const Oa=n[3];p.cross(za,Ea,W.origin);p.scale(za,za,1/p.length(za)*Oa);n=J(n,W.origin);W=G.angle(W.origin,za);v.fromRotation(Qa,W+n,Ea);p.transformMat4(za,za,Qa);return za}function U(n,W,za){if(la(n,W,
za))return za;M.closestPoint(W,n,za);return T(n,za,za)}function T(n,W,za){W=p.subtract(r.sv3d.get(),W,n);W=p.scale(r.sv3d.get(),W,n[3]/p.length(W));return p.add(za,W,n)}function ca(n,W){W=p.subtract(r.sv3d.get(),W,n);W=p.squaredLength(W);return Math.sqrt(Math.abs(W-n[3]*n[3]))}function J(n,W){W=p.subtract(r.sv3d.get(),W,n);W=p.length(W);n=n[3];return C.acosClamped(n/(n+Math.abs(n-W)))}function oa(n,W,za,Ea){n=p.subtract(R,W,n);switch(za){case D.Axis.X:return za=C.cartesianToSpherical(n,R)[2],p.set(Ea,
-Math.sin(za),Math.cos(za),0);case D.Axis.Y:return n=C.cartesianToSpherical(n,R),za=n[1],n=n[2],W=Math.sin(za),p.set(Ea,-W*Math.cos(n),-W*Math.sin(n),Math.cos(za));case D.Axis.Z:return p.normalize(Ea,n)}}function ra(n,W){W=p.subtract(F,W,n);return p.length(W)-n[3]}function xa(n,W,za,Ea){const Qa=ra(n,W);n=oa(n,W,D.Axis.Z,F);za=p.scale(F,n,za-Qa);return p.add(Ea,W,za)}function ka(n,W){W=p.squaredDistance(n,W);n=n[3];return W<=n*n}const V=f.create(),R=f.create(),F=f.create();e=y();f=Object.freeze(Object.defineProperty({__proto__:null,
altitudeAt:ra,angleToSilhouette:J,axisAt:oa,clear:L,closestPoint:U,closestPointOnSilhouette:K,containsPoint:ka,copy:d,create:y,distanceToSilhouette:ca,elevate:A,fromCenterAndRadius:q,fromRadius:O,fromValues:t,getCenter:E,getRadius:P,intersectRay:la,intersectRayClosestSilhouette:I,intersectsRay:aa,projectPoint:T,setAltitudeAt:xa,setExtent:N,tmpSphere:e,wrap:x},Symbol.toStringTag,{value:"Module"}));b.altitudeAt=ra;b.angleToSilhouette=J;b.axisAt=oa;b.clear=L;b.closestPoint=U;b.closestPointOnSilhouette=
K;b.containsPoint=ka;b.copy=d;b.create=y;b.distanceToSilhouette=ca;b.elevate=A;b.fromCenterAndRadius=q;b.fromRadius=O;b.fromValues=t;b.getCenter=E;b.getRadius=P;b.intersectRay=la;b.intersectRayClosestSilhouette=I;b.intersectsRay=aa;b.projectPoint=T;b.setAltitudeAt=xa;b.setExtent=N;b.sphere=f;b.tmpSphere=e;b.wrap=x})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(b,e,Z){function C(h,u){h[0]=u[0];h[1]=u[1];h[2]=u[2];h[3]=u[3];h[4]=u[4];h[5]=u[5];h[6]=u[6];h[7]=u[7];
h[8]=u[8];h[9]=u[9];h[10]=u[10];h[11]=u[11];h[12]=u[12];h[13]=u[13];h[14]=u[14];h[15]=u[15];return h}function B(h,u,ia,pa,Ba,z,S,ha,ba,na,sa,wa,X,fa,ua,Ca,Ha){h[0]=u;h[1]=ia;h[2]=pa;h[3]=Ba;h[4]=z;h[5]=S;h[6]=ha;h[7]=ba;h[8]=na;h[9]=sa;h[10]=wa;h[11]=X;h[12]=fa;h[13]=ua;h[14]=Ca;h[15]=Ha;return h}function v(h){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function p(h,u){if(h===u){const ia=u[1],pa=u[2],Ba=u[3],z=u[6],
S=u[7],ha=u[11];h[1]=u[4];h[2]=u[8];h[3]=u[12];h[4]=ia;h[6]=u[9];h[7]=u[13];h[8]=pa;h[9]=z;h[11]=u[14];h[12]=Ba;h[13]=S;h[14]=ha}else h[0]=u[0],h[1]=u[4],h[2]=u[8],h[3]=u[12],h[4]=u[1],h[5]=u[5],h[6]=u[9],h[7]=u[13],h[8]=u[2],h[9]=u[6],h[10]=u[10],h[11]=u[14],h[12]=u[3],h[13]=u[7],h[14]=u[11],h[15]=u[15];return h}function f(h,u){g(h,u)||v(h);return h}function g(h,u){const ia=u[0],pa=u[1],Ba=u[2],z=u[3],S=u[4],ha=u[5],ba=u[6],na=u[7],sa=u[8],wa=u[9],X=u[10],fa=u[11],ua=u[12],Ca=u[13],Ha=u[14];u=u[15];
const Pa=ia*ha-pa*S,Ma=ia*ba-Ba*S,Ta=ia*na-z*S,Ua=pa*ba-Ba*ha,Ka=pa*na-z*ha,Va=Ba*na-z*ba,Da=sa*Ca-wa*ua,tb=sa*Ha-X*ua,ub=sa*u-fa*ua,pb=wa*Ha-X*Ca,c=wa*u-fa*Ca,ib=X*u-fa*Ha;let eb=Pa*ib-Ma*c+Ta*pb+Ua*ub-Ka*tb+Va*Da;if(!eb)return null;eb=1/eb;h[0]=(ha*ib-ba*c+na*pb)*eb;h[1]=(Ba*c-pa*ib-z*pb)*eb;h[2]=(Ca*Va-Ha*Ka+u*Ua)*eb;h[3]=(X*Ka-wa*Va-fa*Ua)*eb;h[4]=(ba*ub-S*ib-na*tb)*eb;h[5]=(ia*ib-Ba*ub+z*tb)*eb;h[6]=(Ha*Ta-ua*Va-u*Ma)*eb;h[7]=(sa*Va-X*Ta+fa*Ma)*eb;h[8]=(S*c-ha*ub+na*Da)*eb;h[9]=(pa*ub-ia*c-z*
Da)*eb;h[10]=(ua*Ka-Ca*Ta+u*Pa)*eb;h[11]=(wa*Ta-sa*Ka-fa*Pa)*eb;h[12]=(ha*tb-S*pb-ba*Da)*eb;h[13]=(ia*pb-pa*tb+Ba*Da)*eb;h[14]=(Ca*Ma-ua*Ua-Ha*Pa)*eb;h[15]=(sa*Ua-wa*Ma+X*Pa)*eb;return h}function k(h,u){const ia=u[0],pa=u[1],Ba=u[2],z=u[3],S=u[4],ha=u[5],ba=u[6],na=u[7],sa=u[8],wa=u[9],X=u[10],fa=u[11],ua=u[12],Ca=u[13],Ha=u[14];u=u[15];h[0]=ha*(X*u-fa*Ha)-wa*(ba*u-na*Ha)+Ca*(ba*fa-na*X);h[1]=-(pa*(X*u-fa*Ha)-wa*(Ba*u-z*Ha)+Ca*(Ba*fa-z*X));h[2]=pa*(ba*u-na*Ha)-ha*(Ba*u-z*Ha)+Ca*(Ba*na-z*ba);h[3]=
-(pa*(ba*fa-na*X)-ha*(Ba*fa-z*X)+wa*(Ba*na-z*ba));h[4]=-(S*(X*u-fa*Ha)-sa*(ba*u-na*Ha)+ua*(ba*fa-na*X));h[5]=ia*(X*u-fa*Ha)-sa*(Ba*u-z*Ha)+ua*(Ba*fa-z*X);h[6]=-(ia*(ba*u-na*Ha)-S*(Ba*u-z*Ha)+ua*(Ba*na-z*ba));h[7]=ia*(ba*fa-na*X)-S*(Ba*fa-z*X)+sa*(Ba*na-z*ba);h[8]=S*(wa*u-fa*Ca)-sa*(ha*u-na*Ca)+ua*(ha*fa-na*wa);h[9]=-(ia*(wa*u-fa*Ca)-sa*(pa*u-z*Ca)+ua*(pa*fa-z*wa));h[10]=ia*(ha*u-na*Ca)-S*(pa*u-z*Ca)+ua*(pa*na-z*ha);h[11]=-(ia*(ha*fa-na*wa)-S*(pa*fa-z*wa)+sa*(pa*na-z*ha));h[12]=-(S*(wa*Ha-X*Ca)-sa*
(ha*Ha-ba*Ca)+ua*(ha*X-ba*wa));h[13]=ia*(wa*Ha-X*Ca)-sa*(pa*Ha-Ba*Ca)+ua*(pa*X-Ba*wa);h[14]=-(ia*(ha*Ha-ba*Ca)-S*(pa*Ha-Ba*Ca)+ua*(pa*ba-Ba*ha));h[15]=ia*(ha*X-ba*wa)-S*(pa*X-Ba*wa)+sa*(pa*ba-Ba*ha);return h}function D(h){const u=h[0],ia=h[1],pa=h[2],Ba=h[3],z=h[4],S=h[5],ha=h[6],ba=h[7],na=h[8],sa=h[9],wa=h[10],X=h[11],fa=h[12],ua=h[13],Ca=h[14];h=h[15];return(u*S-ia*z)*(wa*h-X*Ca)-(u*ha-pa*z)*(sa*h-X*ua)+(u*ba-Ba*z)*(sa*Ca-wa*ua)+(ia*ha-pa*S)*(na*h-X*fa)-(ia*ba-Ba*S)*(na*Ca-wa*fa)+(pa*ba-Ba*ha)*
(na*ua-sa*fa)}function M(h,u,ia){const pa=u[0],Ba=u[1],z=u[2],S=u[3],ha=u[4],ba=u[5],na=u[6],sa=u[7],wa=u[8],X=u[9],fa=u[10],ua=u[11],Ca=u[12],Ha=u[13],Pa=u[14];u=u[15];let Ma=ia[0],Ta=ia[1],Ua=ia[2],Ka=ia[3];h[0]=Ma*pa+Ta*ha+Ua*wa+Ka*Ca;h[1]=Ma*Ba+Ta*ba+Ua*X+Ka*Ha;h[2]=Ma*z+Ta*na+Ua*fa+Ka*Pa;h[3]=Ma*S+Ta*sa+Ua*ua+Ka*u;Ma=ia[4];Ta=ia[5];Ua=ia[6];Ka=ia[7];h[4]=Ma*pa+Ta*ha+Ua*wa+Ka*Ca;h[5]=Ma*Ba+Ta*ba+Ua*X+Ka*Ha;h[6]=Ma*z+Ta*na+Ua*fa+Ka*Pa;h[7]=Ma*S+Ta*sa+Ua*ua+Ka*u;Ma=ia[8];Ta=ia[9];Ua=ia[10];Ka=ia[11];
h[8]=Ma*pa+Ta*ha+Ua*wa+Ka*Ca;h[9]=Ma*Ba+Ta*ba+Ua*X+Ka*Ha;h[10]=Ma*z+Ta*na+Ua*fa+Ka*Pa;h[11]=Ma*S+Ta*sa+Ua*ua+Ka*u;Ma=ia[12];Ta=ia[13];Ua=ia[14];Ka=ia[15];h[12]=Ma*pa+Ta*ha+Ua*wa+Ka*Ca;h[13]=Ma*Ba+Ta*ba+Ua*X+Ka*Ha;h[14]=Ma*z+Ta*na+Ua*fa+Ka*Pa;h[15]=Ma*S+Ta*sa+Ua*ua+Ka*u;return h}function G(h,u,ia){const pa=ia[0],Ba=ia[1];ia=ia[2];if(u===h)h[12]=u[0]*pa+u[4]*Ba+u[8]*ia+u[12],h[13]=u[1]*pa+u[5]*Ba+u[9]*ia+u[13],h[14]=u[2]*pa+u[6]*Ba+u[10]*ia+u[14],h[15]=u[3]*pa+u[7]*Ba+u[11]*ia+u[15];else{const z=u[0],
S=u[1],ha=u[2],ba=u[3],na=u[4],sa=u[5],wa=u[6],X=u[7],fa=u[8],ua=u[9],Ca=u[10],Ha=u[11];h[0]=z;h[1]=S;h[2]=ha;h[3]=ba;h[4]=na;h[5]=sa;h[6]=wa;h[7]=X;h[8]=fa;h[9]=ua;h[10]=Ca;h[11]=Ha;h[12]=z*pa+na*Ba+fa*ia+u[12];h[13]=S*pa+sa*Ba+ua*ia+u[13];h[14]=ha*pa+wa*Ba+Ca*ia+u[14];h[15]=ba*pa+X*Ba+Ha*ia+u[15]}return h}function r(h,u,ia){const pa=ia[0],Ba=ia[1];ia=ia[2];h[0]=u[0]*pa;h[1]=u[1]*pa;h[2]=u[2]*pa;h[3]=u[3]*pa;h[4]=u[4]*Ba;h[5]=u[5]*Ba;h[6]=u[6]*Ba;h[7]=u[7]*Ba;h[8]=u[8]*ia;h[9]=u[9]*ia;h[10]=u[10]*
ia;h[11]=u[11]*ia;h[12]=u[12];h[13]=u[13];h[14]=u[14];h[15]=u[15];return h}function y(h,u,ia,pa){let Ba=pa[0],z=pa[1];pa=pa[2];let S=Math.sqrt(Ba*Ba+z*z+pa*pa);var ha=void 0,ba=void 0;let na=void 0,sa=void 0,wa=void 0,X=void 0,fa=void 0,ua=void 0,Ca=void 0,Ha=void 0,Pa=void 0,Ma=void 0,Ta=void 0,Ua=void 0,Ka=void 0,Va=void 0,Da=void 0,tb=void 0,ub=void 0,pb=void 0,c=void 0,ib=void 0;ba=ha=void 0;if(S<Z.getEpsilon())return null;S=1/S;Ba*=S;z*=S;pa*=S;ha=Math.sin(ia);ba=Math.cos(ia);na=1-ba;sa=u[0];
wa=u[1];X=u[2];fa=u[3];ua=u[4];Ca=u[5];Ha=u[6];Pa=u[7];Ma=u[8];Ta=u[9];Ua=u[10];Ka=u[11];Va=Ba*Ba*na+ba;Da=z*Ba*na+pa*ha;tb=pa*Ba*na-z*ha;ub=Ba*z*na-pa*ha;pb=z*z*na+ba;c=pa*z*na+Ba*ha;ib=Ba*pa*na+z*ha;ha=z*pa*na-Ba*ha;ba=pa*pa*na+ba;h[0]=sa*Va+ua*Da+Ma*tb;h[1]=wa*Va+Ca*Da+Ta*tb;h[2]=X*Va+Ha*Da+Ua*tb;h[3]=fa*Va+Pa*Da+Ka*tb;h[4]=sa*ub+ua*pb+Ma*c;h[5]=wa*ub+Ca*pb+Ta*c;h[6]=X*ub+Ha*pb+Ua*c;h[7]=fa*ub+Pa*pb+Ka*c;h[8]=sa*ib+ua*ha+Ma*ba;h[9]=wa*ib+Ca*ha+Ta*ba;h[10]=X*ib+Ha*ha+Ua*ba;h[11]=fa*ib+Pa*ha+Ka*
ba;u!==h&&(h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15]);return h}function d(h,u,ia){const pa=Math.sin(ia);ia=Math.cos(ia);const Ba=u[4],z=u[5],S=u[6],ha=u[7],ba=u[8],na=u[9],sa=u[10],wa=u[11];u!==h&&(h[0]=u[0],h[1]=u[1],h[2]=u[2],h[3]=u[3],h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15]);h[4]=Ba*ia+ba*pa;h[5]=z*ia+na*pa;h[6]=S*ia+sa*pa;h[7]=ha*ia+wa*pa;h[8]=ba*ia-Ba*pa;h[9]=na*ia-z*pa;h[10]=sa*ia-S*pa;h[11]=wa*ia-ha*pa;return h}function q(h,u,ia){const pa=Math.sin(ia);ia=Math.cos(ia);const Ba=
u[0],z=u[1],S=u[2],ha=u[3],ba=u[8],na=u[9],sa=u[10],wa=u[11];u!==h&&(h[4]=u[4],h[5]=u[5],h[6]=u[6],h[7]=u[7],h[12]=u[12],h[13]=u[13],h[14]=u[14],h[15]=u[15]);h[0]=Ba*ia-ba*pa;h[1]=z*ia-na*pa;h[2]=S*ia-sa*pa;h[3]=ha*ia-wa*pa;h[8]=Ba*pa+ba*ia;h[9]=z*pa+na*ia;h[10]=S*pa+sa*ia;h[11]=ha*pa+wa*ia;return h}function x(h,u,ia){const pa=Math.sin(ia);ia=Math.cos(ia);const Ba=u[0],z=u[1],S=u[2],ha=u[3],ba=u[4],na=u[5],sa=u[6],wa=u[7];u!==h&&(h[8]=u[8],h[9]=u[9],h[10]=u[10],h[11]=u[11],h[12]=u[12],h[13]=u[13],
h[14]=u[14],h[15]=u[15]);h[0]=Ba*ia+ba*pa;h[1]=z*ia+na*pa;h[2]=S*ia+sa*pa;h[3]=ha*ia+wa*pa;h[4]=ba*ia-Ba*pa;h[5]=na*ia-z*pa;h[6]=sa*ia-S*pa;h[7]=wa*ia-ha*pa;return h}function L(h,u){h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=u[0];h[13]=u[1];h[14]=u[2];h[15]=1;return h}function O(h,u){h[0]=u[0];h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=u[1];h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=u[2];h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function P(h,u,ia){if(0===u)return v(h);
let pa=ia[0],Ba=ia[1];ia=ia[2];let z=Math.sqrt(pa*pa+Ba*Ba+ia*ia),S=void 0,ha=void 0,ba=void 0;if(z<Z.getEpsilon())return null;z=1/z;pa*=z;Ba*=z;ia*=z;S=Math.sin(u);ha=Math.cos(u);ba=1-ha;h[0]=pa*pa*ba+ha;h[1]=Ba*pa*ba+ia*S;h[2]=ia*pa*ba-Ba*S;h[3]=0;h[4]=pa*Ba*ba-ia*S;h[5]=Ba*Ba*ba+ha;h[6]=ia*Ba*ba+pa*S;h[7]=0;h[8]=pa*ia*ba+Ba*S;h[9]=Ba*ia*ba-pa*S;h[10]=ia*ia*ba+ha;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function E(h,u){const ia=Math.sin(u);u=Math.cos(u);h[0]=1;h[1]=0;h[2]=0;h[3]=0;h[4]=
0;h[5]=u;h[6]=ia;h[7]=0;h[8]=0;h[9]=-ia;h[10]=u;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function t(h,u){const ia=Math.sin(u);u=Math.cos(u);h[0]=u;h[1]=0;h[2]=-ia;h[3]=0;h[4]=0;h[5]=1;h[6]=0;h[7]=0;h[8]=ia;h[9]=0;h[10]=u;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function A(h,u){const ia=Math.sin(u);u=Math.cos(u);h[0]=u;h[1]=ia;h[2]=0;h[3]=0;h[4]=-ia;h[5]=u;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=1;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function N(h,u,ia){var pa=u[0],Ba=u[1],z=u[2],
S=u[3],ha=pa+pa,ba=Ba+Ba;const na=z+z;u=pa*ha;const sa=pa*ba;pa*=na;const wa=Ba*ba;Ba*=na;z*=na;ha*=S;ba*=S;S*=na;h[0]=1-(wa+z);h[1]=sa+S;h[2]=pa-ba;h[3]=0;h[4]=sa-S;h[5]=1-(u+z);h[6]=Ba+ha;h[7]=0;h[8]=pa+ba;h[9]=Ba-ha;h[10]=1-(u+wa);h[11]=0;h[12]=ia[0];h[13]=ia[1];h[14]=ia[2];h[15]=1;return h}function la(h,u){const ia=vb,pa=-u[0],Ba=-u[1],z=-u[2],S=u[3],ha=u[4],ba=u[5],na=u[6],sa=u[7],wa=pa*pa+Ba*Ba+z*z+S*S;0<wa?(ia[0]=2*(ha*S+sa*pa+ba*z-na*Ba)/wa,ia[1]=2*(ba*S+sa*Ba+na*pa-ha*z)/wa,ia[2]=2*(na*S+
sa*z+ha*Ba-ba*pa)/wa):(ia[0]=2*(ha*S+sa*pa+ba*z-na*Ba),ia[1]=2*(ba*S+sa*Ba+na*pa-ha*z),ia[2]=2*(na*S+sa*z+ha*Ba-ba*pa));N(h,u,ia);return h}function aa(h,u){h[0]=u[12];h[1]=u[13];h[2]=u[14];return h}function I(h,u){const ia=u[0],pa=u[1],Ba=u[2],z=u[4],S=u[5],ha=u[6],ba=u[8],na=u[9];u=u[10];h[0]=Math.sqrt(ia*ia+pa*pa+Ba*Ba);h[1]=Math.sqrt(z*z+S*S+ha*ha);h[2]=Math.sqrt(ba*ba+na*na+u*u);return h}function K(h,u){const ia=u[0]+u[5]+u[10];let pa=0;0<ia?(pa=2*Math.sqrt(ia+1),h[3]=.25*pa,h[0]=(u[6]-u[9])/
pa,h[1]=(u[8]-u[2])/pa,h[2]=(u[1]-u[4])/pa):u[0]>u[5]&&u[0]>u[10]?(pa=2*Math.sqrt(1+u[0]-u[5]-u[10]),h[3]=(u[6]-u[9])/pa,h[0]=.25*pa,h[1]=(u[1]+u[4])/pa,h[2]=(u[8]+u[2])/pa):u[5]>u[10]?(pa=2*Math.sqrt(1+u[5]-u[0]-u[10]),h[3]=(u[8]-u[2])/pa,h[0]=(u[1]+u[4])/pa,h[1]=.25*pa,h[2]=(u[6]+u[9])/pa):(pa=2*Math.sqrt(1+u[10]-u[0]-u[5]),h[3]=(u[1]-u[4])/pa,h[0]=(u[8]+u[2])/pa,h[1]=(u[6]+u[9])/pa,h[2]=.25*pa);return h}function U(h,u,ia,pa){var Ba=u[0],z=u[1],S=u[2],ha=u[3],ba=Ba+Ba,na=z+z,sa=S+S;u=Ba*ba;const wa=
Ba*na;Ba*=sa;const X=z*na;z*=sa;S*=sa;ba*=ha;na*=ha;ha*=sa;sa=pa[0];const fa=pa[1];pa=pa[2];h[0]=(1-(X+S))*sa;h[1]=(wa+ha)*sa;h[2]=(Ba-na)*sa;h[3]=0;h[4]=(wa-ha)*fa;h[5]=(1-(u+S))*fa;h[6]=(z+ba)*fa;h[7]=0;h[8]=(Ba+na)*pa;h[9]=(z-ba)*pa;h[10]=(1-(u+X))*pa;h[11]=0;h[12]=ia[0];h[13]=ia[1];h[14]=ia[2];h[15]=1;return h}function T(h,u,ia,pa,Ba){var z=u[0],S=u[1],ha=u[2],ba=u[3],na=z+z,sa=S+S,wa=ha+ha;u=z*na;var X=z*sa,fa=z*wa;z=S*sa;S*=wa;var ua=ha*wa;ha=ba*na;sa*=ba;const Ca=ba*wa;var Ha=pa[0],Pa=pa[1];
wa=pa[2];pa=Ba[0];ba=Ba[1];Ba=Ba[2];na=(1-(z+ua))*Ha;const Ma=(X+Ca)*Ha;Ha*=fa-sa;X=(X-Ca)*Pa;ua=(1-(u+ua))*Pa;Pa*=S+ha;fa=(fa+sa)*wa;S=(S-ha)*wa;u=(1-(u+z))*wa;h[0]=na;h[1]=Ma;h[2]=Ha;h[3]=0;h[4]=X;h[5]=ua;h[6]=Pa;h[7]=0;h[8]=fa;h[9]=S;h[10]=u;h[11]=0;h[12]=ia[0]+pa-(na*pa+X*ba+fa*Ba);h[13]=ia[1]+ba-(Ma*pa+ua*ba+S*Ba);h[14]=ia[2]+Ba-(Ha*pa+Pa*ba+u*Ba);h[15]=1;return h}function ca(h,u){var ia=u[0],pa=u[1],Ba=u[2];u=u[3];var z=ia+ia,S=pa+pa;const ha=Ba+Ba;ia*=z;const ba=pa*z;pa*=S;const na=Ba*z,sa=
Ba*S;Ba*=ha;z*=u;S*=u;u*=ha;h[0]=1-pa-Ba;h[1]=ba+u;h[2]=na-S;h[3]=0;h[4]=ba-u;h[5]=1-ia-Ba;h[6]=sa+z;h[7]=0;h[8]=na+S;h[9]=sa-z;h[10]=1-ia-pa;h[11]=0;h[12]=0;h[13]=0;h[14]=0;h[15]=1;return h}function J(h,u,ia,pa,Ba,z,S){const ha=1/(ia-u),ba=1/(Ba-pa),na=1/(z-S);h[0]=2*z*ha;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2*z*ba;h[6]=0;h[7]=0;h[8]=(ia+u)*ha;h[9]=(Ba+pa)*ba;h[10]=(S+z)*na;h[11]=-1;h[12]=0;h[13]=0;h[14]=S*z*2*na;h[15]=0;return h}function oa(h,u,ia,pa,Ba){u=1/Math.tan(u/2);let z=void 0;h[0]=u/ia;h[1]=
0;h[2]=0;h[3]=0;h[4]=0;h[5]=u;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[11]=-1;h[12]=0;h[13]=0;h[15]=0;null!=Ba&&Infinity!==Ba?(z=1/(pa-Ba),h[10]=(Ba+pa)*z,h[14]=2*Ba*pa*z):(h[10]=-1,h[14]=-2*pa);return h}function ra(h,u,ia,pa){const Ba=Math.tan(u.upDegrees*Math.PI/180),z=Math.tan(u.downDegrees*Math.PI/180),S=Math.tan(u.leftDegrees*Math.PI/180);u=Math.tan(u.rightDegrees*Math.PI/180);const ha=2/(S+u),ba=2/(Ba+z);h[0]=ha;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=ba;h[6]=0;h[7]=0;h[8]=-((S-u)*ha*.5);h[9]=(Ba-z)*ba*.5;h[10]=
pa/(ia-pa);h[11]=-1;h[12]=0;h[13]=0;h[14]=pa*ia/(ia-pa);h[15]=0;return h}function xa(h,u,ia,pa,Ba,z,S){const ha=1/(u-ia),ba=1/(pa-Ba),na=1/(z-S);h[0]=-2*ha;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=-2*ba;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=2*na;h[11]=0;h[12]=(u+ia)*ha;h[13]=(Ba+pa)*ba;h[14]=(S+z)*na;h[15]=1;return h}function ka(h,u,ia,pa){var Ba=void 0;let z=void 0;var S=void 0,ha=void 0;let ba=void 0,na=void 0;var sa=void 0,wa=void 0;let X=void 0,fa=void 0;const ua=u[0],Ca=u[1];u=u[2];S=pa[0];ha=pa[1];pa=pa[2];
sa=ia[0];wa=ia[1];ia=ia[2];Ba=Z.getEpsilon();if(Math.abs(ua-sa)<Ba&&Math.abs(Ca-wa)<Ba&&Math.abs(u-ia)<Ba)return v(h);sa=ua-sa;wa=Ca-wa;X=u-ia;fa=1/Math.sqrt(sa*sa+wa*wa+X*X);sa*=fa;wa*=fa;X*=fa;Ba=ha*X-pa*wa;z=pa*sa-S*X;S=S*wa-ha*sa;(fa=Math.sqrt(Ba*Ba+z*z+S*S))?(fa=1/fa,Ba*=fa,z*=fa,S*=fa):S=z=Ba=0;ha=wa*S-X*z;ba=X*Ba-sa*S;na=sa*z-wa*Ba;(fa=Math.sqrt(ha*ha+ba*ba+na*na))?(fa=1/fa,ha*=fa,ba*=fa,na*=fa):na=ba=ha=0;h[0]=Ba;h[1]=ha;h[2]=sa;h[3]=0;h[4]=z;h[5]=ba;h[6]=wa;h[7]=0;h[8]=S;h[9]=na;h[10]=X;
h[11]=0;h[12]=-(Ba*ua+z*Ca+S*u);h[13]=-(ha*ua+ba*Ca+na*u);h[14]=-(sa*ua+wa*Ca+X*u);h[15]=1;return h}function V(h,u,ia,pa){const Ba=u[0],z=u[1];u=u[2];var S=pa[0];const ha=pa[1];var ba=pa[2];pa=Ba-ia[0];let na=z-ia[1];ia=u-ia[2];let sa=pa*pa+na*na+ia*ia;0<sa&&(sa=1/Math.sqrt(sa),pa*=sa,na*=sa,ia*=sa);let wa=ha*ia-ba*na;ba=ba*pa-S*ia;S=S*na-ha*pa;sa=wa*wa+ba*ba+S*S;0<sa&&(sa=1/Math.sqrt(sa),wa*=sa,ba*=sa,S*=sa);h[0]=wa;h[1]=ba;h[2]=S;h[3]=0;h[4]=na*S-ia*ba;h[5]=ia*wa-pa*S;h[6]=pa*ba-na*wa;h[7]=0;h[8]=
pa;h[9]=na;h[10]=ia;h[11]=0;h[12]=Ba;h[13]=z;h[14]=u;h[15]=1;return h}function R(h){return"mat4("+h[0]+", "+h[1]+", "+h[2]+", "+h[3]+", "+h[4]+", "+h[5]+", "+h[6]+", "+h[7]+", "+h[8]+", "+h[9]+", "+h[10]+", "+h[11]+", "+h[12]+", "+h[13]+", "+h[14]+", "+h[15]+")"}function F(h){return Math.sqrt(h[0]**2+h[1]**2+h[2]**2+h[3]**2+h[4]**2+h[5]**2+h[6]**2+h[7]**2+h[8]**2+h[9]**2+h[10]**2+h[11]**2+h[12]**2+h[13]**2+h[14]**2+h[15]**2)}function n(h,u,ia){h[0]=u[0]+ia[0];h[1]=u[1]+ia[1];h[2]=u[2]+ia[2];h[3]=
u[3]+ia[3];h[4]=u[4]+ia[4];h[5]=u[5]+ia[5];h[6]=u[6]+ia[6];h[7]=u[7]+ia[7];h[8]=u[8]+ia[8];h[9]=u[9]+ia[9];h[10]=u[10]+ia[10];h[11]=u[11]+ia[11];h[12]=u[12]+ia[12];h[13]=u[13]+ia[13];h[14]=u[14]+ia[14];h[15]=u[15]+ia[15];return h}function W(h,u,ia){h[0]=u[0]-ia[0];h[1]=u[1]-ia[1];h[2]=u[2]-ia[2];h[3]=u[3]-ia[3];h[4]=u[4]-ia[4];h[5]=u[5]-ia[5];h[6]=u[6]-ia[6];h[7]=u[7]-ia[7];h[8]=u[8]-ia[8];h[9]=u[9]-ia[9];h[10]=u[10]-ia[10];h[11]=u[11]-ia[11];h[12]=u[12]-ia[12];h[13]=u[13]-ia[13];h[14]=u[14]-ia[14];
h[15]=u[15]-ia[15];return h}function za(h,u,ia){h[0]=u[0]*ia;h[1]=u[1]*ia;h[2]=u[2]*ia;h[3]=u[3]*ia;h[4]=u[4]*ia;h[5]=u[5]*ia;h[6]=u[6]*ia;h[7]=u[7]*ia;h[8]=u[8]*ia;h[9]=u[9]*ia;h[10]=u[10]*ia;h[11]=u[11]*ia;h[12]=u[12]*ia;h[13]=u[13]*ia;h[14]=u[14]*ia;h[15]=u[15]*ia;return h}function Ea(h,u,ia,pa){h[0]=u[0]+ia[0]*pa;h[1]=u[1]+ia[1]*pa;h[2]=u[2]+ia[2]*pa;h[3]=u[3]+ia[3]*pa;h[4]=u[4]+ia[4]*pa;h[5]=u[5]+ia[5]*pa;h[6]=u[6]+ia[6]*pa;h[7]=u[7]+ia[7]*pa;h[8]=u[8]+ia[8]*pa;h[9]=u[9]+ia[9]*pa;h[10]=u[10]+
ia[10]*pa;h[11]=u[11]+ia[11]*pa;h[12]=u[12]+ia[12]*pa;h[13]=u[13]+ia[13]*pa;h[14]=u[14]+ia[14]*pa;h[15]=u[15]+ia[15]*pa;return h}function Qa(h,u){return h[0]===u[0]&&h[1]===u[1]&&h[2]===u[2]&&h[3]===u[3]&&h[4]===u[4]&&h[5]===u[5]&&h[6]===u[6]&&h[7]===u[7]&&h[8]===u[8]&&h[9]===u[9]&&h[10]===u[10]&&h[11]===u[11]&&h[12]===u[12]&&h[13]===u[13]&&h[14]===u[14]&&h[15]===u[15]}function Oa(h,u){if(h===u)return!0;const ia=h[0],pa=h[1],Ba=h[2],z=h[3],S=h[4],ha=h[5],ba=h[6],na=h[7],sa=h[8],wa=h[9],X=h[10],fa=
h[11],ua=h[12],Ca=h[13],Ha=h[14];h=h[15];const Pa=u[0],Ma=u[1],Ta=u[2],Ua=u[3],Ka=u[4],Va=u[5],Da=u[6],tb=u[7],ub=u[8],pb=u[9],c=u[10],ib=u[11],eb=u[12],Gb=u[13],Pb=u[14];u=u[15];const mb=Z.getEpsilon();return Math.abs(ia-Pa)<=mb*Math.max(1,Math.abs(ia),Math.abs(Pa))&&Math.abs(pa-Ma)<=mb*Math.max(1,Math.abs(pa),Math.abs(Ma))&&Math.abs(Ba-Ta)<=mb*Math.max(1,Math.abs(Ba),Math.abs(Ta))&&Math.abs(z-Ua)<=mb*Math.max(1,Math.abs(z),Math.abs(Ua))&&Math.abs(S-Ka)<=mb*Math.max(1,Math.abs(S),Math.abs(Ka))&&
Math.abs(ha-Va)<=mb*Math.max(1,Math.abs(ha),Math.abs(Va))&&Math.abs(ba-Da)<=mb*Math.max(1,Math.abs(ba),Math.abs(Da))&&Math.abs(na-tb)<=mb*Math.max(1,Math.abs(na),Math.abs(tb))&&Math.abs(sa-ub)<=mb*Math.max(1,Math.abs(sa),Math.abs(ub))&&Math.abs(wa-pb)<=mb*Math.max(1,Math.abs(wa),Math.abs(pb))&&Math.abs(X-c)<=mb*Math.max(1,Math.abs(X),Math.abs(c))&&Math.abs(fa-ib)<=mb*Math.max(1,Math.abs(fa),Math.abs(ib))&&Math.abs(ua-eb)<=mb*Math.max(1,Math.abs(ua),Math.abs(eb))&&Math.abs(Ca-Gb)<=mb*Math.max(1,Math.abs(Ca),
Math.abs(Gb))&&Math.abs(Ha-Pb)<=mb*Math.max(1,Math.abs(Ha),Math.abs(Pb))&&Math.abs(h-u)<=mb*Math.max(1,Math.abs(h),Math.abs(u))}function bb(h){const u=Z.getEpsilon(),ia=h[0],pa=h[1],Ba=h[2],z=h[4],S=h[5],ha=h[6],ba=h[8],na=h[9];h=h[10];return Math.abs(1-(ia*ia+z*z+ba*ba))<=u&&Math.abs(1-(pa*pa+S*S+na*na))<=u&&Math.abs(1-(Ba*Ba+ha*ha+h*h))<=u}function fb(h){return 1===h[0]&&0===h[1]&&0===h[2]&&0===h[4]&&1===h[5]&&0===h[6]&&0===h[8]&&0===h[9]&&1===h[10]}const vb=e.create();e=Object.freeze(Object.defineProperty({__proto__:null,
add:n,adjoint:k,copy:C,determinant:D,equals:Oa,exactEquals:Qa,frob:F,fromQuat:ca,fromQuat2:la,fromRotation:P,fromRotationTranslation:N,fromRotationTranslationScale:U,fromRotationTranslationScaleOrigin:T,fromScaling:O,fromTranslation:L,fromXRotation:E,fromYRotation:t,fromZRotation:A,frustum:J,getRotation:K,getScaling:I,getTranslation:aa,hasIdentityRotation:fb,identity:v,invert:g,invertOrIdentity:f,isOrthoNormal:bb,lookAt:ka,mul:M,multiply:M,multiplyScalar:za,multiplyScalarAndAdd:Ea,ortho:xa,perspective:oa,
perspectiveFromFieldOfView:ra,rotate:y,rotateX:d,rotateY:q,rotateZ:x,scale:r,set:B,str:R,sub:W,subtract:W,targetTo:V,translate:G,transpose:p},Symbol.toStringTag,{value:"Module"}));b.add=n;b.adjoint=k;b.copy=C;b.determinant=D;b.equals=Oa;b.exactEquals=Qa;b.frob=F;b.fromQuat=ca;b.fromQuat2=la;b.fromRotation=P;b.fromRotationTranslation=N;b.fromRotationTranslationScale=U;b.fromRotationTranslationScaleOrigin=T;b.fromScaling=O;b.fromTranslation=L;b.fromXRotation=E;b.fromYRotation=t;b.fromZRotation=A;b.frustum=
J;b.getRotation=K;b.getScaling=I;b.getTranslation=aa;b.hasIdentityRotation=fb;b.identity=v;b.invert=g;b.invertOrIdentity=f;b.isOrthoNormal=bb;b.lookAt=ka;b.mat4=e;b.mul=M;b.multiply=M;b.multiplyScalar=za;b.multiplyScalarAndAdd=Ea;b.ortho=xa;b.perspective=oa;b.perspectiveFromFieldOfView=ra;b.rotate=y;b.rotateX=d;b.rotateY=q;b.rotateZ=x;b.scale=r;b.set=B;b.str=R;b.sub=W;b.subtract=W;b.targetTo=V;b.translate=G;b.transpose=p})},"esri/geometry/support/Axis":function(){define(["exports"],function(b){b.Axis=
void 0;var e=b.Axis||(b.Axis={});e[e.X=0]="X";e[e.Y=1]="Y";e[e.Z=2]="Z";Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/ray":function(){define("exports ../../core/arrayUtils ../../core/ObjectStack ../../chunks/vec3 ../../chunks/vec3f64 ./vectorStacks".split(" "),function(b,e,Z,C,B,v){function p(M){return M?f(B.clone(M.origin),B.clone(M.direction)):f(B.create(),B.create())}function f(M,G){return{origin:M,direction:G}}function g(M,G,r=p()){C.copy(r.origin,M);C.copy(r.direction,
G);return r}function k(M,G){M=C.cross(v.sv3d.get(),C.normalize(v.sv3d.get(),M.direction),C.subtract(v.sv3d.get(),G,M.origin));return C.dot(M,M)}const D=new Z.ObjectStack(()=>p());b.closestPoint=function(M,G,r){G=C.dot(M.direction,C.subtract(r,G,M.origin));C.add(r,M.origin,C.scale(r,M.direction,G));return r};b.copy=function(M,G=p()){return g(M.origin,M.direction,G)};b.create=p;b.distance=function(M,G){return Math.sqrt(k(M,G))};b.distance2=k;b.equals=function(M,G){return e.equals(M.origin,G.origin)&&
e.equals(M.direction,G.direction)};b.fromPoints=function(M,G,r=p()){C.copy(r.origin,M);C.subtract(r.direction,G,M);return r};b.fromValues=g;b.wrap=function(M,G){const r=D.get();r.origin=M;r.direction=G;return r};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/vector":function(){define(["exports","../../core/mathUtils","../../chunks/vec3","../../chunks/vec3f64"],function(b,e,Z,C){const B=C.create(),v=C.create();b.angle=function(p,f){p=Z.dot(p,f)/(Z.length(p)*
Z.length(f));return-e.acosClamped(p)};b.angleAroundAxis=function(p,f,g){Z.normalize(B,p);Z.normalize(v,f);p=Z.dot(B,v);p=e.acosClamped(p);f=Z.cross(B,B,v);return 0>Z.dot(f,g)?2*Math.PI-p:p};b.projectPoint=function(p,f,g){f=Z.dot(p,f)/Z.dot(p,p);return Z.scale(g,p,f)};b.projectPointSignedLength=function(p,f){return Z.dot(p,f)/Z.length(p)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/QueryEngineResult":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/support/centroid ../../../geometry/support/extentUtils ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ./AttributesBuilder ./projectionSupport ./SnappingCandidate ./utils ../../support/fieldUtils ../../../statistics/utils ../../../support/arcadeOnDemand".split(" "),
function(b,e,Z,C,B,v,p,f,g,k,D,M,G,r,y){function d(O,P,E,t){const A=t.x-E.x;t=t.y-E.y;P=Math.min(1,Math.max(0,((P.x-E.x)*A+(P.y-E.y)*t)/(A*A+t*t)));O.x=E.x+A*P;O.y=E.y+t*P}function q(O,P){return O?P?4:3:P?3:2}let x=function(){function O(E,t,A){this.items=E;this.query=t;this.geometryType=A.geometryType;this.hasM=A.hasM;this.hasZ=A.hasZ;this.fieldsIndex=A.fieldsIndex;this.objectIdField=A.objectIdField;this.spatialReference=A.spatialReference;this.featureAdapter=A.featureAdapter}var P=O.prototype;P.createQueryResponseForCount=
function(){const E=new g(this.query,this.featureAdapter,this.fieldsIndex);if(!this.query.outStatistics)return E.countDistinctValues(this.items);const {groupByFieldsForStatistics:t,having:A,outStatistics:N}=this.query;if(!t?.length)return 1;const la=new Map,aa=new Map,I=new Set;for(const T of N){var {statisticType:K}=T;K="exceedslimit"!==K?T.onStatisticField:void 0;if(!aa.has(K)){var U=[];for(const ca of t){const J=this._getAttributeValues(E,ca,la);U.push(J)}aa.set(K,this._calculateUniqueValues(U,
E.returnDistinctValues))}K=aa.get(K);for(const ca in K){const {data:J,items:oa}=K[ca];U=J.join(",");A&&!E.validateItems(oa,A)||I.add(U)}}return I.size};P.createQueryResponse=function(){var E=Z._asyncToGenerator(function*(){let t;t=this.query.outStatistics?this.query.outStatistics.some(A=>"exceedslimit"===A.statisticType)?this._createExceedsLimitQueryResponse(this.query):yield this._createStatisticsQueryResponse(this.query):this._createFeatureQueryResponse(this.query);if(this.query.returnQueryGeometry){const A=
this.query.geometry;f.isValid(this.query.outSR)&&!f.equals(A.spatialReference,this.query.outSR)?t.queryGeometry=M.cleanFromGeometryEngine({spatialReference:this.query.outSR,...k.project(A,A.spatialReference,this.query.outSR)}):t.queryGeometry=M.cleanFromGeometryEngine({spatialReference:this.query.outSR,...A})}return t});return function(){return E.apply(this,arguments)}}();P.createSnappingResponse=function(E,t){const A=this.featureAdapter,N=q(this.hasZ,this.hasM),{point:la,mode:aa}=E,I="number"===
typeof E.distance?E.distance:E.distance.x,K="number"===typeof E.distance?E.distance:E.distance.y,U={candidates:[]},T="esriGeometryPolygon"===this.geometryType;t=this._getPointCreator(aa,this.spatialReference,t);const ca=new L(null,0),J=new L(null,0),oa={x:0,y:0,z:0};for(const n of this.items){var ra=A.getGeometry(n);if(C.isNone(ra))continue;const {coords:W,lengths:za}=ra;ca.coords=W;J.coords=W;if(E.types&e.SnappingTypes.EDGE){ra=0;for(var xa=0;xa<za.length;xa++){var ka=za[xa];for(var V=0;V<ka;V++,
ra+=N){var R=ca;R.coordsIndex=ra;if(V!==ka-1){const Ea=J;Ea.coordsIndex=ra+N;const Qa=oa;d(oa,la,R,Ea);var F=(la.x-Qa.x)/I;const Oa=(la.y-Qa.y)/K;F=F*F+Oa*Oa;1>=F&&U.candidates.push(D.makeEdgeCandidate(A.getObjectId(n),t(Qa),Math.sqrt(F),t(R),t(Ea)))}}}}if(E.types&e.SnappingTypes.VERTEX)for(ra=T?W.length-N:W.length,xa=0;xa<ra;xa+=N)ka=ca,ka.coordsIndex=xa,V=(la.x-ka.x)/I,R=(la.y-ka.y)/K,V=V*V+R*R,1>=V&&U.candidates.push(D.makeVertexCandidate(A.getObjectId(n),t(ka),Math.sqrt(V)))}U.candidates.sort((n,
W)=>n.distance-W.distance);return U};P._getPointCreator=function(E,t,A){const N=C.isSome(A)&&!f.equals(t,A)?aa=>k.project(aa,t,A):aa=>aa,{hasZ:la}=this;return"3d"===E?la?({x:aa,y:I,z:K})=>N({x:aa,y:I,z:K}):({x:aa,y:I})=>N({x:aa,y:I,z:0}):({x:aa,y:I})=>N({x:aa,y:I})};P.createSummaryStatisticsResponse=function(){var E=Z._asyncToGenerator(function*(t){const {field:A,valueExpression:N,normalizationField:la,normalizationType:aa,normalizationTotal:I,minValue:K,maxValue:U,scale:T}=t;t=this.fieldsIndex.isDateField(A);
var ca=yield this._getDataValues({field:A,valueExpression:N,normalizationField:la,normalizationType:aa,normalizationTotal:I,scale:T});const J=r.isNullCountSupported({normalizationType:aa,normalizationField:la,minValue:K,maxValue:U}),oa=this.fieldsIndex.get(A),ra={value:.5,fieldType:oa?.type};ca=G.isStringField(oa)?r.calculateStringStatistics({values:ca,supportsNullCount:J,percentileParams:ra}):r.calculateStatistics({values:ca,minValue:K,maxValue:U,useSampleStdDev:!aa,supportsNullCount:J,percentileParams:ra});
return r.processSummaryStatisticsResult(ca,t)});return function(t){return E.apply(this,arguments)}}();P.createUniqueValuesResponse=function(){var E=Z._asyncToGenerator(function*(t){const {field:A,valueExpression:N,domains:la,returnAllCodedValues:aa,scale:I}=t;var K=yield this._getDataValues({field:A,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,valueExpression:N,scale:I});K=r.calculateUniqueValuesCount(K);return r.createUVResult(K,la,aa,t.fieldDelimiter)});return function(t){return E.apply(this,
arguments)}}();P.createClassBreaksResponse=function(){var E=Z._asyncToGenerator(function*(t){const {field:A,valueExpression:N,normalizationField:la,normalizationType:aa,normalizationTotal:I,classificationMethod:K,standardDeviationInterval:U,minValue:T,maxValue:ca,numClasses:J,scale:oa}=t;t=yield this._getDataValues({field:A,valueExpression:N,normalizationField:la,normalizationType:aa,normalizationTotal:I,scale:oa});t=r.calculateClassBreaks(t,{field:A,normalizationField:la,normalizationType:aa,normalizationTotal:I,
classificationMethod:K,standardDeviationInterval:U,minValue:T,maxValue:ca,numClasses:J});return r.resolveCBResult(t,K)});return function(t){return E.apply(this,arguments)}}();P.createHistogramResponse=function(){var E=Z._asyncToGenerator(function*(t){const {field:A,valueExpression:N,normalizationField:la,normalizationType:aa,normalizationTotal:I,classificationMethod:K,standardDeviationInterval:U,minValue:T,maxValue:ca,numBins:J,scale:oa}=t;t=yield this._getDataValues({field:A,valueExpression:N,normalizationField:la,
normalizationType:aa,normalizationTotal:I,scale:oa});return r.calculateHistogram(t,{field:A,normalizationField:la,normalizationType:aa,normalizationTotal:I,classificationMethod:K,standardDeviationInterval:U,minValue:T,maxValue:ca,numBins:J})});return function(t){return E.apply(this,arguments)}}();P._sortFeatures=function(E,t,A){if(1<E.length&&t&&t.length)for(const N of t.reverse()){t=N.split(" ");const la=t[0],aa=this.fieldsIndex.get(la);t=t[1]?"desc"===t[1].toLowerCase():!1;const I=r.getAttributeComparator(aa?.type,
t);E.sort((K,U)=>{K=A(K,la,aa);U=A(U,la,aa);return I(K,U)})}};P._createFeatureQueryResponse=function(E){const t=this.items,{geometryType:A,hasM:N,hasZ:la,objectIdField:aa,spatialReference:I}=this,{outFields:K,outSR:U,quantizationParameters:T,resultRecordCount:ca,resultOffset:J,returnZ:oa,returnM:ra}=E,xa=null!=ca?t.length>(J||0)+ca:!1,ka=K&&(K.includes("*")?[...this.fieldsIndex.fields]:K.map(V=>this.fieldsIndex.get(V)));return{exceededTransferLimit:xa,features:this._createFeatures(E,t),fields:ka,
geometryType:A,hasM:N&&ra,hasZ:la&&oa,objectIdFieldName:aa,spatialReference:M.cleanFromGeometryEngine(U?U:I),transform:T&&p.toQuantizationTransform(T)||null}};P._createFeatures=function(E,t){const A=new g(E,this.featureAdapter,this.fieldsIndex),{hasM:N,hasZ:la}=this,{orderByFields:aa,quantizationParameters:I,returnGeometry:K,returnCentroid:U,maxAllowableOffset:T,resultOffset:ca,resultRecordCount:J,returnZ:oa=!1,returnM:ra=!1}=E,xa=la&&oa,ka=N&&ra;E=[];var V=0;t=[...t];this._sortFeatures(t,aa,(n,W,
za)=>A.getFieldValue(n,W,za));if(K||U){var R=p.toQuantizationTransform(I)??void 0;if(K&&!U)for(var F of t)E[V++]={attributes:A.getAttributes(F),geometry:M.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(F),T,R,xa,ka)};else if(!K&&U)for(const n of t)E[V++]={attributes:A.getAttributes(n),centroid:M.transformCentroid(this,this.featureAdapter.getCentroid(n,this),R)};else for(const n of t)E[V++]={attributes:A.getAttributes(n),centroid:M.transformCentroid(this,this.featureAdapter.getCentroid(n,
this),R),geometry:M.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(n),T,R,xa,ka)}}else for(R of t)(F=A.getAttributes(R))&&(E[V++]={attributes:F});V=ca||0;null!=J&&(E=E.slice(V,Math.min(E.length,V+J)));return E};P._createExceedsLimitQueryResponse=function(E){var t=!1;let A=Number.POSITIVE_INFINITY,N=Number.POSITIVE_INFINITY;t=Number.POSITIVE_INFINITY;for(const la of E.outStatistics??[])if("exceedslimit"===la.statisticType){A=null!=la.maxPointCount?la.maxPointCount:
Number.POSITIVE_INFINITY;N=null!=la.maxRecordCount?la.maxRecordCount:Number.POSITIVE_INFINITY;t=null!=la.maxVertexCount?la.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)t=this.items.length>A;else if(this.items.length>N)t=!0;else{E=q(this.hasZ,this.hasM);const la=this.featureAdapter;t=this.items.reduce((aa,I)=>{I=la.getGeometry(I);return aa+(C.isSome(I)&&I.coords.length||0)},0)/E>t}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",
sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(t)}}]}};P._createStatisticsQueryResponse=function(){var E=Z._asyncToGenerator(function*(t){var A={attributes:{}};const N=[],la=new Map,aa=new Map,I=new Map,K=new Map,U=new g(t,this.featureAdapter,this.fieldsIndex);var T=t.outStatistics;const {groupByFieldsForStatistics:ca,having:J,orderByFields:oa}=t;t=ca&&ca.length;const ra=!!t,xa=ra?ca[0]:null,ka=ra&&!this.fieldsIndex.get(xa);for(const W of T??[]){const {outStatisticFieldName:za,
statisticType:Ea}=W;T=W;var V="exceedslimit"!==Ea?W.onStatisticField:void 0;const Qa="percentile_disc"===Ea||"percentile_cont"===Ea,Oa="EnvelopeAggregate"===Ea||"CentroidAggregate"===Ea||"ConvexHullAggregate"===Ea,bb=ra&&1===t&&(V===xa||ka)&&"count"===Ea;if(ra){if(!I.has(V)){var R=[];for(const fb of ca){var F=this._getAttributeValues(U,fb,la);R.push(F)}I.set(V,this._calculateUniqueValues(R,Oa?!1:U.returnDistinctValues))}R=I.get(V);for(const fb in R){const {count:vb,data:h,items:u,itemPositions:ia}=
R[fb];F=h.join(",");if(!J||U.validateItems(u,J)){const pa=K.get(F)||{attributes:{}};if(Oa){pa.aggregateGeometries||(pa.aggregateGeometries={});const {aggregateGeometries:z,outStatisticFieldName:S}=yield this._getAggregateGeometry(T,u);pa.aggregateGeometries[S]=z}else{var n=null;if(bb)n=vb;else{const z=this._getAttributeValues(U,V,la);n=ia.map(S=>z[S]);n=Qa&&"statisticParameters"in T?this._getPercentileValue(T,n):this._getStatisticValue(T,n,null,U.returnDistinctValues)}pa.attributes[za]=n}let Ba=0;
ca.forEach((z,S)=>pa.attributes[this.fieldsIndex.get(z)?z:`EXPR_${++Ba}`]=h[S]);K.set(F,pa)}}}else if(Oa){A.aggregateGeometries||(A.aggregateGeometries={});const {aggregateGeometries:fb,outStatisticFieldName:vb}=yield this._getAggregateGeometry(T,this.items);A.aggregateGeometries[vb]=fb}else V=this._getAttributeValues(U,V,la),A.attributes[za]=Qa&&"statisticParameters"in T?this._getPercentileValue(T,V):this._getStatisticValue(T,V,aa,U.returnDistinctValues);N.push({name:za,alias:za,type:"esriFieldTypeDouble"})}A=
ra?Array.from(K.values()):[A];this._sortFeatures(A,oa,(W,za)=>W.attributes[za]);return{fields:N,features:A}});return function(t){return E.apply(this,arguments)}}();P._getAggregateGeometry=function(){var E=Z._asyncToGenerator(function*(t,A){var N=yield new Promise((oa,ra)=>b(["../../../geometry/geometryEngineJSON"],oa,ra));const {statisticType:la,outStatisticFieldName:aa}=t,{featureAdapter:I,spatialReference:K,geometryType:U,hasZ:T,hasM:ca}=this;A=A.map(oa=>M.getGeometry(U,T,ca,I.getGeometry(oa)));
const J=N.convexHull(K,A,!0)[0];t={aggregateGeometries:null,outStatisticFieldName:null};"EnvelopeAggregate"===la?(N=J?v.getPolygonExtent(J):v.getGeometryExtent(N.union(K,A)),t.aggregateGeometries={...N,spatialReference:K},t.outStatisticFieldName=aa||"extent"):"CentroidAggregate"===la?(N=J?B.polygonCentroid(J):B.extentCentroid(v.getGeometryExtent(N.union(K,A))),t.aggregateGeometries={x:N[0],y:N[1],spatialReference:K},t.outStatisticFieldName=aa||"centroid"):"ConvexHullAggregate"===la&&(t.aggregateGeometries=
J,t.outStatisticFieldName=aa||"convexHull");return t});return function(t,A){return E.apply(this,arguments)}}();P._getStatisticValue=function(E,t,A,N){const {onStatisticField:la,statisticType:aa}=E;E=null;E=A?.has(la)?A.get(la):G.isStringField(this.fieldsIndex.get(la))?r.calculateStringStatistics({values:t,returnDistinct:N}):r.calculateStatistics({values:N?[...(new Set(t))]:t,minValue:null,maxValue:null,useSampleStdDev:!0});A&&A.set(la,E);return E["var"===aa?"variance":aa]};P._getPercentileValue=function(E,
t){const {onStatisticField:A,statisticParameters:N,statisticType:la}=E,{value:aa,orderBy:I}=N;E=this.fieldsIndex.get(A);return r.calculatePercentile(t,{value:aa,orderBy:I,fieldType:E?.type,isDiscrete:"percentile_disc"===la})};P._getAttributeValues=function(E,t,A){if(A.has(t))return A.get(t);const N=this.fieldsIndex.get(t),la=this.items.map(aa=>E.getFieldValue(aa,t,N));A.set(t,la);return la};P._getAttributeDataValues=function(E,t){return this.items.map(A=>E.getDataValue(A,{field:t.field,field2:t.field2,
field3:t.field3,fieldDelimiter:t.fieldDelimiter,normalizationField:t.normalizationField,normalizationType:t.normalizationType,normalizationTotal:t.normalizationTotal}))};P._getAttributeExpressionValues=function(){var E=Z._asyncToGenerator(function*(t,A,N){const {arcadeUtils:la}=yield y.loadArcade();A=la.createFunction(A);N=N&&la.getViewInfo(N);return t.getExpressionValues(this.items,A,N,la)});return function(t,A,N){return E.apply(this,arguments)}}();P._calculateUniqueValues=function(E,t){const A=
{},N=this.items,la=N.length;for(let aa=0;aa<la;aa++){const I=N[aa],K=[];for(const T of E)K.push(T[aa]);const U=K.join(",");null==A[U]?A[U]={count:1,data:K,items:[I],itemPositions:[aa]}:(t||A[U].count++,A[U].items.push(I),A[U].itemPositions.push(aa))}return A};P._getDataValues=function(){var E=Z._asyncToGenerator(function*(t){const A=new g(this.query,this.featureAdapter,this.fieldsIndex),{valueExpression:N,field:la,normalizationField:aa,normalizationType:I,normalizationTotal:K,scale:U}=t,T=N?{viewingMode:"map",
scale:U,spatialReference:this.query.outSR||this.spatialReference}:null;return N?this._getAttributeExpressionValues(A,N,T):this._getAttributeDataValues(A,{field:la,field2:t.field2,field3:t.field3,fieldDelimiter:t.fieldDelimiter,normalizationField:aa,normalizationType:I,normalizationTotal:K})});return function(t){return E.apply(this,arguments)}}();Z._createClass(O,[{key:"size",get:function(){return this.items.length}}]);return O}();e.SnappingTypes=void 0;(function(O){O[O.NONE=0]="NONE";O[O.EDGE=1]=
"EDGE";O[O.VERTEX=2]="VERTEX"})(e.SnappingTypes||(e.SnappingTypes={}));let L=function(){function O(P,E){this.coords=P;this.coordsIndex=E}Z._createClass(O,[{key:"x",get:function(){return this.coords[this.coordsIndex]}},{key:"y",get:function(){return this.coords[this.coordsIndex+1]}},{key:"z",get:function(){return this.coords[this.coordsIndex+2]}}]);return O}();e.QueryEngineResult=x;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/quantizationUtils":function(){define(["exports",
"../../core/maybe","./jsonUtils"],function(b,e,Z){function C({scale:aa,translate:I},K){return Math.round((K-I[0])/aa[0])}function B({scale:aa,translate:I},K){return Math.round((I[1]-K)/aa[1])}function v(aa,I,K){const U=[];let T,ca,J,oa;for(let ra=0;ra<K.length;ra++){const xa=K[ra];if(0<ra){if(J=C(aa,xa[0]),oa=B(aa,xa[1]),J!==T||oa!==ca)U.push(I(xa,J-T,oa-ca)),T=J,ca=oa}else T=C(aa,xa[0]),ca=B(aa,xa[1]),U.push(I(xa,T,ca))}return 0<U.length?U:null}function p(aa,I,K,U){return v(aa,K?U?la:N:U?N:A,I)}
function f(aa,I,K,U){const T=[];K=K?U?la:N:U?N:A;for(U=0;U<I.length;U++){const ca=v(aa,K,I[U]);ca&&3<=ca.length&&T.push(ca)}return T.length?T:null}function g(aa,I,K,U){const T=[];K=K?U?la:N:U?N:A;for(U=0;U<I.length;U++){const ca=v(aa,K,I[U]);ca&&2<=ca.length&&T.push(ca)}return T.length?T:null}function k({scale:aa,translate:I},K){return K*aa[0]+I[0]}function D({scale:aa,translate:I},K){return I[1]-K*aa[1]}function M(aa,I,K){const U=Array(K.length);if(!K.length)return U;const [T,ca]=aa.scale;let J=
k(aa,K[0][0]);aa=D(aa,K[0][1]);U[0]=I(K[0],J,aa);for(let oa=1;oa<K.length;oa++){const ra=K[oa];J+=ra[0]*T;aa-=ra[1]*ca;U[oa]=I(ra,J,aa)}return U}function G(aa,I,K){const U=Array(K.length);for(let T=0;T<K.length;T++)U[T]=M(aa,I,K[T]);return U}function r(aa,I,K,U){return M(aa,K?U?la:N:U?N:A,I)}function y(aa,I,K,U){return G(aa,K?U?la:N:U?N:A,I)}function d(aa,I,K,U){return G(aa,K?U?la:N:U?N:A,I)}function q(aa,I,K){let [U,T]=K[0],ca=Math.min(U,I[0]),J=Math.min(T,I[1]),oa=Math.max(U,I[2]);I=Math.max(T,
I[3]);for(let ra=1;ra<K.length;ra++){const [xa,ka]=K[ra];U+=xa;T+=ka;0>xa&&(ca=Math.min(ca,U));0<xa&&(oa=Math.max(oa,U));0>ka?J=Math.min(J,T):0<ka&&(I=Math.max(I,T))}aa[0]=ca;aa[1]=J;aa[2]=oa;aa[3]=I;return aa}function x(aa,I){if(!I.length)return null;aa[0]=aa[1]=Number.POSITIVE_INFINITY;aa[2]=aa[3]=Number.NEGATIVE_INFINITY;for(let K=0;K<I.length;K++)q(aa,aa,I[K]);return aa}function L(aa,I,K,U,T){I.xmin=C(aa,K.xmin);I.ymin=B(aa,K.ymin);I.xmax=C(aa,K.xmax);I.ymax=B(aa,K.ymax);I!==K&&(U&&(I.zmin=K.zmin,
I.zmax=K.zmax),T&&(I.mmin=K.mmin,I.mmax=K.mmax));return I}function O(aa,I,K,U,T){I.points=p(aa,K.points,U,T)??[];return I}function P(aa,I,K,U,T){I.x=C(aa,K.x);I.y=B(aa,K.y);I!==K&&(U&&(I.z=K.z),T&&(I.m=K.m));return I}function E(aa,I,K,U,T){aa=f(aa,K.rings,U,T);if(!aa)return null;I.rings=aa;return I}function t(aa,I,K,U,T){aa=g(aa,K.paths,U,T);if(!aa)return null;I.paths=aa;return I}const A=(aa,I,K)=>[I,K],N=(aa,I,K)=>[I,K,aa[2]],la=(aa,I,K)=>[I,K,aa[2],aa[3]];b.equals=function(aa,I){if(aa===I||null==
aa&&null==I)return!0;if(null==aa||null==I)return!1;let K,U,T,ca;aa&&"upperLeft"===aa.originPosition?(K=aa.translate[0],U=aa.translate[1],aa=aa.scale[0]):(K=e.isSome(aa.extent)?aa.extent.xmin:0,U=e.isSome(aa.extent)?aa.extent.ymax:0,aa=aa.tolerance);I&&"upperLeft"===I.originPosition?(T=I.translate[0],ca=I.translate[1],I=I.scale[0]):(T=e.isSome(I.extent)?I.extent.xmin:0,ca=e.isSome(I.extent)?I.extent.ymax:0,I=I.tolerance);return K===T&&U===ca&&aa===I};b.getQuantizedBoundsCoordsArray=q;b.getQuantizedBoundsCoordsArrayArray=
x;b.getQuantizedBoundsPaths=function(aa){return x([0,0,0,0],aa)};b.getQuantizedBoundsPoints=function(aa){const I=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return q(I,I,aa)};b.getQuantizedBoundsRings=function(aa){return x([0,0,0,0],aa)};b.quantizeBounds=function(aa,I,K){I[0]=C(aa,K[0]);I[3]=B(aa,K[1]);I[2]=C(aa,K[2]);I[1]=B(aa,K[3]);return I};b.quantizeExtent=L;b.quantizeGeometry=function(aa,I){return aa&&I?Z.isPoint(I)?P(aa,{},I,!1,!1):Z.isPolyline(I)?
t(aa,{},I,!1,!1):Z.isPolygon(I)?E(aa,{},I,!1,!1):Z.isMultipoint(I)?O(aa,{},I,!1,!1):Z.isExtent(I)?L(aa,{},I,!1,!1):null:null};b.quantizeMultipoint=O;b.quantizePaths=g;b.quantizePoint=P;b.quantizePoints=p;b.quantizePolygon=E;b.quantizePolyline=t;b.quantizeRings=f;b.quantizeX=C;b.quantizeY=B;b.toQuantizationTransform=function(aa){return aa?{originPosition:"upper-left"===aa.originPosition?"upperLeft":"lower-left"===aa.originPosition?"lowerLeft":aa.originPosition,scale:aa.tolerance?[aa.tolerance,aa.tolerance]:
[1,1],translate:e.isSome(aa.extent)?[aa.extent.xmin,aa.extent.ymax]:[0,0]}:null};b.unquantizeBounds=function(aa,I,K){return K?(I[0]=k(aa,K[0]),I[1]=D(aa,K[3]),I[2]=k(aa,K[2]),I[3]=D(aa,K[1]),I):[k(aa,I[0]),D(aa,I[3]),k(aa,I[2]),D(aa,I[1])]};b.unquantizeCoordsArray=M;b.unquantizeCoordsArrayArray=G;b.unquantizeExtent=function(aa,I,K,U,T){I.xmin=k(aa,K.xmin);I.ymin=D(aa,K.ymin);I.xmax=k(aa,K.xmax);I.ymax=D(aa,K.ymax);I!==K&&(U&&(I.zmin=K.zmin,I.zmax=K.zmax),T&&(I.mmin=K.mmin,I.mmax=K.mmax));return I};
b.unquantizeMultipoint=function(aa,I,K,U,T){e.isSome(K)&&(I.points=r(aa,K.points,U,T));return I};b.unquantizePaths=y;b.unquantizePoint=function(aa,I,K,U,T){if(e.isNone(K))return I;I.x=k(aa,K.x);I.y=D(aa,K.y);I!==K&&(U&&(I.z=K.z),T&&(I.m=K.m));return I};b.unquantizePoints=r;b.unquantizePolygon=function(aa,I,K,U,T){e.isSome(K)&&(I.rings=d(aa,K.rings,U,T));return I};b.unquantizePolyline=function(aa,I,K,U,T){e.isSome(K)&&(I.paths=y(aa,K.paths,U,T));return I};b.unquantizeRings=d;b.unquantizeX=k;b.unquantizeY=
D;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["../../../core/maybe","./attributeSupport","../../../statistics/utils"],function(b,e,Z){return function(){function C(v,p,f){this._fieldDataCache=new Map;this._returnDistinctMap=new Map;this.returnDistinctValues=v.returnDistinctValues??!1;this.fieldsIndex=f;this.featureAdapter=p;if((p=v.outFields)&&!p.includes("*")){this.outFields=p;v=0;for(const k of p){var g=e.getExpressionFromFieldName(k);
g=(p=this.fieldsIndex.get(g))?null:e.getWhereClause(g,f);p=p?p.name:e.getAliasFromFieldName(k)||`FIELD_EXP_${v++}`;this._fieldDataCache.set(k,{alias:p,clause:g})}}}var B=C.prototype;B.countDistinctValues=function(v){if(!this.returnDistinctValues)return v.length;v.forEach(p=>this.getAttributes(p));return this._returnDistinctMap.size};B.getAttributes=function(v){v=this._processAttributesForOutFields(v);return this._processAttributesForDistinctValues(v)};B.getFieldValue=function(v,p,f){const g=f?f.name:
p;let k=null;this._fieldDataCache.has(g)?k=this._fieldDataCache.get(g)?.clause:f||(k=e.getWhereClause(p,this.fieldsIndex),this._fieldDataCache.set(g,{alias:g,clause:k}));return f?this.featureAdapter.getAttribute(v,g):k?.calculateValue(v,this.featureAdapter)};B.getDataValue=function(v,p){const f=p.normalizationType,g=p.normalizationTotal;let k=p.field&&this.getFieldValue(v,p.field,this.fieldsIndex.get(p.field));p.field2&&(k=`${Z.processNullValue(k)}${p.fieldDelimiter}${Z.processNullValue(this.getFieldValue(v,
p.field2,this.fieldsIndex.get(p.field2)))}`,p.field3&&(k=`${k}${p.fieldDelimiter}${Z.processNullValue(this.getFieldValue(v,p.field3,this.fieldsIndex.get(p.field3)))}`));f&&Number.isFinite(k)&&(v="field"===f&&p.normalizationField?this.getFieldValue(v,p.normalizationField,this.fieldsIndex.get(p.normalizationField)):null,k=Z.getNormalizedValue(k,f,v,g));return k};B.getExpressionValue=function(v,p,f,g){v={attributes:this.featureAdapter.getAttributes(v),layer:{fields:this.fieldsIndex.fields}};f=g.createExecContext(v,
f);return g.executeFunction(p,f)};B.getExpressionValues=function(v,p,f,g){const k={fields:this.fieldsIndex.fields};return v.map(D=>{D={attributes:this.featureAdapter.getAttributes(D),layer:k};D=g.createExecContext(D,f);return g.executeFunction(p,D)})};B.validateItem=function(v,p){this._fieldDataCache.has(p)||this._fieldDataCache.set(p,{alias:p,clause:e.getWhereClause(p,this.fieldsIndex)});return this._fieldDataCache.get(p)?.clause?.testFeature(v,this.featureAdapter)??!1};B.validateItems=function(v,
p){this._fieldDataCache.has(p)||this._fieldDataCache.set(p,{alias:p,clause:e.getWhereClause(p,this.fieldsIndex)});return this._fieldDataCache.get(p)?.clause?.testSet(v,this.featureAdapter)??!1};B._processAttributesForOutFields=function(v){const p=this.outFields;if(!p||!p.length)return this.featureAdapter.getAttributes(v);const f={};for(const g of p){const {alias:k,clause:D}=this._fieldDataCache.get(g);f[k]=D?D.calculateValue(v,this.featureAdapter):this.featureAdapter.getAttribute(v,k)}return f};B._processAttributesForDistinctValues=
function(v){if(b.isNone(v)||!this.returnDistinctValues)return v;var p=this.outFields,f=[];if(p)for(const k of p){var {alias:g}=this._fieldDataCache.get(k);f.push(v[g])}else for(g in v)f.push(v[g]);p=`${(p||["*"]).join(",")}=${f.join(",")}`;f=this._returnDistinctMap.get(p)||0;this._returnDistinctMap.set(p,++f);return 1<f?null:v};return C}()})},"esri/layers/graphics/data/attributeSupport":function(){define(["exports","../../../core/Error","../../../core/sql/WhereClauseCache"],function(b,e,Z){function C(g,
k){return g?p.get(g,k):null}function B(g,k,D,M=!0){const G=[];for(const r of k)if("*"!==r&&!g.has(r))if(M){k=v(r);try{const y=C(k,g);if(!y)throw new e("feature-store:unsupported-query","invalid SQL expression",{where:k});if(!y.isStandardized)throw new e("feature-store:unsupported-query","expression is not standard",{clause:y});B(g,y.fieldNames,"expression contains missing fields")}catch(y){if((k=y&&y.details)&&(k.clause||k.where))throw y;k&&k.missingFields?G.push(...k.missingFields):G.push(r)}}else G.push(r);
if(G.length)throw new e("feature-store:unsupported-query",D,{missingFields:G});}function v(g){return g.split(" as ")[0]}const p=new Z.WhereClauseCache(50,500),f=new Set("esriFieldTypeOID esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));b.getAliasFromFieldName=function(g){return g.split(" as ")[1]};b.getExpressionFromFieldName=v;b.getWhereClause=C;b.hasInvalidFieldType=function(g,k){return(g=k.get(g))?!f.has(g.type):
!1};b.validateFields=B;b.validateHaving=function(g,k,D){if(!k)return!0;const M=p.get(k,g);if(!M)throw new e("feature-store:unsupported-query","invalid SQL expression",{having:k});if(!M.isAggregate)throw new e("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:k});B(g,M.fieldNames,"having contains missing fields");if(!M.getExpressions().every(G=>{const {aggregateType:r,field:y}=G,d=g.get(y)?.name;return D.some(q=>{const {onStatisticField:x,statisticType:L}=
q;return g.get(x)?.name===d&&L.toLowerCase().trim()===r})}))throw new e("feature-store:unsupported-query","expressions in having should also exist in outStatistics",{having:k});return!0};b.validateWhere=function(g,k){if(!k)return!0;const D=p.get(k,g);if(!D)throw new e("feature-store:unsupported-query","invalid SQL expression",{where:k});if(!D.isStandardized)throw new e("feature-store:unsupported-query","where clause is not standard",{where:k});B(g,D.fieldNames,"where clause contains missing fields");
return!0};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/WhereClauseCache":function(){define(["exports","../ItemCache","./WhereClause"],function(b,e,Z){let C=function(){function B(v,p){this._cache=new e(v);this._invalidCache=new e(p)}B.prototype.get=function(v,p){const f=`${p.uid}:${v}`,g=this._cache.get(f);if(g)return g;if(void 0!==this._invalidCache.get(f))return null;try{const k=Z.WhereClause.create(v,p);this._cache.put(f,k);return k}catch{return this._invalidCache.put(f,
null),null}};return B}();b.WhereClauseCache=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/ItemCache":function(){define(["./MemCache"],function(b){return function(){function e(C,B){this._storage=new b.MemCacheStorage;this._storage.maxSize=C;B&&this._storage.registerRemoveFunc("",B)}var Z=e.prototype;Z.put=function(C,B){this._storage.put(C,B,1,1)};Z.pop=function(C){return this._storage.pop(C)};Z.get=function(C){return this._storage.get(C)};Z.clear=function(){this._storage.clearAll()};
Z.destroy=function(){this._storage.destroy()};return e}()})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers","./maybe","./PooledArray"],function(b,e,Z,C){b.RemoveMode=void 0;(function(p){p[p.ALL=0]="ALL";p[p.SOME=1]="SOME"})(b.RemoveMode||(b.RemoveMode={}));let B=function(){function p(g,k,D){this._namespace=g;this._storage=k;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";D&&(this._storage.registerRemoveFunc(this._namespace,
D),this._removeFunc=!0)}var f=p.prototype;f.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);this._storage.deregister(this);this._storage=null};f.resetHitRate=function(){this._hit=this._miss=0};f.put=function(g,k,D,M=0){this._storage.put(this._namespace+g,k,D,M)};f.get=function(g){g=this._storage.get(this._namespace+g);void 0===g?++this._miss:++this._hit;return g};f.pop=function(g){g=this._storage.pop(this._namespace+g);
void 0===g?++this._miss:++this._hit;return g};f.updateSize=function(g,k,D){this._storage.updateSize(this._namespace+g,k,D)};f.clear=function(){this._storage.clear(this._namespace)};f.clearAll=function(){this._storage.clearAll()};f.getStats=function(){return this._storage.getStats()};f.resetStats=function(){this._storage.resetStats()};e._createClass(p,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",
get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return p}(),v=function(){function p(g=10485760){this._maxSize=g;this._db=new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new C;this._users=new C}var f=p.prototype;f.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};f.register=function(g){this._users.push(g)};f.deregister=function(g){this._users.removeUnordered(g)};f.registerRemoveFunc=
function(g,k){this._removeFuncs.push([g,k])};f.deregisterRemoveFunc=function(g){this._removeFuncs.filterInPlace(k=>k[0]!==g)};f.put=function(g,k,D,M){const G=this._db.get(g);G&&(this._size-=G.size,this._db.delete(g),G.entry!==k&&this._notifyRemove(g,G.entry,b.RemoveMode.ALL));D>this._maxSize?this._notifyRemove(g,k,b.RemoveMode.ALL):void 0===k?console.warn("Refusing to cache undefined entry "):!D||0>D?console.warn("Refusing to cache entry with invalid size "+D):(M=1+Math.max(M,-3)- -3,this._db.set(g,
{entry:k,size:D,lifetime:M,lives:M}),this._size+=D,this._checkSizeLimit())};f.updateSize=function(g,k,D){const M=this._db.get(g);if(M&&M.entry===k){for(this._size-=M.size;D>this._maxSize;)if(D=this._notifyRemove(g,k,b.RemoveMode.SOME),!(Z.isSome(D)&&0<D)){this._db.delete(g);return}M.size=D;this._size+=D;this._checkSizeLimit()}};f.pop=function(g){const k=this._db.get(g);if(k)return this._size-=k.size,this._db.delete(g),++this._hit,k.entry;++this._miss};f.get=function(g){const k=this._db.get(g);if(void 0===
k)++this._miss;else return this._db.delete(g),k.lives=k.lifetime,this._db.set(g,k),++this._hit,k.entry};f.getStats=function(){const g={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},k={},D=[];this._db.forEach((r,y)=>{const d=r.lifetime;D[d]=(D[d]||0)+r.size;this._users.forAll(q=>{q=q.namespace;y.startsWith(q)&&(k[q]=(k[q]||0)+r.size)})});const M={};this._users.forAll(r=>{const y=r.namespace;
!isNaN(r.hitRate)&&0<r.hitRate?(k[y]=k[y]||0,M[y]=Math.round(100*r.hitRate)+"%"):M[y]="0%"});var G=Object.keys(k);G.sort((r,y)=>k[y]-k[r]);G.forEach(r=>g[r]=Math.round(k[r]/2**20)+"MB / "+M[r]);for(G=D.length-1;0<=G;--G){const r=D[G];r&&(g["Priority "+(G+-3-1)]=Math.round(r/this.size*100)+"%")}return g};f.resetStats=function(){this._hit=this._miss=0;this._users.forAll(g=>g.resetHitRate())};f.clear=function(g){this._db.forEach((k,D)=>{D.startsWith(g)&&(this._size-=k.size,this._db.delete(D),this._notifyRemove(D,
k.entry,b.RemoveMode.ALL))})};f.clearAll=function(){this._db.forEach((g,k)=>this._notifyRemove(k,g.entry,b.RemoveMode.ALL));this._size=0;this._db.clear()};f._getHitRate=function(){return this._hit/(this._hit+this._miss)};f._notifyRemove=function(g,k,D){let M;this._removeFuncs.some(G=>g.startsWith(G[0])?(G=G[1](k,D),"number"===typeof G&&(M=G),!0):!1);return M};f._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [g,k]of this._db){this._db.delete(g);if(1>=k.lives){this._size-=k.size;
const D=this._notifyRemove(g,k.entry,b.RemoveMode.SOME);Z.isSome(D)&&0<D&&(this._size+=D,k.lives=k.lifetime,k.size=D,this._db.set(g,k))}else--k.lives,this._db.set(g,k);if(this._size<=.9*this.maxSize)break}};e._createClass(p,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(g){this._maxSize=Math.max(g,0);this._checkSizeLimit()}}]);return p}();b.MIN_PRIORITY=-3;b.MemCache=B;b.MemCacheStorage=v;Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/core/sql/WhereClause":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(b,e,Z,C,B,v){function p(T,ca){T+="";return T.length>=ca?T:Array(ca-T.length+1).join("0")+T}function f(T,ca,J="0",oa="0",ra="0",xa="0",ka="",V="0",R="0"){return"+"===ka||"-"===ka?(T=`${p(parseInt(T,10),4)}-${p(parseInt(ca,10),2)}-${p(parseInt(J,10),2)}`,ca="",10>parseFloat(xa)&&(ca="0"),oa=`${p(parseInt(oa,
10),2)}:${p(parseInt(ra,10),2)}:${ca+parseFloat(xa).toString()}`,ka=`${ka}${p(parseInt(V,10),2)}:${p(parseInt(R,10),2)}`,new Date(T+"T"+oa+ka)):new Date(parseInt(T,10),parseInt(ca,10)-1,parseInt(J,10),parseInt(oa,10),parseInt(ra,10),parseFloat(xa))}function g(T){let ca=E.exec(T);if(null!==ca){const [,J,oa,ra,xa,ka,V]=ca;return f(J,oa,ra,xa,ka,V)}ca=t.exec(T);if(null!==ca){const [,J,oa,ra,xa,ka,V,R,F,n]=ca;return f(J,oa,ra,xa,ka,V,R,F,n)}ca=A.exec(T);if(null!==ca){const [,J,oa,ra,xa,ka,V,R,F]=ca;return f(J,
oa,ra,xa,ka,"0",V,R,F)}ca=N.exec(T);if(null!==ca){const [,J,oa,ra,xa,ka]=ca;return f(J,oa,ra,xa,ka)}ca=P.exec(T);if(null!==ca){const [,J,oa,ra]=ca;return f(J,oa,ra)}throw Error("SQL Invalid Timestamp");}function k(T){const ca=P.exec(T);if(null===ca)try{return g(T)}catch{throw Error("SQL Invalid Date");}const [,J,oa,ra]=ca;return new Date(parseInt(J,10),parseInt(oa,10)-1,parseInt(ra,10))}function D(T){return Array.isArray(T)?T:[T]}function M(T){return null!==T?!0!==T:null}function G(T,ca){return null!=
T&&null!=ca?!0===T&&!0===ca:!1===T||!1===ca?!1:null}function r(T,ca){return null!=T&&null!=ca?!0===T||!0===ca:!0===T||!0===ca?!0:null}function y(T,ca){if(null==T)return null;let J=!1;for(const oa of ca)if(null==oa)J=null;else if(T===oa){J=!0;break}return J}function d(T,ca,J){if(null==T)return null;let oa="",ra=K.Normal;for(let xa=0;xa<ca.length;xa++){const ka=ca.charAt(xa);switch(ra){case K.Normal:ka===J?ra=K.Escaped:oa="-[]/{}()*+?.\\^$|".includes(ka)?oa+("\\"+ka):"%"===ka?oa+".*":"_"===ka?oa+".":
oa+ka;break;case K.Escaped:oa="-[]/{}()*+?.\\^$|".includes(ka)?oa+("\\"+ka):oa+ka,ra=K.Normal}}return(new RegExp("^"+oa+"$","m")).test(T)}function q(T){return T instanceof Date?T.valueOf():T}function x(T,ca,J){if(null==ca||null==J)return null;ca=q(ca);J=q(J);switch(T){case "\x3c\x3e":return ca!==J;case "\x3d":return ca===J;case "\x3e":return ca>J;case "\x3c":return ca<J;case "\x3e\x3d":return ca>=J;case "\x3c\x3d":return ca<=J}}function L(T,ca,J){if("||"===T)return B.evaluateFunction("concat",[ca,
J]);if(ca instanceof B.SqlInterval)if(J instanceof Date)switch(T){case "+":return new Date(ca.valueInMilliseconds()+J.getTime());case "-":return ca.valueInMilliseconds()-J.getTime();case "*":return ca.valueInMilliseconds()*J.getTime();case "/":return ca.valueInMilliseconds()/J.getTime()}else if(J instanceof B.SqlInterval)switch(T){case "+":return B.SqlInterval.createFromMilliseconds(ca.valueInMilliseconds()+J.valueInMilliseconds());case "-":return B.SqlInterval.createFromMilliseconds(ca.valueInMilliseconds()-
J.valueInMilliseconds());case "*":return ca.valueInMilliseconds()*J.valueInMilliseconds();case "/":return ca.valueInMilliseconds()/J.valueInMilliseconds()}else ca=ca.valueInMilliseconds();else if(J instanceof B.SqlInterval)if(ca instanceof Date)switch(T){case "+":return new Date(J.valueInMilliseconds()+ca.getTime());case "-":return new Date(ca.getTime()-J.valueInMilliseconds());case "*":return ca.getTime()*J.valueInMilliseconds();case "/":return ca.getTime()/J.valueInMilliseconds()}else J=J.valueInMilliseconds();
else if(ca instanceof Date&&"number"===typeof J)switch(J*=864E5,ca=ca.getTime(),T){case "+":return new Date(ca+J);case "-":return new Date(ca-J);case "*":return new Date(ca*J);case "/":return new Date(ca/J)}else if(J instanceof Date&&"number"===typeof ca)switch(ca*=864E5,J=J.getTime(),T){case "+":return new Date(ca+J);case "-":return new Date(ca-J);case "*":return new Date(ca*J);case "/":return new Date(ca/J)}switch(T){case "+":return ca+J;case "-":return ca-J;case "*":return ca*J;case "/":return ca/
J}}function O(T,ca,J,oa){T=oa.getAttribute(T,ca);return null!=T&&1===J[ca]?new Date(T):T}const P=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,E=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,t=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,A=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,N=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,la=new Set(["current_timestamp","current_date","current_time"]);
let aa=function(){function T(){}T.makeBool=function(ca){return!0===ca};T.featureValue=function(ca,J,oa,ra){return O(ca,J,oa,ra)};T.equalsNull=function(ca){return null===ca};T.applyLike=function(ca,J,oa){return d(ca,J,oa)};T.ensureArray=function(ca){return D(ca)};T.applyIn=function(ca,J){return y(ca,J)};T.currentDate=function(){const ca=new Date;ca.setHours(0,0,0,0);return ca};T.makeSqlInterval=function(ca,J,oa){return B.SqlInterval.createFromValueAndQualifer(ca,J,oa)};T.convertInterval=function(ca){return ca instanceof
B.SqlInterval?ca.valueInMilliseconds():ca};T.currentTimestamp=function(){return new Date};T.compare=function(ca,J,oa){return x(ca,J,oa)};T.calculate=function(ca,J,oa){return L(ca,J,oa)};T.makeComparable=function(ca){return q(ca)};T.evaluateFunction=function(ca,J){return B.evaluateFunction(ca,J)};T.lookup=function(ca,J){ca=J[ca];return void 0===ca?null:ca};T.between=function(ca,J){return null==ca||null==J[0]||null==J[1]?null:ca>=J[0]&&ca<=J[1]};T.notbetween=function(ca,J){return null==ca||null==J[0]||
null==J[1]?null:ca<J[0]||ca>J[1]};T.ternaryNot=function(ca){return M(ca)};T.ternaryAnd=function(ca,J){return G(ca,J)};T.ternaryOr=function(ca,J){return r(ca,J)};return T}(),I=function(){function T(J,oa){this.fieldsIndex=oa;this._datefields={};this.parameters={};this._hasDateFunctions=void 0;this.parseTree=v.WhereGrammar.parse(J);const {isStandardized:ra,isAggregate:xa,referencedFieldNames:ka}=this._extractExpressionInfo(oa);this._referencedFieldNames=ka;this.isStandardized=ra;this.isAggregate=xa}
T.create=function(J,oa){return new T(J,oa)};var ca=T.prototype;ca.testSet=function(J,oa=U){const ra={};for(const xa of this.fieldNames)ra[xa]=J.map(ka=>oa.getAttribute(ka,xa));return!!this._evaluateNode(this.parseTree,{attributes:ra},U)};ca.calculateValue=function(J,oa=U){J=this._evaluateNode(this.parseTree,J,oa);return J instanceof B.SqlInterval?J.valueInMilliseconds()/864E5:J};ca.calculateValueCompiled=function(J,oa=U){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(J,
this.parameters,oa,this._datefields);if(Z("esri-csp-restrictions"))return this.calculateValue(J,oa);this._compileMe();return this.parseTree._compiledVersion(J,this.parameters,oa,this._datefields)};ca.testFeature=function(J,oa=U){return!!this._evaluateNode(this.parseTree,J,oa)};ca.testFeatureCompiled=function(J,oa=U){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(J,this.parameters,oa,this._datefields);if(Z("esri-csp-restrictions"))return this.testFeature(J,oa);this._compileMe();
return!!this.parseTree._compiledVersion(J,this.parameters,oa,this._datefields)};ca.getFunctions=function(){const J=new Set;this._visitAll(this.parseTree,oa=>{"function"===oa.type&&J.add(oa.name.toLowerCase())});return Array.from(J)};ca.getExpressions=function(){const J=new Map;this._visitAll(this.parseTree,oa=>{if("function"===oa.type){const ra=oa.name.toLowerCase();oa=oa.args.value[0];if("column-reference"===oa.type){oa=oa.column;const xa=`${ra}-${oa}`;J.has(xa)||J.set(xa,{aggregateType:ra,field:oa})}}});
return[...J.values()]};ca.getVariables=function(){const J=new Set;this._visitAll(this.parseTree,oa=>{"parameter"===oa.type&&J.add(oa.value.toLowerCase())});return Array.from(J)};ca._compileMe=function(){const J="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","datefields",J)).bind(aa)};ca._extractExpressionInfo=function(J){const oa=[],ra=new Set;let xa=!0,ka=!0;this._visitAll(this.parseTree,
V=>{switch(V.type){case "column-reference":const R=J?.get(V.column);let F,n;R?F=n=R.name??"":(n=V.column,F=n.toLowerCase());R&&R.name&&("date"===R.type||"esriFieldTypeDate"===R.type)&&(this._datefields[R.name]=1);ra.has(F)||(ra.add(F),oa.push(n));V.column=n;break;case "function":const {name:W,args:za}=V;V=za.value.length;xa&&(xa=B.isStandardized(W,V));ka&&(ka=C.isAggregate(W,V))}});return{referencedFieldNames:Array.from(oa),isStandardized:xa,isAggregate:ka}};ca._visitAll=function(J,oa){if(null!=J)switch(oa(J),
J.type){case "when-clause":this._visitAll(J.operand,oa);this._visitAll(J.value,oa);break;case "case-expression":for(const ra of J.clauses)this._visitAll(ra,oa);"simple"===J.format&&this._visitAll(J.operand,oa);null!==J.else&&this._visitAll(J.else,oa);break;case "expression-list":for(const ra of J.value)this._visitAll(ra,oa);break;case "unary-expression":this._visitAll(J.expr,oa);break;case "binary-expression":this._visitAll(J.left,oa);this._visitAll(J.right,oa);break;case "function":this._visitAll(J.args,
oa)}};ca.evaluateNodeToJavaScript=function(J){switch(J.type){case "interval":return"this.makeSqlInterval("+this.evaluateNodeToJavaScript(J.value)+", "+JSON.stringify(J.qualifier)+","+JSON.stringify(J.op)+")";case "case-expression":var oa="";if("simple"===J.format){var ra="this.makeComparable("+this.evaluateNodeToJavaScript(J.operand)+")";oa="( ";for(let xa=0;xa<J.clauses.length;xa++)oa+=" ("+ra+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(J.clauses[xa].operand)+")) ? ("+this.evaluateNodeToJavaScript(J.clauses[xa].value)+
") : "}else for(oa="( ",ra=0;ra<J.clauses.length;ra++)oa+=" this.makeBool("+this.evaluateNodeToJavaScript(J.clauses[ra].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(J.clauses[ra].value)+") : ";oa=null!==J.else?oa+this.evaluateNodeToJavaScript(J.else):oa+"null";return oa+" )";case "parameter":return"this.lookup("+JSON.stringify(J.value.toLowerCase())+",lookups)";case "expression-list":oa="[";for(ra of J.value)"["!==oa&&(oa+=","),oa+=this.evaluateNodeToJavaScript(ra);return oa+"]";
case "unary-expression":return"this.ternaryNot("+this.evaluateNodeToJavaScript(J.expr)+")";case "binary-expression":switch(J.operator){case "AND":return"this.ternaryAnd("+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+" )";case "IS":if("null"!==J.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(J.left)+
")";case "ISNOT":if("null"!==J.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(J.left)+")))";case "IN":return"this.applyIn("+this.evaluateNodeToJavaScript(J.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(J.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(J.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(J.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(J.left)+
","+this.evaluateNodeToJavaScript(J.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+","+JSON.stringify(J.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+","+JSON.stringify(J.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+
JSON.stringify(J.operator)+","+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+")";case "*":case "-":case "+":case "/":case "||":return"this.calculate("+JSON.stringify(J.operator)+","+this.evaluateNodeToJavaScript(J.left)+","+this.evaluateNodeToJavaScript(J.right)+")"}throw Error("Not Supported Operator "+J.operator);case "null":case "boolean":case "string":case "number":return JSON.stringify(J.value);case "date":return"(new Date("+k(J.value).getTime().toString()+
"))";case "timestamp":return"(new Date("+g(J.value).getTime().toString()+"))";case "current-time":return"date"===J.mode?"this.currentDate()":"this.currentTimestamp()";case "column-reference":return"this.featureValue(feature,"+JSON.stringify(J.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(J.name)+","+this.evaluateNodeToJavaScript(J.args)+")"}throw Error("Unsupported sql syntax "+J.type);};ca._evaluateNode=function(J,oa,ra){switch(J.type){case "interval":return oa=
this._evaluateNode(J.value,oa,ra),B.SqlInterval.createFromValueAndQualifer(oa,J.qualifier,J.op);case "case-expression":if("simple"===J.format){var xa=q(this._evaluateNode(J.operand,oa,ra));for(var ka=0;ka<J.clauses.length;ka++)if(xa===q(this._evaluateNode(J.clauses[ka].operand,oa,ra)))return this._evaluateNode(J.clauses[ka].value,oa,ra)}else for(xa=0;xa<J.clauses.length;xa++)if(!0===this._evaluateNode(J.clauses[xa].operand,oa,ra))return this._evaluateNode(J.clauses[xa].value,oa,ra);return null!==
J.else?this._evaluateNode(J.else,oa,ra):null;case "parameter":return this.parameters[J.value.toLowerCase()];case "expression-list":xa=[];for(ka of J.value)xa.push(this._evaluateNode(ka,oa,ra));return xa;case "unary-expression":return M(this._evaluateNode(J.expr,oa,ra));case "binary-expression":switch(J.operator){case "AND":return G(this._evaluateNode(J.left,oa,ra),this._evaluateNode(J.right,oa,ra));case "OR":return r(this._evaluateNode(J.left,oa,ra),this._evaluateNode(J.right,oa,ra));case "IS":if("null"!==
J.right.type)throw Error("Unsupported RHS for IS");return null===this._evaluateNode(J.left,oa,ra);case "ISNOT":if("null"!==J.right.type)throw Error("Unsupported RHS for IS");return null!==this._evaluateNode(J.left,oa,ra);case "IN":return xa=D(this._evaluateNode(J.right,oa,ra)),y(this._evaluateNode(J.left,oa,ra),xa);case "NOT IN":return xa=D(this._evaluateNode(J.right,oa,ra)),M(y(this._evaluateNode(J.left,oa,ra),xa));case "BETWEEN":return xa=this._evaluateNode(J.left,oa,ra),J=this._evaluateNode(J.right,
oa,ra),null==xa||null==J[0]||null==J[1]?null:xa>=q(J[0])&&xa<=q(J[1]);case "NOTBETWEEN":return xa=this._evaluateNode(J.left,oa,ra),J=this._evaluateNode(J.right,oa,ra),null==xa||null==J[0]||null==J[1]?null:xa<q(J[0])||xa>q(J[1]);case "LIKE":return d(this._evaluateNode(J.left,oa,ra),this._evaluateNode(J.right,oa,ra),J.escape);case "NOT LIKE":return M(d(this._evaluateNode(J.left,oa,ra),this._evaluateNode(J.right,oa,ra),J.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return x(J.operator,
this._evaluateNode(J.left,oa,ra),this._evaluateNode(J.right,oa,ra));case "-":case "+":case "*":case "/":case "||":return L(J.operator,this._evaluateNode(J.left,oa,ra),this._evaluateNode(J.right,oa,ra))}case "null":case "boolean":case "string":case "number":return J.value;case "date":return k(J.value);case "timestamp":return g(J.value);case "current-time":return oa=new Date,"date"===J.mode&&oa.setHours(0,0,0,0),oa;case "column-reference":return O(oa,J.column,this._datefields,ra);case "data-type":return J.value;
case "function":return oa=this._evaluateNode(J.args,oa,ra),this.isAggregate?C.aggregateFunction(J.name,oa):B.evaluateFunction(J.name,oa)}throw Error("Unsupported sql syntax "+J.type);};e._createClass(T,[{key:"fieldNames",get:function(){return this._referencedFieldNames}},{key:"hasDateFunctions",get:function(){if(null!=this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;this._visitAll(this.parseTree,J=>{"current-time"===J.type?this._hasDateFunctions=!0:"function"===J.type&&
(this._hasDateFunctions=this._hasDateFunctions||la.has(J.name.toLowerCase()))});return this._hasDateFunctions}}]);return T}();var K;(function(T){T[T.Normal=0]="Normal";T[T.Escaped=1]="Escaped"})(K||(K={}));const U={getAttribute(T,ca){return(T&&"object"===typeof T.attributes?T.attributes:T)[ca]}};b.WhereClause=I;b.defaultAttributeAdapter=U;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(b){function e(B){let v=
0;for(let p=0;p<B.length;p++)v+=B[p];return v/B.length}function Z(B){const v=e(B),p=B.length;let f=0;for(const g of B)f+=(g-v)**2;return 1<p?f/(p-1):0}const C={min:{minParams:1,maxParams:1,evaluate:B=>null==B[0]?null:Math.min.apply(Math,B[0])},max:{minParams:1,maxParams:1,evaluate:B=>null==B[0]?null:Math.max.apply(Math,B[0])},avg:{minParams:1,maxParams:1,evaluate:B=>null==B[0]?null:e(B[0])},sum:{minParams:1,maxParams:1,evaluate:B=>{if(null==B[0])B=null;else{B=B[0];let v=0;for(let p=0;p<B.length;p++)v+=
B[p];B=v}return B}},stddev:{minParams:1,maxParams:1,evaluate:B=>null==B[0]?null:Math.sqrt(Z(B[0]))},count:{minParams:1,maxParams:1,evaluate:B=>null==B[0]?null:B[0].length},var:{minParams:1,maxParams:1,evaluate:B=>null==B[0]?null:Z(B[0])}};b.aggregateFunction=function(B,v){const p=C[B.toLowerCase()];if(null==p)throw Error("Function Not Recognised");if(v.length<p.minParams||v.length>p.maxParams)throw Error(`Invalid Parameter count for call to ${B.toUpperCase()}`);return p.evaluate(v)};b.isAggregate=
function(B,v){B=C[B.toLowerCase()];return null!=B&&v>=B.minParams&&v<=B.maxParams};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../../arcade/featureset/support/errorsupport","../string","../../chunks/datetime"],function(b,e,Z,C){function B(g){g=new Date(g.getTime());g.setHours(0,0,0,0);return g}function v(g,k){if(g instanceof Date)return k?B(g):g;if("string"===typeof g||g instanceof String)if(g=C.DateTime.fromSQL(g),
g.isValid)return k?B(g.toJSDate()):g.toJSDate();throw new e.SqlError(e.SqlErrorCodes.CannotCastValue);}let p=function(){function g(){this.op="+";this.millis=this.minute=this.year=this.month=this.hour=this.second=this.day=0}g._fixDefaults=function(k){if(null!==k.precision||null!==k.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};g._parseSecondsComponent=function(k,D){D.includes(".")?(D=D.split("."),k.second=parseFloat(D[0]),k.millis=parseInt(D[1],10)):k.second=
parseFloat(D)};g.createFromMilliseconds=function(k){const D=new g;D.second=k/1E3;return D};g.createFromValueAndQualifer=function(k,D,M){let G=null;const r=new g;r.op="-"===M?"-":"+";if("interval-period"===D.type){g._fixDefaults(D);M=RegExp("^[0-9]{1,}$");if("year"===D.period||"month"===D.period)throw Error("Year-Month Intervals not supported");if("second"===D.period)if(/^[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/.test(k))g._parseSecondsComponent(r,k);else throw Error("Illegal Interval");else if(M.test(k))r[D.period]=
parseFloat(k);else throw Error("Illegal Interval");}else{g._fixDefaults(D.start);g._fixDefaults(D.end);if("year"===D.start.period||"month"===D.start.period)throw Error("Year-Month Intervals not supported");if("year"===D.end.period||"month"===D.end.period)throw Error("Year-Month Intervals not supported");switch(D.start.period){case "day":switch(D.end.period){case "hour":G=RegExp("^[0-9]{1,} [0-9]{1,}$");if(G.test(k))r[D.start.period]=parseFloat(k.split(" ")[0]),r[D.end.period]=parseFloat(k.split(" ")[1]);
else throw Error("Illegal Interval");break;case "minute":G=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$");if(G.test(k))r[D.start.period]=parseFloat(k.split(" ")[0]),k=k.split(" ")[1].split(":"),r.hour=parseFloat(k[0]),r.minute=parseFloat(k[1]);else throw Error("Illegal Interval");break;case "second":G=RegExp("^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(G.test(k))r[D.start.period]=parseFloat(k.split(" ")[0]),k=k.split(" ")[1].split(":"),r.hour=parseFloat(k[0]),r.minute=parseFloat(k[1]),
g._parseSecondsComponent(r,k[2]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;case "hour":switch(D.end.period){case "minute":G=RegExp("^[0-9]{1,}:[0-9]{1,}$");if(G.test(k))r.hour=parseFloat(k.split(":")[0]),r.minute=parseFloat(k.split(":")[1]);else throw Error("Illegal Interval");break;case "second":G=RegExp("^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(G.test(k))k=k.split(":"),r.hour=parseFloat(k[0]),r.minute=parseFloat(k[1]),g._parseSecondsComponent(r,
k[2]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;case "minute":switch(D.end.period){case "second":G=RegExp("^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$");if(G.test(k))k=k.split(":"),r.minute=parseFloat(k[0]),g._parseSecondsComponent(r,k[1]);else throw Error("Illegal Interval");break;default:throw Error("Invalid Interval.");}break;default:throw Error("Invalid Interval.");}}return r};g.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*
(this.millis+1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return g}();const f={extract:{minParams:2,maxParams:2,evaluate:([g,k])=>{if(null==k)return null;if(k instanceof Date)switch(g.toUpperCase()){case "SECOND":return k.getSeconds();case "MINUTE":return k.getMinutes();case "HOUR":return k.getHours();case "DAY":return k.getDate();case "MONTH":return k.getMonth()+1;case "YEAR":return k.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");
}},substring:{minParams:2,maxParams:3,evaluate:g=>{if(2===g.length){const [k,D]=g;return null==k||null==D?null:k.toString().substring(D-1)}if(3===g.length){const [k,D,M]=g;return null==k||null==D||null==M?null:0>=M?"":k.toString().substring(D-1,D+M-1)}}},position:{minParams:2,maxParams:2,evaluate:([g,k])=>null==g||null==k?null:k.indexOf(g)+1},trim:{minParams:2,maxParams:3,evaluate:g=>{var k=3===g.length,D=k?g[1]:" ";k=k?g[2]:g[1];if(null==D||null==k)return null;D=`(${Z.escapeRegExpString(D)})`;switch(g[0]){case "BOTH":return k.replace(new RegExp(`^${D}*|${D}*$`,
"g"),"");case "LEADING":return k.replace(new RegExp(`^${D}*`,"g"),"");case "TRAILING":return k.replace(new RegExp(`${D}*$`,"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.abs(g[0])},ceiling:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.ceil(g[0])},floor:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.floor(g[0])},log:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.log(g[0])},log10:{minParams:1,
maxParams:1,evaluate:g=>null==g[0]?null:Math.log(g[0])*Math.LOG10E},sin:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.sin(g[0])},cos:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.cos(g[0])},tan:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.tan(g[0])},asin:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.asin(g[0])},acos:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.acos(g[0])},atan:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.atan(g[0])},
sign:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:0<g[0]?1:0>g[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:g=>null==g[0]||null==g[1]?null:g[0]**g[1]},mod:{minParams:2,maxParams:2,evaluate:g=>null==g[0]||null==g[1]?null:g[0]%g[1]},round:{minParams:1,maxParams:2,evaluate:g=>{const k=g[0];g=2===g.length?10**g[1]:1;return null==k?null:Math.round(k*g)/g}},truncate:{minParams:1,maxParams:2,evaluate:g=>null==g[0]?null:1===g.length?parseInt(g[0].toFixed(0),10):parseFloat(g[0].toFixed(g[1]))},
char_length:{minParams:1,maxParams:1,evaluate:g=>"string"===typeof g[0]||g[0]instanceof String?g[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:g=>{let k="";for(let D=0;D<g.length;D++){if(null==g[D])return null;k+=g[D].toString()}return k}},lower:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:g[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:g[0].toString().toUpperCase()},coalesce:{minParams:1,maxParams:Infinity,evaluate:g=>{for(const k of g)if(null!==
k)return k;return null}},cosh:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.cosh(g[0])},sinh:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.sinh(g[0])},tanh:{minParams:1,maxParams:1,evaluate:g=>null==g[0]?null:Math.tanh(g[0])},nullif:{minParams:2,maxParams:2,evaluate:g=>{const k=g[0];g=g[1];return(k instanceof Date?k.valueOf():k)===(g instanceof Date?g.valueOf():g)?null:k}},cast:{minParams:2,maxParams:2,evaluate:g=>{var k=g[0];g=g[1];if(null===k)return null;switch(g.type){case "integer":k=
parseInt(k,10);if(isNaN(k))throw new e.SqlError(e.SqlErrorCodes.CannotCastValue);return k;case "smallint":k=parseInt(k,10);if(isNaN(k))throw new e.SqlError(e.SqlErrorCodes.CannotCastValue);if(32767<k||-32767>k)throw new e.SqlError(e.SqlErrorCodes.CannotCastValue);return k;case "float":case "real":k=parseFloat(k);if(isNaN(k))throw new e.SqlError(e.SqlErrorCodes.CannotCastValue);return k;case "date":return v(k,!0);case "timestamp":return v(k,!1);case "varchar":k=k.toString();if(k.length>g.size)throw new e.SqlError(e.SqlErrorCodes.CannotCastValue);
return k;default:throw new e.SqlError(e.SqlErrorCodes.InvalidDataType);}}}};b.SqlInterval=p;b.evaluateFunction=function(g,k){const D=f[g.toLowerCase()];if(null==D)throw Error("Function Not Recognised");if(k.length<D.minParams||k.length>D.maxParams)throw Error(`Invalid Parameter count for call to ${g.toUpperCase()}`);return D.evaluate(k)};b.isStandardized=function(g,k){g=f[g.toLowerCase()];return null!=g&&k>=g.minParams&&k<=g.maxParams};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/arcade/featureset/support/errorsupport":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers","../../executionError"],function(b,e,Z){b.SqlErrorCodes=void 0;(function(f){f.InvalidFunctionParameters="InvalidFunctionParameters";f.UnsupportedSqlFunction="UnsupportedSqlFunction";f.UnsupportedOperator="UnsupportedOperator";f.UnsupportedSyntax="UnsupportedSyntax";f.UnsupportedIsRhs="UnsupportedIsRhs";f.UnsupportedIsLhs="UnsupportedIsLhs";f.InvalidDataType="InvalidDataType";f.CannotCastValue=
"CannotCastValue";f.MissingStatisticParameters="MissingStatisticParameters"})(b.SqlErrorCodes||(b.SqlErrorCodes={}));const C={[b.SqlErrorCodes.MissingStatisticParameters]:"Statistic does not have 1 or 0 Parameters",[b.SqlErrorCodes.InvalidFunctionParameters]:"Invalid parameters for call to {function}",[b.SqlErrorCodes.UnsupportedIsLhs]:"Unsupported left hand expression in is statement",[b.SqlErrorCodes.UnsupportedIsRhs]:"Unsupported right hand expression in is statement",[b.SqlErrorCodes.UnsupportedOperator]:"Unsupported operator - {operator}",
[b.SqlErrorCodes.UnsupportedSyntax]:"Unsupported syntax - {node}",[b.SqlErrorCodes.UnsupportedSqlFunction]:"Sql function not found \x3d {function}",[b.SqlErrorCodes.InvalidDataType]:"Invalid sql data type",[b.SqlErrorCodes.CannotCastValue]:"Cannot cast value to the required data type"};let B=function(f){function g(k,D){k=f.call(this,Z.doSubstitutions(C[k],D))||this;k.declaredRootClass="esri.arcade.featureset.support.sqlerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(k),
g);return k}e._inheritsLoose(g,f);return g}(e._wrapNativeSuper(Error));b.FeatureSetErrorCodes=void 0;(function(f){f.NeverReach="NeverReach";f.NotImplemented="NotImplemented";f.Cancelled="Cancelled";f.InvalidStatResponse="InvalidStatResponse";f.InvalidRequest="InvalidRequest";f.RequestFailed="RequestFailed";f.MissingFeatures="MissingFeatures";f.AggregationFieldNotFound="AggregationFieldNotFound";f.DataElementsNotFound="DataElementsNotFound"})(b.FeatureSetErrorCodes||(b.FeatureSetErrorCodes={}));const v=
{[b.FeatureSetErrorCodes.Cancelled]:"Cancelled",[b.FeatureSetErrorCodes.InvalidStatResponse]:"Invalid statistics response from service",[b.FeatureSetErrorCodes.InvalidRequest]:"Invalid request",[b.FeatureSetErrorCodes.RequestFailed]:"Request failed - {reason}",[b.FeatureSetErrorCodes.MissingFeatures]:"Missing features",[b.FeatureSetErrorCodes.AggregationFieldNotFound]:"Aggregation field not found",[b.FeatureSetErrorCodes.DataElementsNotFound]:"Data elements not found on service",[b.FeatureSetErrorCodes.NeverReach]:"Encountered unreachable logic",
[b.FeatureSetErrorCodes.NotImplemented]:"Not implemented"};let p=function(f){function g(k,D){k=f.call(this,Z.doSubstitutions(v[k],D))||this;k.declaredRootClass="esri.arcade.featureset.support.featureseterror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(k),g);return k}e._inheritsLoose(g,f);return g}(e._wrapNativeSuper(Error));b.FeatureSetError=p;b.FeatureSetErrorMessages=v;b.SqlError=B;b.SqlErrorMessages=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},
"esri/arcade/executionError":function(){define(["exports","../chunks/_rollupPluginBabelHelpers"],function(b,e){function Z(G){return G&&G.loc?`Line : ${G.loc.start?.line}, ${G.loc.start?.column}: `:""}function C(G,r){try{if(!r)return G;for(const y in r){let d=r[y];d||(d="");G=G.replace("{"+y+"}",r[y])}}catch(y){}return G}b.ExecutionErrorCodes=void 0;(function(G){G.AsyncNotEnabled="AsyncNotEnabled";G.ModulesNotSupported="ModulesNotSupported";G.CircularModules="CircularModules";G.NeverReach="NeverReach";
G.UnsupportedHashType="UnsupportedHashType";G.InvalidParameter="InvalidParameter";G.UnexpectedToken="UnexpectedToken";G.Unrecognised="Unrecognised";G.UnrecognisedType="UnrecognisedType";G.MaximumCallDepth="MaximumCallDepth";G.BooleanConditionRequired="BooleanConditionRequired";G.TypeNotAllowedInFeature="TypeNotAllowedInFeature";G.KeyMustBeString="KeyMustBeString";G.WrongNumberOfParameters="WrongNumberOfParameters";G.CallNonFunction="CallNonFunction";G.NoFunctionInTemplateLiteral="NoFunctionInTemplateLiteral";
G.NoFunctionInDictionary="NoFunctionInDictionary";G.NoFunctionInArray="NoFunctionInArray";G.AssignModuleFunction="AssignModuleFunction";G.LogicExpressionOrAnd="LogicExpressionOrAnd";G.LogicalExpressionOnlyBoolean="LogicalExpressionOnlyBoolean";G.FuncionNotFound="FunctionNotFound";G.InvalidMemberAccessKey="InvalidMemberAccessKey";G.UnsupportedUnaryOperator="UnsupportUnaryOperator";G.InvalidIdentifier="InvalidIdentifier";G.MemberOfNull="MemberOfNull";G.UnsupportedOperator="UnsupportedOperator";G.Cancelled=
"Cancelled";G.ModuleAccessorMustBeString="ModuleAccessorMustBeString";G.ModuleExportNotFound="ModuleExportNotFound";G.Immutable="Immutable";G.OutOfBounds="OutOfBounds";G.IllegalResult="IllegalResult";G.FieldNotFound="FieldNotFound";G.PortalRequired="PortalRequired";G.LogicError="LogicError";G.ArrayAccessorMustBeNumber="ArrayAccessMustBeNumber";G.KeyAccessorMustBeString="KeyAccessorMustBeString";G.WrongSpatialReference="WrongSpatialReference"})(b.ExecutionErrorCodes||(b.ExecutionErrorCodes={}));const B=
{[b.ExecutionErrorCodes.TypeNotAllowedInFeature]:"Feature attributes only support dates, numbers, strings, guids.",[b.ExecutionErrorCodes.LogicError]:"Logic error - {reason}",[b.ExecutionErrorCodes.NeverReach]:"Encountered unreachable logic",[b.ExecutionErrorCodes.AsyncNotEnabled]:"Async Arcade must be enabled for this script",[b.ExecutionErrorCodes.ModuleAccessorMustBeString]:"Module accessor must be a string",[b.ExecutionErrorCodes.ModuleExportNotFound]:"Module has no export with provided identifier",
[b.ExecutionErrorCodes.ModulesNotSupported]:"Current profile does not support modules",[b.ExecutionErrorCodes.ArrayAccessorMustBeNumber]:"Array accessor must be a number",[b.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[b.ExecutionErrorCodes.FieldNotFound]:"Key not found - {key}",[b.ExecutionErrorCodes.CircularModules]:"Circular module dependencies are not allowed",[b.ExecutionErrorCodes.Cancelled]:"Execution cancelled",[b.ExecutionErrorCodes.UnsupportedHashType]:"Type not supported in hash function",
[b.ExecutionErrorCodes.IllegalResult]:"Value is not a supported return type",[b.ExecutionErrorCodes.PortalRequired]:"Portal is required",[b.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",[b.ExecutionErrorCodes.WrongNumberOfParameters]:"Call with wrong number of parameters",[b.ExecutionErrorCodes.Unrecognised]:"Unrecognised code structure",[b.ExecutionErrorCodes.UnrecognisedType]:"Unrecognised type",[b.ExecutionErrorCodes.WrongSpatialReference]:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",
[b.ExecutionErrorCodes.BooleanConditionRequired]:"Conditions must use booleans",[b.ExecutionErrorCodes.NoFunctionInDictionary]:"Dictionaries cannot contain functions.",[b.ExecutionErrorCodes.NoFunctionInArray]:"Arrays cannot contain functions.",[b.ExecutionErrorCodes.NoFunctionInTemplateLiteral]:"Template Literals do not expect functions by value.",[b.ExecutionErrorCodes.KeyAccessorMustBeString]:"Accessor must be a string",[b.ExecutionErrorCodes.KeyMustBeString]:"Object keys must be a string",[b.ExecutionErrorCodes.Immutable]:"Object is immutable",
[b.ExecutionErrorCodes.InvalidParameter]:"Invalid parameter",[b.ExecutionErrorCodes.UnexpectedToken]:"Unexpected token",[b.ExecutionErrorCodes.MemberOfNull]:"Cannot access property of null object",[b.ExecutionErrorCodes.MaximumCallDepth]:"Exceeded maximum function depth",[b.ExecutionErrorCodes.OutOfBounds]:"Out of bounds",[b.ExecutionErrorCodes.InvalidIdentifier]:"Identifier not recognised",[b.ExecutionErrorCodes.FuncionNotFound]:"Function not found",[b.ExecutionErrorCodes.CallNonFunction]:"Expression is not a function",
[b.ExecutionErrorCodes.InvalidMemberAccessKey]:"Cannot access value using a key of this type",[b.ExecutionErrorCodes.AssignModuleFunction]:"Cannot assign function to module variable",[b.ExecutionErrorCodes.UnsupportedUnaryOperator]:"Unsupported unary operator",[b.ExecutionErrorCodes.UnsupportedOperator]:"Unsupported operator",[b.ExecutionErrorCodes.LogicalExpressionOnlyBoolean]:"Logical expressions must be boolean",[b.ExecutionErrorCodes.LogicExpressionOrAnd]:"Logical expression can only be combined with || or \x26\x26"};
let v=function(G){function r(...y){return G.call(this,...y)||this}e._inheritsLoose(r,G);return r}(e._wrapNativeSuper(Error)),p=function(G){function r(y,d){y=G.call(this,Z(d)+y.message,{cause:y})||this;y.loc=null;Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(y),r);d&&d.loc&&(y.loc=d.loc);return y}e._inheritsLoose(r,G);return r}(v),f=function(G){function r(y,d,q,x){y=G.call(this,"Execution error - "+Z(q)+C(B[d],x))||this;y.loc=null;y.declaredRootClass="esri.arcade.arcadeexecutionerror";
Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(y),r);q&&q.loc&&(y.loc=q.loc);return y}e._inheritsLoose(r,G);return r}(e._wrapNativeSuper(Error)),g=function(G){function r(y,d,q,x){y=G.call(this,"Compilation error - "+Z(q)+C(B[d],x))||this;y.loc=null;y.declaredRootClass="esri.arcade.arcadecompilationerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(y),r);q&&q.loc&&(y.loc=q.loc);return y}e._inheritsLoose(r,G);return r}(e._wrapNativeSuper(Error)),
k=function(G){function r(){var y=G.call(this,"Uncompilable code structures")||this;y.declaredRootClass="esri.arcade.arcadeuncompilableerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(y),r);return y}e._inheritsLoose(r,G);return r}(e._wrapNativeSuper(Error));b.ModuleErrorCodes=void 0;(function(G){G.UnrecognisedUri="UnrecognisedUri";G.UnsupportedUriProtocol="UnsupportedUriProtocol"})(b.ModuleErrorCodes||(b.ModuleErrorCodes={}));const D={[b.ModuleErrorCodes.UnrecognisedUri]:"Unrecognised uri - {uri}",
[b.ModuleErrorCodes.UnsupportedUriProtocol]:"Unrecognised uri protocol"};let M=function(G){function r(y,d){y=G.call(this,C(D[y],d))||this;y.declaredRootClass="esri.arcade.arcademoduleerror";Error.captureStackTrace&&Error.captureStackTrace(e._assertThisInitialized(y),r);return y}e._inheritsLoose(r,G);return r}(e._wrapNativeSuper(Error));b.ArcadeCompilationError=g;b.ArcadeExecutionError=f;b.ArcadeUncompilableError=k;b.ErrorWithCause=v;b.ExecutionErrorMessages=B;b.LocatableArcadeExecutionError=p;b.ModuleError=
M;b.ModuleErrorMessages=D;b.doSubstitutions=C;b.ensureArcadeExecutionError=function(G,r,y){return"esri.arcade.arcadeexecutionerror"===y.declaredRootClass||"esri.arcade.arcadecompilationerror"===y.declaredRootClass?null===y.loc&&r&&r.loc?new p(y,{cause:y}):y:r&&r.loc?new p(y,{cause:y}):y};b.parsingValidationMessage=function(G,r,y){return"Parsing error - "+Z(G)+C(B[r],y)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(b){function e(a,
m={}){const Q=JSON.stringify([a,m]);let ja=gd[Q];ja||(ja=new Intl.ListFormat(a,m),gd[Q]=ja);return ja}function Z(a,m={}){const Q=JSON.stringify([a,m]);let ja=Hc[Q];ja||(ja=new Intl.DateTimeFormat(a,m),Hc[Q]=ja);return ja}function C(a,m={}){const Q=JSON.stringify([a,m]);let ja=Ic[Q];ja||(ja=new Intl.NumberFormat(a,m),Ic[Q]=ja);return ja}function B(a,m={}){const {base:Q,...ja}=m,qa=JSON.stringify([a,ja]);let ya=Jc[qa];ya||(ya=new Intl.RelativeTimeFormat(a,m),Jc[qa]=ya);return ya}function v(a){const m=
[];for(let Q=1;12>=Q;Q++){const ja=$a.utc(2016,Q,1);m.push(a(ja))}return m}function p(a){const m=[];for(let Q=1;7>=Q;Q++){const ja=$a.utc(2016,11,13+Q);m.push(a(ja))}return m}function f(a,m,Q,ja,qa){a=a.listingMode(Q);return"error"===a?null:"en"===a?ja(m):qa(m)}function g(a,m){if(k(a)||null===a)return m;if(a instanceof hc)return a;if("string"===typeof a){const Q=a.toLowerCase();return"default"===Q?m:"local"===Q||"system"===Q?nc.instance:"utc"===Q||"gmt"===Q?Eb.utcInstance:Eb.parseSpecifier(Q)||Rb.create(a)}return D(a)?
Eb.instance(a):"object"===typeof a&&a.offset&&"number"===typeof a.offset?a:new hd(a)}function k(a){return"undefined"===typeof a}function D(a){return"number"===typeof a}function M(a){return"number"===typeof a&&0===a%1}function G(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function r(a,m,Q){if(0!==a.length)return a.reduce((ja,qa)=>{qa=[m(qa),qa];return ja?Q(ja[0],qa[0])===ja[0]?ja:qa:qa},null)[1]}function y(a,m){return m.reduce((Q,ja)=>{Q[ja]=a[ja];return Q},
{})}function d(a,m){return Object.prototype.hasOwnProperty.call(a,m)}function q(a,m,Q){return M(a)&&a>=m&&a<=Q}function x(a,m=2){return 0>a?"-"+(""+-a).padStart(m,"0"):(""+a).padStart(m,"0")}function L(a){if(!k(a)&&null!==a&&""!==a)return parseInt(a,10)}function O(a){if(!k(a)&&null!==a&&""!==a)return parseFloat(a)}function P(a){if(!k(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function E(a,m,Q=!1){m=10**m;return(Q?Math.trunc:Math.round)(a*m)/m}function t(a){return 0===a%4&&
(0!==a%100||0===a%400)}function A(a,m){var Q=m-1;Q=Q-12*Math.floor(Q/12)+1;return 2===Q?t(a+(m-Q)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][Q-1]}function N(a){let m=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(m=new Date(m),m.setUTCFullYear(m.getUTCFullYear()-1900));return+m}function la(a){var m=a-1;m=(m+Math.floor(m/4)-Math.floor(m/100)+Math.floor(m/400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===m?53:52}
function aa(a){return 99<a?a:a>xb.twoDigitCutoffYear?1900+a:2E3+a}function I(a,m,Q,ja=null){a=new Date(a);const qa={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};ja&&(qa.timeZone=ja);return(m=(new Intl.DateTimeFormat(Q,{timeZoneName:m,...qa})).formatToParts(a).find(ya=>"timezonename"===ya.type.toLowerCase()))?m.value:null}function K(a,m){a=parseInt(a,10);Number.isNaN(a)&&(a=0);m=parseInt(m,10)||0;m=0>a||Object.is(a,-0)?-m:m;return 60*a+m}function U(a){const m=
Number(a);if("boolean"===typeof a||""===a||Number.isNaN(m))throw new va(`Invalid unit value ${a}`);return m}function T(a,m){const Q={};for(const ja in a)if(d(a,ja)){const qa=a[ja];void 0!==qa&&null!==qa&&(Q[m(ja)]=U(qa))}return Q}function ca(a,m){const Q=Math.trunc(Math.abs(a/60)),ja=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(m){case "short":return`${a}${x(Q,2)}:${x(ja,2)}`;case "narrow":return`${a}${Q}${0<ja?`:${ja}`:""}`;case "techie":return`${a}${x(Q,2)}${x(ja,2)}`;default:throw new RangeError(`Value format ${m} is out of range for property format`);
}}function J(a){return y(a,["hour","minute","second","millisecond"])}function oa(a){switch(a){case "narrow":return[...id];case "short":return[...jd];case "long":return[...kd];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function ra(a){switch(a){case "narrow":return[...oe];case "short":return[...ld];case "long":return[...md];case "numeric":return"1234567".split("");default:return null}}function xa(a){switch(a){case "narrow":return[...Kc];
case "short":return[...pe];case "long":return[...qe];default:return null}}function ka(a,m,Q="always",ja=!1){const qa={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var ya=-1===["hours","minutes","seconds"].indexOf(a);if("auto"===Q&&ya)switch(Q="days"===a,m){case 1:return Q?"tomorrow":`next ${qa[a][0]}`;case -1:return Q?"yesterday":`last ${qa[a][0]}`;case 0:return Q?
"today":`this ${qa[a][0]}`}Q=Object.is(m,-0)||0>m;m=Math.abs(m);ya=1===m;const Ga=qa[a];a=ja?ya?Ga[1]:Ga[2]||Ga[1]:ya?qa[a][0]:a;return Q?`${m} ${a} ago`:`in ${m} ${a}`}function V(a,m){let Q="";for(const ja of a)Q=ja.literal?Q+ja.val:Q+m(ja.val);return Q}function R(...a){a=a.reduce((m,Q)=>m+Q.source,"");return RegExp(`^${a}$`)}function F(...a){return m=>a.reduce(([Q,ja,qa],ya)=>{const [Ga,La,Ra]=ya(m,qa);return[{...Q,...Ga},La||ja,Ra]},[{},null,1]).slice(0,2)}function n(a,...m){if(null==a)return[null,
null];for(const [Q,ja]of m)if(m=Q.exec(a))return ja(m);return[null,null]}function W(...a){return(m,Q)=>{const ja={};let qa;for(qa=0;qa<a.length;qa++)ja[a[qa]]=L(m[Q+qa]);return[ja,null,Q+qa]}}function za(a,m,Q){a=a[m];return k(a)?Q:L(a)}function Ea(a,m){return[{hours:za(a,m,0),minutes:za(a,m+1,0),seconds:za(a,m+2,0),milliseconds:P(a[m+3])},null,m+4]}function Qa(a,m){const Q=!a[m]&&!a[m+1];a=K(a[m+1],a[m+2]);return[{},Q?null:Eb.instance(a),m+3]}function Oa(a,m){return[{},a[m]?Rb.create(a[m]):null,
m+1]}function bb(a){const [m,Q,ja,qa,ya,Ga,La,Ra,l]=a,Xa="-"===m[0];a=Ra&&"-"===Ra[0];const Ya=(cb,Aa=!1)=>void 0!==cb&&(Aa||cb&&Xa)?-cb:cb;return[{years:Ya(O(Q)),months:Ya(O(ja)),weeks:Ya(O(qa)),days:Ya(O(ya)),hours:Ya(O(Ga)),minutes:Ya(O(La)),seconds:Ya(O(Ra),"-0"===Ra),milliseconds:Ya(P(l),a)}]}function fb(a,m,Q,ja,qa,ya,Ga){m={year:2===m.length?aa(L(m)):L(m),month:jd.indexOf(Q)+1,day:L(ja),hour:L(qa),minute:L(ya)};Ga&&(m.second=L(Ga));a&&(m.weekday=3<a.length?md.indexOf(a)+1:ld.indexOf(a)+1);
return m}function vb(a){const [,m,Q,ja,qa,ya,Ga,La,Ra,l,Xa,Ya]=a;a=fb(m,qa,ja,Q,ya,Ga,La);let cb;cb=Ra?re[Ra]:l?0:K(Xa,Ya);return[a,new Eb(cb)]}function h(a){const [,m,Q,ja,qa,ya,Ga,La]=a;return[fb(m,qa,ja,Q,ya,Ga,La),Eb.utcInstance]}function u(a){const [,m,Q,ja,qa,ya,Ga,La]=a;return[fb(m,La,Q,ja,qa,ya,Ga),Eb.utcInstance]}function ia(a,m,Q=!1){a={values:Q?m.values:{...a.values,...(m.values||{})},loc:a.loc.clone(m.loc),conversionAccuracy:m.conversionAccuracy||a.conversionAccuracy,matrix:m.matrix||
a.matrix};return new gb(a)}function pa(a,m,Q,ja,qa){a=a[qa][Q];var ya=m[Q]/a;ya=Math.sign(ya)!==Math.sign(ja[qa])&&0!==ja[qa]&&1>=Math.abs(ya)?0>ya?Math.floor(ya):Math.ceil(ya):Math.trunc(ya);ja[qa]+=ya;m[Q]-=ya*a}function Ba(a,m){se.reduce((Q,ja)=>{if(k(m[ja]))return Q;Q&&pa(a,m,Q,m,ja);return ja},null)}function z(a,m){a=m.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(gb.fromMillis(a).as("days"))}function S(a,m,Q){const ja=
[["years",(Ra,l)=>l.year-Ra.year],["quarters",(Ra,l)=>l.quarter-Ra.quarter+4*(l.year-Ra.year)],["months",(Ra,l)=>l.month-Ra.month+12*(l.year-Ra.year)],["weeks",(Ra,l)=>{Ra=z(Ra,l);return(Ra-Ra%7)/7}],["days",z]],qa={},ya=a;let Ga,La;for(const [Ra,l]of ja)0<=Q.indexOf(Ra)&&(Ga=Ra,qa[Ra]=l(a,m),La=ya.plus(qa),La>m?(qa[Ra]--,a=ya.plus(qa)):a=La);return[a,qa,La,Ga]}function ha(a,m,Q,ja){let [qa,ya,Ga,La]=S(a,m,Q);a=m-qa;Q=Q.filter(Ra=>0<=["hours","minutes","seconds","milliseconds"].indexOf(Ra));0===Q.length&&
(Ga<m&&(Ga=qa.plus({[La]:1})),Ga!==qa&&(ya[La]=(ya[La]||0)+a/(Ga-qa)));m=gb.fromObject(ya,ja);return 0<Q.length?gb.fromMillis(a,ja).shiftTo(...Q).plus(m):m}function ba({numberingSystem:a},m=""){return new RegExp(`${Lc[a||"latn"]}${m}`)}function na(a,m=Q=>Q){return{regex:a,deser:([Q])=>{{let ja=parseInt(Q,10);if(isNaN(ja)){ja="";for(let qa=0;qa<Q.length;qa++){const ya=Q.charCodeAt(qa);if(-1!==Q[qa].search(Lc.hanidec))ja+=te.indexOf(Q[qa]);else for(const Ga in nd){const [La,Ra]=nd[Ga];ya>=La&&ya<=Ra&&
(ja+=ya-La)}}Q=parseInt(ja,10)}else Q=ja}return m(Q)}}}function sa(a){return a.replace(/\./g,"\\.?").replace(Mc,od)}function wa(a,m){return null===a?null:{regex:RegExp(a.map(sa).join("|")),deser:([Q])=>a.findIndex(ja=>Q.replace(/\./g,"").replace(Mc," ").toLowerCase()===ja.replace(/\./g,"").replace(Mc," ").toLowerCase())+m}}function X(a,m){return{regex:a,deser:([,Q,ja])=>K(Q,ja),groups:m}}function fa(a){return{regex:a,deser:([m])=>m}}function ua(a,m){const Q=ba(m),ja=ba(m,"{2}"),qa=ba(m,"{3}"),ya=
ba(m,"{4}"),Ga=ba(m,"{6}"),La=ba(m,"{1,2}"),Ra=ba(m,"{1,3}"),l=ba(m,"{1,6}"),Xa=ba(m,"{1,9}"),Ya=ba(m,"{2,4}"),cb=ba(m,"{4,6}"),Aa=w=>({regex:RegExp(w.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([H])=>H,literal:!0}),Wb=(w=>{if(a.literal)return Aa(w);switch(w.val){case "G":return wa(m.eras("short",!1),0);case "GG":return wa(m.eras("long",!1),0);case "y":return na(l);case "yy":return na(Ya,aa);case "yyyy":return na(ya);case "yyyyy":return na(cb);case "yyyyyy":return na(Ga);case "M":return na(La);
case "MM":return na(ja);case "MMM":return wa(m.months("short",!0,!1),1);case "MMMM":return wa(m.months("long",!0,!1),1);case "L":return na(La);case "LL":return na(ja);case "LLL":return wa(m.months("short",!1,!1),1);case "LLLL":return wa(m.months("long",!1,!1),1);case "d":return na(La);case "dd":return na(ja);case "o":return na(Ra);case "ooo":return na(qa);case "HH":return na(ja);case "H":return na(La);case "hh":return na(ja);case "h":return na(La);case "mm":return na(ja);case "m":return na(La);case "q":return na(La);
case "qq":return na(ja);case "s":return na(La);case "ss":return na(ja);case "S":return na(Ra);case "SSS":return na(qa);case "u":return fa(Xa);case "uu":return fa(La);case "uuu":return na(Q);case "a":return wa(m.meridiems(),0);case "kkkk":return na(ya);case "kk":return na(Ya,aa);case "W":return na(La);case "WW":return na(ja);case "E":case "c":return na(Q);case "EEE":return wa(m.weekdays("short",!1,!1),1);case "EEEE":return wa(m.weekdays("long",!1,!1),1);case "ccc":return wa(m.weekdays("short",!0,!1),
1);case "cccc":return wa(m.weekdays("long",!0,!1),1);case "Z":case "ZZ":return X(new RegExp(`([+-]${La.source})(?::(${ja.source}))?`),2);case "ZZZ":return X(new RegExp(`([+-]${La.source})(${ja.source})?`),2);case "z":return fa(/[a-z_+-/]{1,256}?/i);default:return Aa(w)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};Wb.token=a;return Wb}function Ca(a){return[`^${a.map(m=>m.regex).reduce((m,Q)=>`${m}(${Q.source})`,"")}$`,a]}function Ha(a,m,Q){if(a=a.match(m)){m={};let ja=
1;for(const qa in Q)if(d(Q,qa)){const ya=Q[qa],Ga=ya.groups?ya.groups+1:1;!ya.literal&&ya.token&&(m[ya.token.val[0]]=ya.deser(a.slice(ja,ja+Ga)));ja+=Ga}return[a,m]}return[a,{}]}function Pa(a){const m=qa=>{switch(qa){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";
case "q":return"quarter";default:return null}};let Q=null,ja;k(a.z)||(Q=Rb.create(a.z));k(a.Z)||(Q||(Q=new Eb(a.Z)),ja=a.Z);k(a.q)||(a.M=3*(a.q-1)+1);k(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);k(a.u)||(a.S=P(a.u));return[Object.keys(a).reduce((qa,ya)=>{const Ga=m(ya);Ga&&(qa[Ga]=a[ya]);return qa},{}),Q,ja]}function Ma(a,m){return Array.prototype.concat(...a.map(Q=>{if(!Q.literal){var ja=Fb.macroTokenToFormatOpts(Q.val);ja=Ua(ja,m);Q=null==ja||ja.includes(void 0)?
Q:ja}return Q}))}function Ta(a,m,Q){Q=Ma(Fb.parseFormat(Q),a);var ja=Q.map(cb=>ua(cb,a));const qa=ja.find(cb=>cb.invalidReason);if(qa)return{input:m,tokens:Q,invalidReason:qa.invalidReason};const [ya,Ga]=Ca(ja);ja=RegExp(ya,"i");const [La,Ra]=Ha(m,ja,Ga),[l,Xa,Ya]=Ra?Pa(Ra):[null,null,void 0];if(d(Ra,"a")&&d(Ra,"H"))throw new ma("Can't include meridiem when specifying 24-hour format");return{input:m,tokens:Q,regex:ja,rawMatches:La,matches:Ra,result:l,zone:Xa,specificOffset:Ya}}function Ua(a,m){if(!a)return null;
m=Fb.create(m,a);var Q=m.formatDateTimeParts;Nc||(Nc=$a.fromMillis(1555555555555));return Q.call(m,Nc).map(ja=>{{const {type:ya,value:Ga}=ja;if("literal"===ya)ja={literal:!0,val:Ga};else{ja=a[ya];var qa=ue[ya];"object"===typeof qa&&(qa=qa[ja]);ja=qa?{literal:!1,val:qa}:void 0}}return ja})}function Ka(a,m){return new Qb("unit out of range",`you specified ${m} (of type ${typeof m}) as a ${a}, which is invalid`)}function Va(a,m,Q){m=new Date(Date.UTC(a,m-1,Q));100>a&&0<=a&&m.setUTCFullYear(m.getUTCFullYear()-
1900);a=m.getUTCDay();return 0===a?7:a}function Da(a,m){a=t(a)?Oc:Pc;const Q=a.findIndex(ja=>ja<m);return{month:Q+1,day:m-a[Q]}}function tb(a){const {year:m,month:Q,day:ja}=a;var qa=ja+(t(m)?Oc:Pc)[Q-1];const ya=Va(m,Q,ja);qa=Math.floor((qa-ya+10)/7);let Ga;1>qa?(Ga=m-1,qa=la(Ga)):qa>la(m)?(Ga=m+1,qa=1):Ga=m;return{weekYear:Ga,weekNumber:qa,weekday:ya,...J(a)}}function ub(a){const {weekYear:m,weekNumber:Q,weekday:ja}=a;var qa=Va(m,1,4),ya=t(m)?366:365;qa=7*Q+ja-qa-3;1>qa?(ya=m-1,qa+=t(ya)?366:365):
qa>ya?(ya=m+1,qa-=t(m)?366:365):ya=m;const {month:Ga,day:La}=Da(ya,qa);return{year:ya,month:Ga,day:La,...J(a)}}function pb(a){const {year:m,month:Q,day:ja}=a;var qa=ja+(t(m)?Oc:Pc)[Q-1];return{year:m,ordinal:qa,...J(a)}}function c(a){const {year:m,ordinal:Q}=a,{month:ja,day:qa}=Da(m,Q);return{year:m,month:ja,day:qa,...J(a)}}function ib(a){const m=M(a.year),Q=q(a.month,1,12),ja=q(a.day,1,A(a.year,a.month));return m?Q?ja?!1:Ka("day",a.day):Ka("month",a.month):Ka("year",a.year)}function eb(a){const {hour:m,
minute:Q,second:ja,millisecond:qa}=a;a=q(m,0,23)||24===m&&0===Q&&0===ja&&0===qa;const ya=q(Q,0,59),Ga=q(ja,0,59),La=q(qa,0,999);return a?ya?Ga?La?!1:Ka("millisecond",qa):Ka("second",ja):Ka("minute",Q):Ka("hour",m)}function Gb(a){return new Qb("unsupported zone",`the zone "${a.name}" is not supported`)}function Pb(a){null===a.weekData&&(a.weekData=tb(a.c));return a.weekData}function mb(a,m){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new $a({...a,...m,old:a})}function Xb(a,
m,Q){let ja=a-6E4*m;const qa=Q.offset(ja);if(m===qa)return[ja,m];ja-=6E4*(qa-m);m=Q.offset(ja);return qa===m?[ja,qa]:[a-6E4*Math.min(qa,m),Math.max(qa,m)]}function ta(a,m){a=new Date(a+6E4*m);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),millisecond:a.getUTCMilliseconds()}}function Yb(a,m,Q){return Xb(N(a),m,Q)}function Sb(a,m){const Q=a.o;var ja=a.c.year+Math.trunc(m.years);const qa=a.c.month+Math.trunc(m.months)+
3*Math.trunc(m.quarters);ja={...a.c,year:ja,month:qa,day:Math.min(a.c.day,A(ja,qa))+Math.trunc(m.days)+7*Math.trunc(m.weeks)};m=gb.fromObject({years:m.years-Math.trunc(m.years),quarters:m.quarters-Math.trunc(m.quarters),months:m.months-Math.trunc(m.months),weeks:m.weeks-Math.trunc(m.weeks),days:m.days-Math.trunc(m.days),hours:m.hours,minutes:m.minutes,seconds:m.seconds,milliseconds:m.milliseconds}).as("milliseconds");ja=N(ja);let [ya,Ga]=Xb(ja,Q,a.zone);0!==m&&(ya+=m,Ga=a.zone.offset(ya));return{ts:ya,
o:Ga}}function zb(a,m,Q,ja,qa,ya){const {setZone:Ga,zone:La}=Q;return a&&0!==Object.keys(a).length?(a=$a.fromObject(a,{...Q,zone:m||La,specificOffset:ya}),Ga?a:a.setZone(La)):$a.invalid(new Qb("unparsable",`the input "${qa}" can't be parsed as ${ja}`))}function Kb(a,m,Q=!0){return a.isValid?Fb.create(qb.create("en-US"),{allowZ:Q,forceSimple:!0}).formatDateTimeFromString(a,m):null}function Zb(a,m){const Q=9999<a.c.year||0>a.c.year;let ja="";Q&&0<=a.c.year&&(ja+="+");ja+=x(a.c.year,Q?6:4);m?(ja=ja+
"-"+x(a.c.month),ja=ja+"-"+x(a.c.day)):(ja+=x(a.c.month),ja+=x(a.c.day));return ja}function $b(a,m,Q,ja,qa,ya){let Ga=x(a.c.hour);m?(Ga=Ga+":"+x(a.c.minute),0===a.c.second&&Q||(Ga+=":")):Ga+=x(a.c.minute);0===a.c.second&&Q||(Ga+=x(a.c.second),0===a.c.millisecond&&ja||(Ga=Ga+"."+x(a.c.millisecond,3)));qa&&(a.isOffsetFixed&&0===a.offset&&!ya?Ga+="Z":0>a.o?(Ga=Ga+"-"+x(Math.trunc(-a.o/60)),Ga=Ga+":"+x(Math.trunc(-a.o%60))):(Ga=Ga+"+"+x(Math.trunc(a.o/60)),Ga=Ga+":"+x(Math.trunc(a.o%60))));ya&&(Ga+="["+
a.zone.ianaName+"]");return Ga}function kc(a){const m={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!m)throw new da(a);
return m}function Hb(a,m){const Q=g(m.zone,xb.defaultZone);m=qb.fromObject(m);const ja=xb.now();var qa;if(k(a.year))a=ja;else{for(const ya of pd)k(a[ya])&&(a[ya]=qd[ya]);if(qa=ib(a)||eb(a))return $a.invalid(qa);qa=Q.offset(ja);[a,qa]=Yb(a,qa,Q)}return new $a({ts:a,zone:Q,loc:m,o:qa})}function Tb(a,m,Q){const ja=k(Q.round)?!0:Q.round,qa=(Ga,La)=>{Ga=E(Ga,ja||Q.calendary?0:2,!0);return m.loc.clone(Q).relFormatter(Q).format(Ga,La)},ya=Ga=>Q.calendary?m.hasSame(a,Ga)?0:m.startOf(Ga).diff(a.startOf(Ga),
Ga).get(Ga):m.diff(a,Ga).get(Ga);if(Q.unit)return qa(ya(Q.unit),Q.unit);for(const Ga of Q.units){const La=ya(Ga);if(1<=Math.abs(La))return qa(La,Ga)}return qa(a>m?-0:0,Q.units[Q.units.length-1])}function hb(a){let m={};0<a.length&&"object"===typeof a[a.length-1]?(m=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[m,a]}function Ab(a){if($a.isDateTime(a))return a;if(a&&a.valueOf&&D(a.valueOf()))return $a.fromJSDate(a);if(a&&"object"===typeof a)return $a.fromObject(a);throw new va(`Unknown datetime argument: ${a}, of type ${typeof a}`);
}class Bb extends Error{}class Za extends Bb{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class ic extends Bb{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Y extends Bb{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class ma extends Bb{}class da extends Bb{constructor(a){super(`Invalid unit ${a}`)}}class va extends Bb{}class Ia extends Bb{constructor(){super("Zone is an abstract class")}}const Ja={year:"numeric",month:"numeric",day:"numeric"},Sa={year:"numeric",
month:"short",day:"numeric"},Wa={year:"numeric",month:"short",day:"numeric",weekday:"short"},lb={year:"numeric",month:"long",day:"numeric"},kb={year:"numeric",month:"long",day:"numeric",weekday:"long"},jb={hour:"numeric",minute:"numeric"},yb={hour:"numeric",minute:"numeric",second:"numeric"},Ib={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},rd={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},sd={hour:"numeric",minute:"numeric",hourCycle:"h23"},td={hour:"numeric",
minute:"numeric",second:"numeric",hourCycle:"h23"},ud={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},vd={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},wd={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},xd={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},yd={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},zd={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},ve={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},Ad={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},Bd={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Cd={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},
Dd={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"};class hc{get type(){throw new Ia;}get name(){throw new Ia;}get ianaName(){return this.name}get isUniversal(){throw new Ia;}offsetName(a,m){throw new Ia;}formatOffset(a,m){throw new Ia;}offset(a){throw new Ia;}equals(a){throw new Ia;}get isValid(){throw new Ia;}}let Qc=null;class nc extends hc{static get instance(){null===Qc&&(Qc=new nc);return Qc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,
{format:m,locale:Q}){return I(a,m,Q)}formatOffset(a,m){return ca(this.offset(a),m)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}let oc={};const we={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let pc={};class Rb extends hc{static create(a){pc[a]||(pc[a]=new Rb(a));return pc[a]}static resetCache(){pc={};oc={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",
{timeZone:a})).format(),!0}catch(m){return!1}}constructor(a){super();this.zoneName=a;this.valid=Rb.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:m,locale:Q}){return I(a,m,Q,this.name)}formatOffset(a,m){return ca(this.offset(a),m)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var m=this.name;oc[m]||(oc[m]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:m,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",
second:"2-digit",era:"short"}));m=oc[m];if(m.formatToParts){m=m.formatToParts(a);var Q=[];for(let Xa=0;Xa<m.length;Xa++){const {type:Ya,value:cb}=m[Xa],Aa=we[Ya];"era"===Ya?Q[Aa]=cb:k(Aa)||(Q[Aa]=parseInt(cb,10))}m=Q}else{m=m.format(a).replace(/\u200E/g,"");m=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(m);const [,Xa,Ya,cb,Aa,Wb,w,H]=m;m=[cb,Xa,Ya,Aa,Wb,w,H]}let [ja,qa,ya,Ga,La,Ra,l]=m;"BC"===Ga&&(ja=-Math.abs(ja)+1);m=N({year:ja,month:qa,day:ya,hour:24===La?0:La,minute:Ra,second:l,millisecond:0});
a=+a;Q=a%1E3;return(m-(a-(0<=Q?Q:1E3+Q)))/6E4}equals(a){return"iana"===a.type&&a.name===this.name}get isValid(){return this.valid}}let gd={},Hc={},Ic={},Jc={},qc=null;class xe{constructor(a,m,Q){this.padTo=Q.padTo||0;this.floor=Q.floor||!1;const {padTo:ja,floor:qa,...ya}=Q;if(!m||0<Object.keys(ya).length)m={useGrouping:!1,...Q},0<Q.padTo&&(m.minimumIntegerDigits=Q.padTo),this.inf=C(a,m)}format(a){if(this.inf)return this.inf.format(this.floor?Math.floor(a):a);a=this.floor?Math.floor(a):E(a,3);return x(a,
this.padTo)}}class ye{constructor(a,m,Q){this.opts=Q;var ja=void 0;a.zone.isUniversal?(ja=a.offset/60*-1,ja=0<=ja?`Etc/GMT+${ja}`:`Etc/GMT${ja}`,0!==a.offset&&Rb.create(ja).valid?this.dt=a:(ja="UTC",this.dt=Q.timeZoneName?a:0===a.offset?a:$a.fromMillis(a.ts+6E4*a.offset))):"system"===a.zone.type?this.dt=a:(this.dt=a,ja=a.zone.name);a={...this.opts};a.timeZone=a.timeZone||ja;this.dtf=Z(m,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}
class ze{constructor(a,m,Q){this.opts={style:"long",...Q};!m&&G()&&(this.rtf=B(a,Q))}format(a,m){return this.rtf?this.rtf.format(a,m):ka(m,a,this.opts.numeric,"long"!==this.opts.style)}formatToParts(a,m){return this.rtf?this.rtf.formatToParts(a,m):[]}}class qb{static fromOpts(a){return qb.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,m,Q,ja=!1){a=a||xb.defaultLocale;var qa;(qa=a)||(ja?ja="en-US":(qc||(qc=(new Intl.DateTimeFormat).resolvedOptions().locale),ja=qc),
qa=ja);return new qb(qa,m||xb.defaultNumberingSystem,Q||xb.defaultOutputCalendar,a)}static resetCache(){qc=null;Hc={};Ic={};Jc={}}static fromObject({locale:a,numberingSystem:m,outputCalendar:Q}={}){return qb.create(a,m,Q)}constructor(a,m,Q,ja){var qa=a.indexOf("-x-");-1!==qa&&(a=a.substring(0,qa));qa=a.indexOf("-u-");if(-1===qa)var ya=[a];else{try{ya=Z(a).resolvedOptions();var Ga=a}catch(cb){Ga=a.substring(0,qa),ya=Z(Ga).resolvedOptions()}const {numberingSystem:Xa,calendar:Ya}=ya;ya=[Ga,Xa,Ya]}const [La,
Ra,l]=ya;this.locale=La;this.numberingSystem=m||Ra||null;this.outputCalendar=Q||l||null;m=this.locale;Q=this.numberingSystem;if((ya=this.outputCalendar)||Q)m.includes("-u-")||(m+="-u"),ya&&(m+=`-ca-${ya}`),Q&&(m+=`-nu-${Q}`);this.intl=m;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=ja;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==
this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(){const a=this.isEnglish(),m=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&m?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?qb.create(a.locale||
this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a={}){return this.clone({...a,defaultToEN:!1})}months(a,m=!1,Q=!0){return f(this,a,Q,oa,()=>{const ja=m?{month:a,day:"numeric"}:{month:a},qa=m?"format":"standalone";this.monthsCache[qa][a]||(this.monthsCache[qa][a]=v(ya=>this.extract(ya,ja,"month")));return this.monthsCache[qa][a]})}weekdays(a,m=!1,
Q=!0){return f(this,a,Q,ra,()=>{const ja=m?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},qa=m?"format":"standalone";this.weekdaysCache[qa][a]||(this.weekdaysCache[qa][a]=p(ya=>this.extract(ya,ja,"weekday")));return this.weekdaysCache[qa][a]})}meridiems(a=!0){return f(this,void 0,a,()=>Ed,()=>{if(!this.meridiemCache){const m={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[$a.utc(2016,11,13,9),$a.utc(2016,11,13,19)].map(Q=>this.extract(Q,m,"dayperiod"))}return this.meridiemCache})}eras(a,
m=!0){return f(this,a,m,xa,()=>{const Q={era:a};this.eraCache[a]||(this.eraCache[a]=[$a.utc(-40,1,1),$a.utc(2017,1,1)].map(ja=>this.extract(ja,Q,"era")));return this.eraCache[a]})}extract(a,m,Q){return(a=this.dtFormatter(a,m).formatToParts().find(ja=>ja.type.toLowerCase()===Q))?a.value:null}numberFormatter(a={}){return new xe(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,m={}){return new ye(a,this.intl,m)}relFormatter(a={}){return new ze(this.intl,this.isEnglish(),a)}listFormatter(a=
{}){return e(this.intl,a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}let Rc=null;class Eb extends hc{static get utcInstance(){null===Rc&&(Rc=new Eb(0));return Rc}static instance(a){return 0===a?Eb.utcInstance:new Eb(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?
new Eb(K(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ca(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ca(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,m){return ca(this.fixed,m)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===a.type&&a.fixed===this.fixed}get isValid(){return!0}}class hd extends hc{constructor(a){super();this.zoneName=
a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let Fd=()=>Date.now(),Gd="system",Hd=null,Sc=null,Id=null,Jd=60,Kd;class xb{static get now(){return Fd}static set now(a){Fd=a}static set defaultZone(a){Gd=a}static get defaultZone(){return g(Gd,nc.instance)}static get defaultLocale(){return Hd}static set defaultLocale(a){Hd=a}static get defaultNumberingSystem(){return Sc}static set defaultNumberingSystem(a){Sc=
a}static get defaultOutputCalendar(){return Id}static set defaultOutputCalendar(a){Id=a}static get twoDigitCutoffYear(){return Jd}static set twoDigitCutoffYear(a){Jd=a%100}static get throwOnInvalid(){return Kd}static set throwOnInvalid(a){Kd=a}static resetCaches(){qb.resetCache();Rb.resetCache()}}const kd="January February March April May June July August September October November December".split(" "),jd="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),id="JFMAMJJASOND".split(""),md=
"Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ld="Mon Tue Wed Thu Fri Sat Sun".split(" "),oe="MTWTFSS".split(""),Ed=["AM","PM"],qe=["Before Christ","Anno Domini"],pe=["BC","AD"],Kc=["B","A"],Tc={D:Ja,DD:Sa,DDD:lb,DDDD:kb,t:jb,tt:yb,ttt:Ib,tttt:rd,T:sd,TT:td,TTT:ud,TTTT:vd,f:wd,ff:yd,fff:Ad,ffff:Cd,F:xd,FF:zd,FFF:Bd,FFFF:Dd};class Fb{static create(a,m={}){return new Fb(a,m)}static parseFormat(a){let m=null,Q="",ja=!1;const qa=[];for(let ya=0;ya<a.length;ya++){const Ga=a.charAt(ya);
"'"===Ga?(0<Q.length&&qa.push({literal:ja,val:Q}),m=null,Q="",ja=!ja):ja?Q+=Ga:Ga===m?Q+=Ga:(0<Q.length&&qa.push({literal:!1,val:Q}),m=Q=Ga)}0<Q.length&&qa.push({literal:ja,val:Q});return qa}static macroTokenToFormatOpts(a){return Tc[a]}constructor(a,m){this.opts=m;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,m){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...m}).format()}formatDateTime(a,m={}){return this.loc.dtFormatter(a,
{...this.opts,...m}).format()}formatDateTimeParts(a,m={}){return this.loc.dtFormatter(a,{...this.opts,...m}).formatToParts()}formatInterval(a,m={}){return this.loc.dtFormatter(a.start,{...this.opts,...m}).dtf.formatRange(a.start.toJSDate(),a.end.toJSDate())}resolvedOptions(a,m={}){return this.loc.dtFormatter(a,{...this.opts,...m}).resolvedOptions()}num(a,m=0){if(this.opts.forceSimple)return x(a,m);const Q={...this.opts};0<m&&(Q.padTo=m);return this.loc.numberFormatter(Q).format(a)}formatDateTimeFromString(a,
m){const Q="en"===this.loc.listingMode(),ja=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,qa=(Xa,Ya)=>this.loc.extract(a,Xa,Ya),ya=Xa=>a.isOffsetFixed&&0===a.offset&&Xa.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,Xa.format):"",Ga=(Xa,Ya)=>Q?oa(Xa)[a.month-1]:qa(Ya?{month:Xa}:{month:Xa,day:"numeric"},"month"),La=(Xa,Ya)=>Q?ra(Xa)[a.weekday-1]:qa(Ya?{weekday:Xa}:{weekday:Xa,month:"long",day:"numeric"},"weekday"),Ra=Xa=>{const Ya=Fb.macroTokenToFormatOpts(Xa);return Ya?this.formatWithSystemDefault(a,
Ya):Xa},l=Xa=>Q?xa(Xa)[0>a.year?0:1]:qa({era:Xa},"era");return V(Fb.parseFormat(m),Xa=>{switch(Xa){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,2);case "uu":return this.num(Math.floor(a.millisecond/10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%
12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return ya({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return ya({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return ya({format:"techie",allowZ:this.opts.allowZ});case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;
case "a":return Q?Ed[12>a.hour?0:1]:qa({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return ja?qa({day:"numeric"},"day"):this.num(a.day);case "dd":return ja?qa({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return La("short",!0);case "cccc":return La("long",!0);case "ccccc":return La("narrow",!0);case "E":return this.num(a.weekday);case "EEE":return La("short",!1);case "EEEE":return La("long",!1);case "EEEEE":return La("narrow",!1);case "L":return ja?
qa({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return ja?qa({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return Ga("short",!0);case "LLLL":return Ga("long",!0);case "LLLLL":return Ga("narrow",!0);case "M":return ja?qa({month:"numeric"},"month"):this.num(a.month);case "MM":return ja?qa({month:"2-digit"},"month"):this.num(a.month,2);case "MMM":return Ga("short",!1);case "MMMM":return Ga("long",!1);case "MMMMM":return Ga("narrow",!1);case "y":return ja?
qa({year:"numeric"},"year"):this.num(a.year);case "yy":return ja?qa({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return ja?qa({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return ja?qa({year:"numeric"},"year"):this.num(a.year,6);case "G":return l("short");case "GG":return l("long");case "GGGGG":return l("narrow");case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);
case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return Ra(Xa)}})}formatDurationFromString(a,m){const Q=qa=>{switch(qa[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "w":return"week";case "M":return"month";
case "y":return"year";default:return null}};m=Fb.parseFormat(m);const ja=m.reduce((qa,{literal:ya,val:Ga})=>ya?qa:qa.concat(Ga),[]);a=a.shiftTo(...ja.map(Q).filter(qa=>qa));return V(m,(qa=>ya=>{const Ga=Q(ya);return Ga?this.num(qa.get(Ga),ya.length):ya})(a))}}class Qb{constructor(a,m){this.reason=a;this.explanation=m}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ld=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,Md=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,
Uc=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Nd=RegExp(`${Uc.source}${`(?:${Md.source}?(?:\\[(${Ld.source})\\])?)?`}`),Vc=RegExp(`(?:T${Nd.source})?`),Od=W("weekYear","weekNumber","weekDay"),Ae=W("year","ordinal"),Wc=RegExp(`${Uc.source} ?(?:${Md.source}|(${Ld.source}))?`),Pd=RegExp(`(?: ${Wc.source})?`),Be=RegExp(`^T?${Uc.source}$`),Ce=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/,
re={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},De=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,Ee=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Fe=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
Ge=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,He=R(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Vc),Ie=R(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Vc),Je=R(/(\d{4})-?(\d{3})/,Vc),Ke=R(Nd),Qd=F(function(a,m){return[{year:za(a,m),month:za(a,m+1,1),day:za(a,m+2,1)},null,m+3]},Ea,Qa,Oa),Le=F(Od,Ea,Qa,Oa),Me=F(Ae,Ea,Qa,Oa),Ne=F(Ea,Qa,Oa),Oe=F(Ea),Pe=R(/(\d{4})-(\d\d)-(\d\d)/,Pd),Qe=R(Wc),Re=F(Ea,Qa,Oa),Rd={weeks:{days:7,hours:168,minutes:10080,
seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},Se={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},
...Rd},Te={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Rd},cc="years quarters months weeks days hours minutes seconds milliseconds".split(" "),se=cc.slice(0).reverse();class gb{constructor(a){const m=
"longterm"===a.conversionAccuracy||!1;let Q=m?Te:Se;a.matrix&&(Q=a.matrix);this.values=a.values;this.loc=a.loc||qb.create();this.conversionAccuracy=m?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=Q;this.isLuxonDuration=!0}static fromMillis(a,m){return gb.fromObject({milliseconds:a},m)}static fromObject(a,m={}){if(null==a||"object"!==typeof a)throw new va(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new gb({values:T(a,gb.normalizeUnit),
loc:qb.fromObject(m),conversionAccuracy:m.conversionAccuracy,matrix:m.matrix})}static fromDurationLike(a){if(D(a))return gb.fromMillis(a);if(gb.isDuration(a))return a;if("object"===typeof a)return gb.fromObject(a);throw new va(`Unknown duration argument ${a} of type ${typeof a}`);}static fromISO(a,m){const [Q]=n(a,[Ce,bb]);return Q?gb.fromObject(Q,m):gb.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,m){const [Q]=n(a,[Be,Oe]);return Q?gb.fromObject(Q,m):gb.invalid("unparsable",
`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,m=null){if(!a)throw new va("need to specify a reason the Duration is invalid");a=a instanceof Qb?a:new Qb(a,m);if(xb.throwOnInvalid)throw new Y(a);return new gb({invalid:a})}static normalizeUnit(a){const m={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",
millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!m)throw new da(a);return m}static isDuration(a){return a&&a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(a,m={}){m={...m,floor:!1!==m.round&&!1!==m.floor};return this.isValid?Fb.create(this.loc,m).formatDurationFromString(this,a):"Invalid Duration"}toHuman(a={}){const m=cc.map(Q=>{const ja=this.values[Q];return k(ja)?
null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...a,unit:Q.slice(0,-1)}).format(ja)}).filter(Q=>Q);return this.loc.listFormatter({type:"conjunction",style:a.listStyle||"narrow",...a}).format(m)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||
0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)a+=E(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var m=this.toMillis();if(0>m||864E5<=m)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};m=this.shiftTo("hours","minutes","seconds","milliseconds");
let Q="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===m.seconds&&0===m.milliseconds||(Q+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===m.milliseconds||(Q+=".SSS"));m=m.toFormat(Q);a.includePrefix&&(m="T"+m);return m}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=gb.fromDurationLike(a);const m={};for(const Q of cc)if(d(a.values,Q)||d(this.values,Q))m[Q]=
a.get(Q)+this.get(Q);return ia(this,{values:m},!0)}minus(a){if(!this.isValid)return this;a=gb.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;const m={};for(const Q of Object.keys(this.values))m[Q]=U(a(this.values[Q],Q));return ia(this,{values:m},!0)}get(a){return this[gb.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...T(a,gb.normalizeUnit)};return ia(this,{values:a})}reconfigure({locale:a,numberingSystem:m,conversionAccuracy:Q,
matrix:ja}={}){a={loc:this.loc.clone({locale:a,numberingSystem:m}),matrix:ja,conversionAccuracy:Q};return ia(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;const a=this.toObject();Ba(this.matrix,a);return ia(this,{values:a},!0)}rescale(){if(!this.isValid)return this;var a=this.normalize().shiftToAll().toObject();const m={};for(const [Q,ja]of Object.entries(a))0!==ja&&(m[Q]=ja);return ia(this,{values:m},!0)}shiftTo(...a){if(!this.isValid||0===
a.length)return this;a=a.map(ya=>gb.normalizeUnit(ya));const m={},Q={},ja=this.toObject();let qa;for(const ya of cc)if(0<=a.indexOf(ya)){qa=ya;let Ga=0;for(const Ra in Q)Ga+=this.matrix[Ra][ya]*Q[Ra],Q[Ra]=0;D(ja[ya])&&(Ga+=ja[ya]);const La=Math.trunc(Ga);m[ya]=La;Q[ya]=(1E3*Ga-1E3*La)/1E3;for(const Ra in ja)cc.indexOf(Ra)>cc.indexOf(ya)&&pa(this.matrix,ja,Ra,m,ya)}else D(ja[ya])&&(Q[ya]=ja[ya]);for(const ya in Q)0!==Q[ya]&&(m[qa]+=ya===qa?Q[ya]:Q[ya]/this.matrix[qa][ya]);return ia(this,{values:m},
!0).normalize()}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const a={};for(const m of Object.keys(this.values))a[m]=0===this.values[m]?0:-this.values[m];return ia(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?
this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:
null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;for(const ja of cc){var m=this.values[ja];var Q=a.values[ja];m=void 0===m||0===m?void 0===Q||0===Q:m===Q;if(!m)return!1}return!0}}class wb{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,m=null){if(!a)throw new va("need to specify a reason the Interval is invalid");a=a instanceof Qb?a:new Qb(a,m);if(xb.throwOnInvalid)throw new ic(a);return new wb({invalid:a})}static fromDateTimes(a,
m){a=Ab(a);m=Ab(m);var Q=a&&a.isValid?m&&m.isValid?m<a?wb.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${m.toISO()}`):null:wb.invalid("missing or invalid end"):wb.invalid("missing or invalid start");return null==Q?new wb({start:a,end:m}):Q}static after(a,m){m=gb.fromDurationLike(m);a=Ab(a);return wb.fromDateTimes(a,a.plus(m))}static before(a,m){m=gb.fromDurationLike(m);a=Ab(a);return wb.fromDateTimes(a.minus(m),a)}static fromISO(a,
m){const [Q,ja]=(a||"").split("/",2);if(Q&&ja){let Ga;try{var qa=$a.fromISO(Q,m);Ga=qa.isValid}catch(Ra){Ga=!1}let La;try{var ya=$a.fromISO(ja,m);La=ya.isValid}catch(Ra){La=!1}if(Ga&&La)return wb.fromDateTimes(qa,ya);if(Ga){if(ya=gb.fromISO(ja,m),ya.isValid)return wb.after(qa,ya)}else if(La&&(qa=gb.fromISO(Q,m),qa.isValid))return wb.before(ya,qa)}return wb.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&a.isLuxonInterval||!1}get start(){return this.isValid?
this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const m=this.start.startOf(a),Q=this.end.startOf(a);return Math.floor(Q.diff(m,a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||
this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:m}={}){return this.isValid?wb.fromDateTimes(a||this.s,m||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(Ab).filter(ya=>this.contains(ya)).sort();const m=[];let {s:Q}=this,ja=0;for(;Q<this.e;){var qa=a[ja]||this.e;qa=+qa>+this.e?this.e:qa;
m.push(wb.fromDateTimes(Q,qa));Q=qa;ja+=1}return m}splitBy(a){a=gb.fromDurationLike(a);if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:m}=this,Q=1;const ja=[];for(;m<this.e;){var qa=this.start.plus(a.mapUnits(ya=>ya*Q));qa=+qa>+this.e?this.e:qa;ja.push(wb.fromDateTimes(m,qa));m=qa;Q+=1}return ja}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?+this.e===+a.s:!1}abutsEnd(a){return this.isValid?
+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const m=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return m>=a?null:wb.fromDateTimes(m,a)}union(a){return this.isValid?wb.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [m,Q]=a.sort((ja,qa)=>ja.s-qa.s).reduce(([ja,qa],ya)=>qa?qa.overlaps(ya)||qa.abutsStart(ya)?
[ja,qa.union(ya)]:[ja.concat([qa]),ya]:[ja,ya],[[],null]);Q&&m.push(Q);return m}static xor(a){let m=null,Q=0;const ja=[];a=a.map(qa=>[{time:qa.s,type:"s"},{time:qa.e,type:"e"}]);a=Array.prototype.concat(...a).sort((qa,ya)=>qa.time-ya.time);for(const qa of a)Q+="s"===qa.type?1:-1,1===Q?m=qa.time:(m&&+m!==+qa.time&&ja.push(wb.fromDateTimes(m,qa.time)),m=null);return wb.merge(ja)}difference(...a){return wb.xor([this].concat(a)).map(m=>this.intersection(m)).filter(m=>m&&!m.isEmpty())}toString(){return this.isValid?
`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toLocaleString(a=Ja,m={}){return this.isValid?Fb.create(this.s.loc.clone(m),a).formatInterval(this):"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:m=" \u2013 "}=
{}){return this.isValid?`${this.s.toFormat(a)}${m}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,m){return this.isValid?this.e.diff(this.s,a,m):gb.invalid(this.invalidReason)}mapEndpoints(a){return wb.fromDateTimes(a(this.s),a(this.e))}}class lc{static hasDST(a=xb.defaultZone){const m=$a.now().setZone(a).set({month:12});return!a.isUniversal&&m.offset!==m.set({month:6}).offset}static isValidIANAZone(a){return Rb.isValidZone(a)}static normalizeZone(a){return g(a,xb.defaultZone)}static months(a=
"long",{locale:m=null,numberingSystem:Q=null,locObj:ja=null,outputCalendar:qa="gregory"}={}){return(ja||qb.create(m,Q,qa)).months(a)}static monthsFormat(a="long",{locale:m=null,numberingSystem:Q=null,locObj:ja=null,outputCalendar:qa="gregory"}={}){return(ja||qb.create(m,Q,qa)).months(a,!0)}static weekdays(a="long",{locale:m=null,numberingSystem:Q=null,locObj:ja=null}={}){return(ja||qb.create(m,Q,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:m=null,numberingSystem:Q=null,locObj:ja=null}=
{}){return(ja||qb.create(m,Q,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return qb.create(a).meridiems()}static eras(a="short",{locale:m=null}={}){return qb.create(m,null,"gregory").eras(a)}static features(){return{relative:G()}}}const Lc={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",
khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},nd={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,
3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},te=Lc.hanidec.replace(/[\[|\]]/g,"").split(""),od=`[ ${String.fromCharCode(160)}]`,Mc=new RegExp(od,"g"),ue={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s",
"2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Nc=null;const Pc=[0,31,59,90,120,151,181,212,243,273,304,334],Oc=[0,31,60,91,121,152,182,213,244,274,305,335],qd={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Ue={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ve={ordinal:1,hour:0,minute:0,second:0,millisecond:0},pd="year month day hour minute second millisecond".split(" "),We="weekYear weekNumber weekday hour minute second millisecond".split(" "),Xe="year ordinal hour minute second millisecond".split(" ");
class $a{constructor(a){const m=a.zone||xb.defaultZone;let Q=a.invalid||(Number.isNaN(a.ts)?new Qb("invalid input"):null)||(m.isValid?null:Gb(m));this.ts=k(a.ts)?xb.now():a.ts;let ja=null;var qa=null;Q||(a.old&&a.old.ts===this.ts&&a.old.zone.equals(m)?[ja,qa]=[a.old.c,a.old.o]:(qa=m.offset(this.ts),ja=ta(this.ts,qa),ja=(Q=Number.isNaN(ja.year)?new Qb("invalid input"):null)?null:ja,qa=Q?null:qa));this._zone=m;this.loc=a.loc||qb.create();this.invalid=Q;this.weekData=null;this.c=ja;this.o=qa;this.isLuxonDateTime=
!0}static now(){return new $a({})}static local(){const [a,m]=hb(arguments),[Q,ja,qa,ya,Ga,La,Ra]=m;return Hb({year:Q,month:ja,day:qa,hour:ya,minute:Ga,second:La,millisecond:Ra},a)}static utc(){const [a,m]=hb(arguments),[Q,ja,qa,ya,Ga,La,Ra]=m;a.zone=Eb.utcInstance;return Hb({year:Q,month:ja,day:qa,hour:ya,minute:Ga,second:La,millisecond:Ra},a)}static fromJSDate(a,m={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return $a.invalid("invalid input");const Q=
g(m.zone,xb.defaultZone);return Q.isValid?new $a({ts:a,zone:Q,loc:qb.fromObject(m)}):$a.invalid(Gb(Q))}static fromMillis(a,m={}){if(D(a))return-864E13>a||864E13<a?$a.invalid("Timestamp out of range"):new $a({ts:a,zone:g(m.zone,xb.defaultZone),loc:qb.fromObject(m)});throw new va(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);}static fromSeconds(a,m={}){if(D(a))return new $a({ts:1E3*a,zone:g(m.zone,xb.defaultZone),loc:qb.fromObject(m)});throw new va("fromSeconds requires a numerical input");
}static fromObject(a,m={}){a=a||{};var Q=g(m.zone,xb.defaultZone);if(!Q.isValid)return $a.invalid(Gb(Q));var ja=xb.now();const qa=k(m.specificOffset)?Q.offset(ja):m.specificOffset,ya=T(a,kc);var Ga=!k(ya.ordinal),La=!k(ya.year),Ra=!k(ya.month)||!k(ya.day);La=La||Ra;var l=ya.weekYear||ya.weekNumber;m=qb.fromObject(m);if((La||Ga)&&l)throw new ma("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Ra&&Ga)throw new ma("Can't mix ordinal dates with month/day");Ra=l||ya.weekday&&!La;
let Xa=ta(ja,qa);Ra?(ja=We,l=Ue,Xa=tb(Xa)):Ga?(ja=Xe,l=Ve,Xa=pb(Xa)):(ja=pd,l=qd);let Ya=!1;for(var cb of ja)k(ya[cb])?ya[cb]=Ya?l[cb]:Xa[cb]:Ya=!0;Ra?(cb=M(ya.weekYear),ja=q(ya.weekNumber,1,la(ya.weekYear)),l=q(ya.weekday,1,7),cb=cb?ja?l?!1:Ka("weekday",ya.weekday):Ka("week",ya.week):Ka("weekYear",ya.weekYear)):Ga?(cb=M(ya.year),ja=q(ya.ordinal,1,t(ya.year)?366:365),cb=cb?ja?!1:Ka("ordinal",ya.ordinal):Ka("year",ya.year)):cb=ib(ya);if(cb=cb||eb(ya))return $a.invalid(cb);Ga=Ra?ub(ya):Ga?c(ya):ya;
const [Aa,Wb]=Yb(Ga,qa,Q);Q=new $a({ts:Aa,zone:Q,o:Wb,loc:m});return ya.weekday&&La&&a.weekday!==Q.weekday?$a.invalid("mismatched weekday",`you can't specify both a weekday of ${ya.weekday} and a date of ${Q.toISO()}`):Q}static fromISO(a,m={}){const [Q,ja]=n(a,[He,Qd],[Ie,Le],[Je,Me],[Ke,Ne]);return zb(Q,ja,m,"ISO 8601",a)}static fromRFC2822(a,m={}){const [Q,ja]=n(a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[De,vb]);return zb(Q,ja,m,"RFC 2822",a)}static fromHTTP(a,m={}){const [Q,
ja]=n(a,[Ee,h],[Fe,h],[Ge,u]);return zb(Q,ja,m,"HTTP",m)}static fromFormat(a,m,Q={}){if(k(a)||k(m))throw new va("fromFormat requires an input string and a format");const {locale:ja=null,numberingSystem:qa=null}=Q,ya=qb.fromOpts({locale:ja,numberingSystem:qa,defaultToEN:!0}),{result:Ga,zone:La,specificOffset:Ra,invalidReason:l}=Ta(ya,a,m),[Xa,Ya,cb,Aa]=[Ga,La,Ra,l];return Aa?$a.invalid(Aa):zb(Xa,Ya,Q,`format ${m}`,a,cb)}static fromString(a,m,Q={}){return $a.fromFormat(a,m,Q)}static fromSQL(a,m={}){const [Q,
ja]=n(a,[Pe,Qd],[Qe,Re]);return zb(Q,ja,m,"SQL",a)}static invalid(a,m=null){if(!a)throw new va("need to specify a reason the DateTime is invalid");a=a instanceof Qb?a:new Qb(a,m);if(xb.throwOnInvalid)throw new Za(a);return new $a({invalid:a})}static isDateTime(a){return a&&a.isLuxonDateTime||!1}static parseFormatForOpts(a,m={}){return(a=Ua(a,qb.fromObject(m)))?a.map(Q=>Q?Q.val:null).join(""):null}static expandFormat(a,m={}){return Ma(Fb.parseFormat(a),qb.fromObject(m)).map(Q=>Q.val).join("")}get(a){return this[a]}get isValid(){return null===
this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?
Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Pb(this).weekYear:NaN}get weekNumber(){return this.isValid?Pb(this).weekNumber:NaN}get weekday(){return this.isValid?Pb(this).weekday:
NaN}get ordinal(){return this.isValid?pb(this.c).ordinal:NaN}get monthShort(){return this.isValid?lc.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?lc.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?lc.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?lc.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?
this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return t(this.year)}get daysInMonth(){return A(this.year,this.month)}get daysInYear(){return this.isValid?
t(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?la(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:m,numberingSystem:Q,calendar:ja}=Fb.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:m,numberingSystem:Q,outputCalendar:ja}}toUTC(a=0,m={}){return this.setZone(Eb.instance(a),m)}toLocal(){return this.setZone(xb.defaultZone)}setZone(a,{keepLocalTime:m=!1,keepCalendarTime:Q=!1}={}){a=g(a,xb.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let ja=
this.ts;if(m||Q)m=a.offset(this.ts),Q=this.toObject(),[ja]=Yb(Q,m,a);return mb(this,{ts:ja,zone:a})}return $a.invalid(Gb(a))}reconfigure({locale:a,numberingSystem:m,outputCalendar:Q}={}){a=this.loc.clone({locale:a,numberingSystem:m,outputCalendar:Q});return mb(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=T(a,kc);var m=!k(a.weekYear)||!k(a.weekNumber)||!k(a.weekday);const Q=!k(a.ordinal),ja=!k(a.year),qa=!k(a.month)||!k(a.day),ya=a.weekYear||
a.weekNumber;if((ja||qa||Q)&&ya)throw new ma("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(qa&&Q)throw new ma("Can't mix ordinal dates with month/day");m?m=ub({...tb(this.c),...a}):k(a.ordinal)?(m={...this.toObject(),...a},k(a.day)&&(m.day=Math.min(A(m.year,m.month),m.day))):m=c({...pb(this.c),...a});const [Ga,La]=Yb(m,this.o,this.zone);return mb(this,{ts:Ga,o:La})}plus(a){if(!this.isValid)return this;a=gb.fromDurationLike(a);return mb(this,Sb(this,a))}minus(a){if(!this.isValid)return this;
a=gb.fromDurationLike(a).negate();return mb(this,Sb(this,a))}startOf(a){if(!this.isValid)return this;const m={};a=gb.normalizeUnit(a);switch(a){case "years":m.month=1;case "quarters":case "months":m.day=1;case "weeks":case "days":m.hour=0;case "hours":m.minute=0;case "minutes":m.second=0;case "seconds":m.millisecond=0}"weeks"===a&&(m.weekday=1);"quarters"===a&&(m.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(m)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,
m={}){return this.isValid?Fb.create(this.loc.redefaultToEN(m)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Ja,m={}){return this.isValid?Fb.create(this.loc.clone(m),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?Fb.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO({format:a="extended",suppressSeconds:m=!1,suppressMilliseconds:Q=!1,includeOffset:ja=!0,extendedZone:qa=!1}={}){if(!this.isValid)return null;a="extended"===a;let ya=
Zb(this,a);return ya=ya+"T"+$b(this,a,m,Q,ja,qa)}toISODate({format:a="extended"}={}){return this.isValid?Zb(this,"extended"===a):null}toISOWeekDate(){return Kb(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=!1,suppressSeconds:m=!1,includeOffset:Q=!0,includePrefix:ja=!1,extendedZone:qa=!1,format:ya="extended"}={}){return this.isValid?(ja?"T":"")+$b(this,"extended"===ya,m,a,Q,qa):null}toRFC2822(){return Kb(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Kb(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?
Zb(this,!0):null}toSQLTime({includeOffset:a=!0,includeZone:m=!1,includeOffsetSpace:Q=!0}={}){let ja="HH:mm:ss.SSS";if(m||a)Q&&(ja+=" "),m?ja+="z":a&&(ja+="ZZ");return Kb(this,ja,!0)}toSQL(a={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/
1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const m={...this.c};a.includeConfig&&(m.outputCalendar=this.outputCalendar,m.numberingSystem=this.loc.numberingSystem,m.locale=this.loc.locale);return m}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,m="milliseconds",Q={}){if(!this.isValid||!a.isValid)return gb.invalid("created by diffing an invalid DateTime");Q={locale:this.locale,numberingSystem:this.numberingSystem,...Q};
const ja=(Array.isArray(m)?m:[m]).map(gb.normalizeUnit);m=a.valueOf()>this.valueOf();a=ha(m?this:a,m?a:this,ja,Q);return m?a.negate():a}diffNow(a="milliseconds",m={}){return this.diff($a.now(),a,m)}until(a){return this.isValid?wb.fromDateTimes(this,a):this}hasSame(a,m){if(!this.isValid)return!1;const Q=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(m)<=Q&&Q<=a.endOf(m)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a=
{}){if(!this.isValid)return null;const m=a.base||$a.fromObject({},{zone:this.zone}),Q=a.padding?this<m?-a.padding:a.padding:0;let ja="years months days hours minutes seconds".split(" "),qa=a.unit;Array.isArray(a.unit)&&(ja=a.unit,qa=void 0);return Tb(m,this.plus(Q),{...a,numeric:"always",units:ja,unit:qa})}toRelativeCalendar(a={}){return this.isValid?Tb(a.base||$a.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every($a.isDateTime))throw new va("min requires all arguments be DateTimes");
return r(a,m=>m.valueOf(),Math.min)}static max(...a){if(!a.every($a.isDateTime))throw new va("max requires all arguments be DateTimes");return r(a,m=>m.valueOf(),Math.max)}static fromFormatExplain(a,m,Q={}){const {locale:ja=null,numberingSystem:qa=null}=Q;Q=qb.fromOpts({locale:ja,numberingSystem:qa,defaultToEN:!0});return Ta(Q,a,m)}static fromStringExplain(a,m,Q={}){return $a.fromFormatExplain(a,m,Q)}static get DATE_SHORT(){return Ja}static get DATE_MED(){return Sa}static get DATE_MED_WITH_WEEKDAY(){return Wa}static get DATE_FULL(){return lb}static get DATE_HUGE(){return kb}static get TIME_SIMPLE(){return jb}static get TIME_WITH_SECONDS(){return yb}static get TIME_WITH_SHORT_OFFSET(){return Ib}static get TIME_WITH_LONG_OFFSET(){return rd}static get TIME_24_SIMPLE(){return sd}static get TIME_24_WITH_SECONDS(){return td}static get TIME_24_WITH_SHORT_OFFSET(){return ud}static get TIME_24_WITH_LONG_OFFSET(){return vd}static get DATETIME_SHORT(){return wd}static get DATETIME_SHORT_WITH_SECONDS(){return xd}static get DATETIME_MED(){return yd}static get DATETIME_MED_WITH_SECONDS(){return zd}static get DATETIME_MED_WITH_WEEKDAY(){return ve}static get DATETIME_FULL(){return Ad}static get DATETIME_FULL_WITH_SECONDS(){return Bd}static get DATETIME_HUGE(){return Cd}static get DATETIME_HUGE_WITH_SECONDS(){return Dd}}
b.DateTime=$a;b.Duration=gb;b.FixedOffsetZone=Eb;b.IANAZone=Rb;b.Info=lc;b.Interval=wb;b.SystemZone=nc;b.Zone=hc})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(b,e){var Z={};(function(B){(function(v,p){B.exports&&(B.exports=p())})(e.commonjsGlobal,function(){function v(f,g,k,D){f=Error.call(this,f);Object.setPrototypeOf&&Object.setPrototypeOf(f,v.prototype);f.expected=g;f.found=k;f.location=D;f.name="SyntaxError";return f}function p(f,g,k){k=
k||" ";if(f.length>g)return f;g-=f.length;k+=k.repeat(g);return f+k.slice(0,g)}(function(f,g){function k(){this.constructor=f}k.prototype=g.prototype;f.prototype=new k})(v,Error);v.prototype.format=function(f){var g="Error: "+this.message;if(this.location){var k=null,D;for(D=0;D<f.length;D++)if(f[D].source===this.location.source){k=f[D].text.split(/\r\n|\n|\r/g);break}f=this.location.start;D=this.location.source+":"+f.line+":"+f.column;if(k){var M=this.location.end,G=p("",f.line.toString().length,
" ");k=k[f.line-1];M=(f.line===M.line?M.column:k.length+1)-f.column||1;g+="\n --\x3e "+D+"\n"+G+" |\n"+f.line+" | "+k+"\n"+G+" | "+p("",f.column-1," ")+p("",M,"^")}else g+="\n at "+D}return g};v.buildMessage=function(f,g){function k(y){return y.charCodeAt(0).toString(16).toUpperCase()}function D(y){return y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+k(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,
function(d){return"\\x"+k(d)})}function M(y){return y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+k(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+k(d)})}function G(y){return r[y.type](y)}var r={literal:function(y){return'"'+D(y.text)+'"'},class:function(y){var d=y.parts.map(function(q){return Array.isArray(q)?M(q[0])+
"-"+M(q[1]):M(q)});return"["+(y.inverted?"^":"")+d.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(y){return y.description}};return"Expected "+function(y){y=y.map(G);var d,q;y.sort();if(0<y.length){for(q=d=1;d<y.length;d++)y[d-1]!==y[d]&&(y[q]=y[d],q++);y.length=q}switch(y.length){case 1:return y[0];case 2:return y[0]+" or "+y[1];default:return y.slice(0,-1).join(", ")+", or "+y[y.length-1]}}(f)+" but "+(g?'"'+D(g)+'"':"end of input")+" found."};
return{SyntaxError:v,parse:function(f,g){function k(w,H){return{type:"literal",text:w,ignoreCase:H}}function D(w,H,ea){return{type:"class",parts:w,inverted:H,ignoreCase:ea}}function M(w){var H=Xa[w],ea;if(!H){for(ea=w-1;!Xa[ea];)ea--;H=Xa[ea];for(H={line:H.line,column:H.column};ea<w;)10===f.charCodeAt(ea)?(H.line++,H.column=1):H.column++,ea++;Xa[w]=H}return H}function G(w,H){var ea=M(w),Fa=M(H);return{source:ib,start:{offset:w,line:ea.line,column:ea.column},end:{offset:H,line:Fa.line,column:Fa.column}}}
function r(w){l<Ya||(l>Ya&&(Ya=l,cb=[]),cb.push(w))}function y(){var w=l;Da();var H=q();H!==c?(Da(),w=H):(l=w,w=c);return w}function d(){var w=l;var H=q();if(H!==c){w=[];var ea=l;var Fa=Da();var Na=Ua();if(Na!==c){var ab=Da();var db=q();db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)}else l=ea,ea=c;for(;ea!==c;)w.push(ea),ea=l,Fa=Da(),Na=Ua(),Na!==c?(ab=Da(),db=q(),db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)):(l=ea,ea=c);ea={type:"expression-list"};H=[H];for(Fa=0;Fa<w.length;Fa++)H.push(w[Fa][3]);ea.value=H;w=
ea}else l=w,w=c;return w}function q(){var w=l;var H=x();if(H!==c){w=[];var ea=l;var Fa=Da();var Na=pa();if(Na!==c){var ab=Da();var db=x();db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)}else l=ea,ea=c;for(;ea!==c;)w.push(ea),ea=l,Fa=Da(),Na=pa(),Na!==c?(ab=Da(),db=x(),db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)):(l=ea,ea=c);w=pb(H,w)}else l=w,w=c;return w}function x(){var w=l;var H=L();if(H!==c){w=[];var ea=l;var Fa=Da();var Na=ia();if(Na!==c){var ab=Da();var db=L();db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)}else l=
ea,ea=c;for(;ea!==c;)w.push(ea),ea=l,Fa=Da(),Na=ia(),Na!==c?(ab=Da(),db=L(),db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)):(l=ea,ea=c);w=pb(H,w)}else l=w,w=c;return w}function L(){var w=l;var H=u();if(H===c){H=l;if(33===f.charCodeAt(l)){var ea=Pb;l++}else ea=c,0===Aa&&r(jd);if(ea!==c){var Fa=l;Aa++;if(61===f.charCodeAt(l)){var Na=mb;l++}else Na=c,0===Aa&&r(id);Aa--;Na===c?Fa=void 0:(l=Fa,Fa=c);Fa!==c?H=ea=[ea,Fa]:(l=H,H=c)}else l=H,H=c}H!==c?(ea=Da(),Fa=L(),Fa!==c?w={type:"unary-expression",operator:"NOT",
expr:Fa}:(l=w,w=c)):(l=w,w=c);if(w===c){H=l;w=t();if(w!==c){Da();H=[];ea=l;Fa=Da();Na=O();if(Na!==c){var ab=Da();var db=t();db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)}else l=ea,ea=c;if(ea!==c)for(;ea!==c;)H.push(ea),ea=l,Fa=Da(),Na=O(),Na!==c?(ab=Da(),db=t(),db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)):(l=ea,ea=c);else H=c;H!==c&&(H={type:"arithmetic",tail:H});H===c&&(H=l,ea=E(),ea!==c?(Da(),Fa=Ka(),Fa!==c?(Da(),Fa=d(),Fa!==c?(Da(),Na=Va(),Na!==c?H={op:ea,right:Fa}:(l=H,H=c)):(l=H,H=c)):(l=H,H=c)):(l=H,H=
c),H===c&&(H=l,ea=E(),ea!==c?(Da(),Fa=Ka(),Fa!==c?(Da(),Fa=Va(),Fa!==c?H={op:ea,right:{type:"expression-list",value:[]}}:(l=H,H=c)):(l=H,H=c)):(l=H,H=c),H===c&&(H=l,ea=E(),ea!==c?(Da(),Fa=ca(),Fa!==c?H={op:ea,right:Fa}:(l=H,H=c)):(l=H,H=c))),H===c&&(H=l,Na=u(),Na!==c?(Da(),ea=Ba(),ea!==c?(Da(),Fa=t(),Fa!==c?(Da(),ab=ia(),ab!==c?(Da(),Na=t(),Na!==c?H={op:"NOT"+ea,right:{type:"expression-list",value:[Fa,Na]}}:(l=H,H=c)):(l=H,H=c)):(l=H,H=c)):(l=H,H=c)):(l=H,H=c),H===c&&(H=l,Na=Ba(),Na!==c?(Da(),ea=
t(),ea!==c?(Da(),Fa=ia(),Fa!==c?(Da(),ab=t(),ab!==c?H={op:Na,right:{type:"expression-list",value:[ea,ab]}}:(l=H,H=c)):(l=H,H=c)):(l=H,H=c)):(l=H,H=c)),H===c&&(H=l,ea=vb(),ea!==c?(Da(),Fa=u(),Fa!==c?(Da(),Fa=t(),Fa!==c?H={op:ea+"NOT",right:Fa}:(l=H,H=c)):(l=H,H=c)):(l=H,H=c),H===c&&(H=l,ea=vb(),ea!==c?(Da(),Fa=t(),Fa!==c?H={op:ea,right:Fa}:(l=H,H=c)):(l=H,H=c)),H===c&&(H=l,ea=P(),ea!==c?(Da(),Fa=V(),Fa!==c?(Da(),Na=l,f.substr(l,6).toLowerCase()===Sa?(ab=f.substr(l,6),l+=6):(ab=c,0===Aa&&r(Ke)),ab!==
c?(ab=l,Aa++,db=U(),Aa--,db===c?ab=void 0:(l=ab,ab=c),ab!==c?Na="ESCAPE":(l=Na,Na=c)):(l=Na,Na=c),Na!==c?(Da(),Na=R(),Na!==c?H={op:ea,right:Fa,escape:Na.value}:(l=H,H=c)):(l=H,H=c)):(l=H,H=c)):(l=H,H=c),H===c&&(H=l,ea=P(),ea!==c?(Da(),Fa=V(),Fa!==c?H={op:ea,right:Fa,escape:""}:(l=H,H=c)):(l=H,H=c))))));H===c&&(H=null);""==H||void 0==H||null==H?H=w:(ea=null,H=ea="arithmetic"==H.type?pb(w,H.tail):ub(H.op,w,H.right,H.escape))}else l=H,H=c;w=H}return w}function O(){if(f.substr(l,2)===Xb){var w=Xb;l+=
2}else w=c,0===Aa&&r(md);w===c&&(62===f.charCodeAt(l)?(w=ta,l++):(w=c,0===Aa&&r(ld)),w===c&&(f.substr(l,2)===Yb?(w=Yb,l+=2):(w=c,0===Aa&&r(oe)),w===c&&(f.substr(l,2)===Sb?(w=Sb,l+=2):(w=c,0===Aa&&r(Ed)),w===c&&(60===f.charCodeAt(l)?(w=zb,l++):(w=c,0===Aa&&r(qe)),w===c&&(61===f.charCodeAt(l)?(w=mb,l++):(w=c,0===Aa&&r(id)),w===c&&(f.substr(l,2)===Kb?(w=Kb,l+=2):(w=c,0===Aa&&r(pe))))))));return w}function P(){var w=w=l;var H=u();if(H!==c){var ea=Da();var Fa=h();Fa!==c?w=H=[H,ea,Fa]:(l=w,w=c)}else l=
w,w=c;w!==c&&(w=w[0]+" "+w[2]);w===c&&(w=h());return w}function E(){var w=w=l;var H=u();if(H!==c){var ea=Da();var Fa=fb();Fa!==c?w=H=[H,ea,Fa]:(l=w,w=c)}else l=w,w=c;w!==c&&(w=w[0]+" "+w[2]);w===c&&(w=fb());return w}function t(){var w=l;var H=N();if(H!==c){w=[];var ea=l;var Fa=Da();var Na=A();if(Na!==c){var ab=Da();var db=N();db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)}else l=ea,ea=c;for(;ea!==c;)w.push(ea),ea=l,Fa=Da(),Na=A(),Na!==c?(ab=Da(),db=N(),db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)):(l=ea,ea=c);
w=pb(H,w)}else l=w,w=c;return w}function A(){if(43===f.charCodeAt(l)){var w=Zb;l++}else w=c,0===Aa&&r(Kc);w===c&&(45===f.charCodeAt(l)?(w=$b,l++):(w=c,0===Aa&&r(Tc)),w===c&&(f.substr(l,2)===kc?(w=kc,l+=2):(w=c,0===Aa&&r(Fb))));return w}function N(){var w=l;var H=aa();if(H!==c){w=[];var ea=l;var Fa=Da();var Na=la();if(Na!==c){var ab=Da();var db=aa();db!==c?ea=Fa=[Fa,Na,ab,db]:(l=ea,ea=c)}else l=ea,ea=c;for(;ea!==c;)w.push(ea),ea=l,Fa=Da(),Na=la(),Na!==c?(ab=Da(),db=aa(),db!==c?ea=Fa=[Fa,Na,ab,db]:
(l=ea,ea=c)):(l=ea,ea=c);w=pb(H,w)}else l=w,w=c;return w}function la(){if(42===f.charCodeAt(l)){var w=Hb;l++}else w=c,0===Aa&&r(Qb);w===c&&(47===f.charCodeAt(l)?(w=Tb,l++):(w=c,0===Aa&&r(Ld)));return w}function aa(){var w=R();if(w===c){var H=l;var ea=l;var Fa=za();if(Fa!==c){var Na=Ea();if(Na!==c){var ab=Qa();ab!==c?ea=parseFloat(Fa+Na+ab):(l=ea,ea=c)}else l=ea,ea=c}else l=ea,ea=c;ea===c&&(ea=l,Fa=za(),Fa!==c?(Na=Ea(),Na!==c?ea=parseFloat(Fa+Na):(l=ea,ea=c)):(l=ea,ea=c),ea===c&&(ea=l,Fa=za(),Fa!==
c?(Na=Qa(),Na!==c?ea=parseFloat(Fa+Na):(l=ea,ea=c)):(l=ea,ea=c),ea===c&&(ea=l,Fa=za(),Fa!==c&&(Fa=parseFloat(Fa)),ea=Fa)));var db=ea;if(db!==c){var Sd=l;Aa++;var Kf=K();Aa--;Kf===c?Sd=void 0:(l=Sd,Sd=c);Sd!==c?H={type:"number",value:db}:(l=H,H=c)}else l=H,H=c;w=H;if(w===c){var Xc=l;var rc=l;if(f.substr(l,4).toLowerCase()===ma){var Td=f.substr(l,4);l+=4}else Td=c,0===Aa&&r(Fe);if(Td!==c){var Yc=l;Aa++;var Lf=U();Aa--;Lf===c?Yc=void 0:(l=Yc,Yc=c);Yc!==c?rc=Td=[Td,Yc]:(l=rc,rc=c)}else l=rc,rc=c;var mc=
rc;mc!==c&&(mc={type:"boolean",value:!0});Xc=mc;if(Xc===c){Xc=l;var sc=l;if(f.substr(l,5).toLowerCase()===da){var Ud=f.substr(l,5);l+=5}else Ud=c,0===Aa&&r(Ge);if(Ud!==c){var Zc=l;Aa++;var Mf=U();Aa--;Mf===c?Zc=void 0:(l=Zc,Zc=c);Zc!==c?sc=Ud=[Ud,Zc]:(l=sc,sc=c)}else l=sc,sc=c;mc=sc;mc!==c&&(mc={type:"boolean",value:!1});Xc=mc}w=Xc;if(w===c){var tc=l;if(f.substr(l,4).toLowerCase()===Y){var Vd=f.substr(l,4);l+=4}else Vd=c,0===Aa&&r(Ee);if(Vd!==c){var $c=l;Aa++;var Nf=U();Aa--;Nf===c?$c=void 0:(l=$c,
$c=c);$c!==c?tc=Vd=[Vd,$c]:(l=tc,tc=c)}else l=tc,tc=c;var Ye=tc;Ye!==c&&(Ye={type:"null",value:null});w=Ye;if(w===c){var uc=l;if(ba()!==c){Da();var kf=V();kf!==c?uc={type:"date",value:kf.value}:(l=uc,uc=c)}else l=uc,uc=c;w=uc;if(w===c){var vc=l;if(ha()!==c){Da();var lf=V();lf!==c?vc={type:"timestamp",value:lf.value}:(l=vc,vc=c)}else l=vc,vc=c;w=vc;if(w===c){var Cb=l;var Ze=na();if(Ze!==c){Da();if(45===f.charCodeAt(l)){var dc=$b;l++}else dc=c,0===Aa&&r(Tc);dc===c&&(43===f.charCodeAt(l)?(dc=Zb,l++):
(dc=c,0===Aa&&r(Kc)));if(dc!==c){Da();var ad=V();if(ad!==c){Da();var mf=oa();mf!==c?Cb={type:"interval",value:ad,qualifier:mf,op:dc}:(l=Cb,Cb=c)}else l=Cb,Cb=c}else l=Cb,Cb=c}else l=Cb,Cb=c;Cb===c&&(Cb=l,Ze=na(),Ze!==c?(Da(),dc=V(),dc!==c?(Da(),ad=oa(),ad!==c?Cb={type:"interval",value:dc,qualifier:ad,op:""}:(l=Cb,Cb=c)):(l=Cb,Cb=c)):(l=Cb,Cb=c));w=Cb}}}}}}var nb=w;if(nb===c){var Lb=l;var wc=l;if(f.substr(l,7).toLowerCase()===sd){var nf=f.substr(l,7);l+=7}else nf=c,0===Aa&&r(Re);if(nf!==c){var Wd=
l;Aa++;var Of=U();Aa--;Of===c?Wd=void 0:(l=Wd,Wd=c);Wd!==c?wc="EXTRACT":(l=wc,wc=c)}else l=wc,wc=c;if(wc!==c){Da();var Pf=Ka();if(Pf!==c){Da();var Ub=sa();Ub===c&&(Ub=wa(),Ub===c&&(Ub=X(),Ub===c&&(Ub=fa(),Ub===c&&(Ub=ua(),Ub===c&&(Ub=Ca())))));var of=Ub;if(of!==c){Da();var Qf=z();if(Qf!==c){Da();var pf=q();if(pf!==c){Da();var Rf=Va();Rf!==c?Lb={type:"function",name:"extract",args:{type:"expression-list",value:[{type:"string",value:of},pf]}}:(l=Lb,Lb=c)}else l=Lb,Lb=c}else l=Lb,Lb=c}else l=Lb,Lb=c}else l=
Lb,Lb=c}else l=Lb,Lb=c;nb=Lb;if(nb===c){var Mb=l;var xc=l;if(f.substr(l,9).toLowerCase()===rd){var qf=f.substr(l,9);l+=9}else qf=c,0===Aa&&r(Qe);if(qf!==c){var Xd=l;Aa++;var Sf=U();Aa--;Sf===c?Xd=void 0:(l=Xd,Xd=c);Xd!==c?xc="SUBSTRING":(l=xc,xc=c)}else l=xc,xc=c;if(xc!==c){Da();var Tf=Ka();if(Tf!==c){Da();var $e=q();if($e!==c){Da();var Uf=z();if(Uf!==c){Da();var af=q();if(af!==c){Da();var ec=l;var yc=l;if(f.substr(l,3).toLowerCase()===Ib){var rf=f.substr(l,3);l+=3}else rf=c,0===Aa&&r(Pe);if(rf!==
c){var Yd=l;Aa++;var Vf=U();Aa--;Vf===c?Yd=void 0:(l=Yd,Yd=c);Yd!==c?yc="FOR":(l=yc,yc=c)}else l=yc,yc=c;var bd=yc;if(bd!==c){var Wf=Da();var sf=q();if(sf!==c){var Xf=Da();ec=bd=[bd,Wf,sf,Xf]}else l=ec,ec=c}else l=ec,ec=c;ec===c&&(ec=null);bd=Va();bd!==c?Mb={type:"function",name:"substring",args:{type:"expression-list",value:ec?[$e,af,ec[2]]:[$e,af]}}:(l=Mb,Mb=c)}else l=Mb,Mb=c}else l=Mb,Mb=c}else l=Mb,Mb=c}else l=Mb,Mb=c}else l=Mb,Mb=c;nb=Mb;if(nb===c){var rb=l;var bf=S();if(bf!==c){Da();var cf=
Ka();if(cf!==c){Da();var fc=J();fc===c&&(fc=null);Da();var cd=q();if(cd!==c){Da();var df=z();if(df!==c){Da();var tf=q();if(tf!==c){Da();var Yf=Va();Yf!==c?rb={type:"function",name:"trim",args:{type:"expression-list",value:[{type:"string",value:null==fc?"BOTH":fc},cd,tf]}}:(l=rb,rb=c)}else l=rb,rb=c}else l=rb,rb=c}else l=rb,rb=c}else l=rb,rb=c}else l=rb,rb=c;rb===c&&(rb=l,bf=S(),bf!==c?(Da(),cf=Ka(),cf!==c?(Da(),fc=J(),fc===c&&(fc=null),Da(),cd=q(),cd!==c?(Da(),df=Va(),df!==c?rb={type:"function",name:"trim",
args:{type:"expression-list",value:[{type:"string",value:null==fc?"BOTH":fc},cd]}}:(l=rb,rb=c)):(l=rb,rb=c)):(l=rb,rb=c)):(l=rb,rb=c));nb=rb;if(nb===c){var Nb=l;var zc=l;if(f.substr(l,8).toLowerCase()===ud){var uf=f.substr(l,8);l+=8}else uf=c,0===Aa&&r(Se);if(uf!==c){var Zd=l;Aa++;var Zf=U();Aa--;Zf===c?Zd=void 0:(l=Zd,Zd=c);Zd!==c?zc="POSITION":(l=zc,zc=c)}else l=zc,zc=c;if(zc!==c){Da();var $f=Ka();if($f!==c){Da();var vf=q();if(vf!==c){Da();var ag=fb();if(ag!==c){Da();var wf=q();if(wf!==c){Da();
var bg=Va();bg!==c?Nb={type:"function",name:"position",args:{type:"expression-list",value:[vf,wf]}}:(l=Nb,Nb=c)}else l=Nb,Nb=c}else l=Nb,Nb=c}else l=Nb,Nb=c}else l=Nb,Nb=c}else l=Nb,Nb=c;nb=Nb;if(nb===c){var Ob=l;var Ac=l;if(f.substr(l,4).toLowerCase()===ve){var xf=f.substr(l,4);l+=4}else xf=c,0===Aa&&r(lc);if(xf!==c){var $d=l;Aa++;var cg=U();Aa--;cg===c?$d=void 0:(l=$d,$d=c);$d!==c?Ac="CAST":(l=Ac,Ac=c)}else l=Ac,Ac=c;if(Ac!==c){Da();var dg=Ka();if(dg!==c){Da();var yf=q();if(yf!==c){Da();var Bc=
l;if(f.substr(l,2).toLowerCase()===Ad){var zf=f.substr(l,2);l+=2}else zf=c,0===Aa&&r(Lc);if(zf!==c){var ae=l;Aa++;var eg=U();Aa--;eg===c?ae=void 0:(l=ae,ae=c);ae!==c?Bc="AS":(l=Bc,Bc=c)}else l=Bc,Bc=c;var fg=Bc;if(fg!==c){Da();var ob=l;var Cc=l;if(f.substr(l,7).toLowerCase()===Bd){var Af=f.substr(l,7);l+=7}else Af=c,0===Aa&&r(nd);if(Af!==c){var be=l;Aa++;var gg=U();Aa--;gg===c?be=void 0:(l=be,be=c);be!==c?Cc="INTEGER":(l=Cc,Cc=c)}else l=Cc,Cc=c;var sb=Cc;sb!==c&&(sb={type:"data-type",value:{type:"integer"}});
ob=sb;if(ob===c){ob=l;var Dc=l;if(f.substr(l,8).toLowerCase()===Cd){var Bf=f.substr(l,8);l+=8}else Bf=c,0===Aa&&r(te);if(Bf!==c){var ce=l;Aa++;var hg=U();Aa--;hg===c?ce=void 0:(l=ce,ce=c);ce!==c?Dc="SMALLINT":(l=Dc,Dc=c)}else l=Dc,Dc=c;sb=Dc;sb!==c&&(sb={type:"data-type",value:{type:"smallint"}});ob=sb;if(ob===c){ob=l;var Ec=l;if(f.substr(l,5).toLowerCase()===Dd){var Cf=f.substr(l,5);l+=5}else Cf=c,0===Aa&&r(od);if(Cf!==c){var de=l;Aa++;var ig=U();Aa--;ig===c?de=void 0:(l=de,de=c);de!==c?Ec="FLOAT":
(l=Ec,Ec=c)}else l=Ec,Ec=c;sb=Ec;sb!==c&&(sb={type:"data-type",value:{type:"float"}});ob=sb;if(ob===c){ob=l;var Fc=l;if(f.substr(l,4).toLowerCase()===hc){var Df=f.substr(l,4);l+=4}else Df=c,0===Aa&&r(Mc);if(Df!==c){var ee=l;Aa++;var jg=U();Aa--;jg===c?ee=void 0:(l=ee,ee=c);ee!==c?Fc="REAL":(l=Fc,Fc=c)}else l=Fc,Fc=c;sb=Fc;sb!==c&&(sb={type:"data-type",value:{type:"real"}});ob=sb;if(ob===c&&(ob=l,sb=ba(),sb!==c&&(sb={type:"data-type",value:{type:"date"}}),ob=sb,ob===c&&(ob=l,sb=ha(),sb!==c&&(sb={type:"data-type",
value:{type:"timestamp"}}),ob=sb,ob===c))){ob=l;var Gc=l;if(f.substr(l,7).toLowerCase()===Qc){var Ef=f.substr(l,7);l+=7}else Ef=c,0===Aa&&r(ue);if(Ef!==c){var fe=l;Aa++;var kg=U();Aa--;kg===c?fe=void 0:(l=fe,fe=c);fe!==c?Gc="VARCHAR":(l=Gc,Gc=c)}else l=Gc,Gc=c;sb=Gc;if(sb!==c){Da();var lg=Ka();if(lg!==c){Da();var Ff=Oa();if(Ff!==c){Da();var mg=Va();mg!==c?ob={type:"data-type",value:{type:"varchar",size:parseInt(Ff)}}:(l=ob,ob=c)}else l=ob,ob=c}else l=ob,ob=c}else l=ob,ob=c}}}}var Gf=ob;if(Gf!==c){Da();
var ng=Va();ng!==c?Ob={type:"function",name:"cast",args:{type:"expression-list",value:[yf,Gf]}}:(l=Ob,Ob=c)}else l=Ob,Ob=c}else l=Ob,Ob=c}else l=Ob,Ob=c}else l=Ob,Ob=c}else l=Ob,Ob=c;nb=Ob;if(nb===c){var jc=l;var ge;var Vb=l;Vb=ge=I();if(Vb===c)if(Vb=l,96===f.charCodeAt(l)?(ge=hd,l++):(ge=c,0===Aa&&r(La)),ge!==c){var he=[];if(kd.test(f.charAt(l))){var gc=f.charAt(l);l++}else gc=c,0===Aa&&r(Ra);if(gc!==c)for(;gc!==c;)he.push(gc),kd.test(f.charAt(l))?(gc=f.charAt(l),l++):(gc=c,0===Aa&&r(Ra));else he=
c;he!==c?(96===f.charCodeAt(l)?(gc=hd,l++):(gc=c,0===Aa&&r(La)),gc!==c?Vb=he.join(""):(l=Vb,Vb=c)):(l=Vb,Vb=c)}else l=Vb,Vb=c;var Hf=Vb;if(Hf!==c){Da();var og=Ka();if(og!==c){Da();var ie=d();ie===c&&(ie=null);Da();var pg=Va();pg!==c?jc={type:"function",name:Hf,args:ie?ie:{type:"expression-list",value:[]}}:(l=jc,jc=c)}else l=jc,jc=c}else l=jc,jc=c;nb=jc;if(nb===c){var ac;var Db=l;var ef=Ha();if(ef!==c){Da();var dd=q();if(dd!==c){Da();var ed=[];for(ac=n();ac!==c;)ed.push(ac),ac=n();ac=Da();var je=Pa();
je!==c?Db={type:"case-expression",format:"simple",operand:dd,clauses:ed,else:null}:(l=Db,Db=c)}else l=Db,Db=c}else l=Db,Db=c;if(Db===c)if(Db=l,ef=Ha(),ef!==c)if(Da(),dd=q(),dd!==c){Da();ed=[];for(ac=n();ac!==c;)ed.push(ac),ac=n();ac=Da();je=W();if(je!==c){Da();var qg=Pa();qg!==c?Db={type:"case-expression",format:"simple",operand:dd,clauses:ed,else:je.value}:(l=Db,Db=c)}else l=Db,Db=c}else l=Db,Db=c;else l=Db,Db=c;var ff=Db;if(ff===c){var bc;var Jb=l;var gf=Ha();if(gf!==c){Da();var fd=[];for(bc=F();bc!==
c;)fd.push(bc),bc=F();bc=Da();var ke=Pa();ke!==c?Jb={type:"case-expression",format:"searched",clauses:fd,else:null}:(l=Jb,Jb=c)}else l=Jb,Jb=c;if(Jb===c)if(Jb=l,gf=Ha(),gf!==c){Da();fd=[];for(bc=F();bc!==c;)fd.push(bc),bc=F();bc=Da();ke=W();if(ke!==c){Da();var rg=Pa();rg!==c?Jb={type:"case-expression",format:"searched",clauses:fd,else:ke.value}:(l=Jb,Jb=c)}else l=Jb,Jb=c}else l=Jb,Jb=c;ff=Jb}nb=ff;if(nb===c){var le;var me=l;var If=K();if(If!==c){var Jf=[];for(le=T();le!==c;)Jf.push(le),le=T();me=
If+Jf.join("")}else l=me,me=c;var ne=me;if(ne!==c){var hf=ne;ne=/^CURRENT_DATE$/i.test(hf)?{type:"current-time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(hf)?{type:"current-time",mode:"timestamp"}:{type:"column-reference",table:"",column:hf}}nb=ne;if(nb===c&&(nb=ca(),nb===c)){nb=l;var sg=Ka();if(sg!==c){Da();var jf=q();if(jf!==c){Da();var tg=Va();tg!==c?(jf.paren=!0,nb=jf):(l=nb,nb=c)}else l=nb,nb=c}else l=nb,nb=c}}}}}}}}}return nb}function I(){var w;var H=l;var ea=K();if(ea!==c){H=[];for(w=U();w!==
c;)H.push(w),w=U();H=ea+H.join("")}else l=H,H=c;return H}function K(){if(Fd.test(f.charAt(l))){var w=f.charAt(l);l++}else w=c,0===Aa&&r(Md);return w}function U(){if(Gd.test(f.charAt(l))){var w=f.charAt(l);l++}else w=c,0===Aa&&r(Uc);return w}function T(){if(Hd.test(f.charAt(l))){var w=f.charAt(l);l++}else w=c,0===Aa&&r(Nd);return w}function ca(){var w=l;if(64===f.charCodeAt(l)){var H=hb;l++}else H=c,0===Aa&&r(Vc);if(H!==c){var ea=I();ea!==c?w=H=[H,ea]:(l=w,w=c)}else l=w,w=c;w!==c&&(w={type:"parameter",
value:w[1]});return w}function J(){var w=l;if(f.substr(l,7).toLowerCase()===xd){var H=f.substr(l,7);l+=7}else H=c,0===Aa&&r(se);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="LEADING":(l=w,w=c)}else l=w,w=c;w===c&&(w=l,f.substr(l,8).toLowerCase()===yd?(H=f.substr(l,8),l+=8):(H=c,0===Aa&&r(gb)),H!==c?(H=l,Aa++,ea=U(),Aa--,ea===c?H=void 0:(l=H,H=c),H!==c?w="TRAILING":(l=w,w=c)):(l=w,w=c),w===c&&(w=l,f.substr(l,4).toLowerCase()===zd?(H=f.substr(l,4),l+=4):(H=c,0===Aa&&r(wb)),H!==
c?(H=l,Aa++,ea=U(),Aa--,ea===c?H=void 0:(l=H,H=c),H!==c?w="BOTH":(l=w,w=c)):(l=w,w=c)));return w}function oa(){var w=l;var H=l;var ea=ra();if(ea!==c){Da();var Fa=Ka();if(Fa!==c)if(Da(),Fa=ka(),Fa!==c){Da();var Na=Va();Na!==c?H={type:"interval-period",period:ea.value,precision:Fa,secondary:null}:(l=H,H=c)}else l=H,H=c;else l=H,H=c}else l=H,H=c;H===c&&(H=l,ea=ra(),ea!==c&&(ea={type:"interval-period",period:ea.value,precision:null,secondary:null}),H=ea);if(H!==c)if(Da(),ea=l,f.substr(l,2).toLowerCase()===
nc?(Fa=f.substr(l,2),l+=2):(Fa=c,0===Aa&&r(Nc)),Fa!==c?(Fa=l,Aa++,Na=U(),Aa--,Na===c?Fa=void 0:(l=Fa,Fa=c),Fa!==c?ea="TO":(l=ea,ea=c)):(l=ea,ea=c),ea!==c){Da();ea=l;Fa=ra();Fa!==c&&(Fa={type:"interval-period",period:Fa.value,precision:null,secondary:null});ea=Fa;if(ea===c){ea=l;Fa=Ca();if(Fa!==c)if(Da(),Fa=Ka(),Fa!==c)if(Da(),Fa=ka(),Fa!==c)if(Da(),Na=Ua(),Na!==c)if(Da(),Na=xa(),Na!==c){Da();var ab=Va();ab!==c?ea={type:"interval-period",period:"second",precision:Fa,secondary:Na}:(l=ea,ea=c)}else l=
ea,ea=c;else l=ea,ea=c;else l=ea,ea=c;else l=ea,ea=c;else l=ea,ea=c;ea===c&&(ea=l,Fa=Ca(),Fa!==c?(Da(),Fa=Ka(),Fa!==c?(Da(),Fa=ka(),Fa!==c?(Da(),Na=Va(),Na!==c?ea={type:"interval-period",period:"second",precision:Fa,secondary:null}:(l=ea,ea=c)):(l=ea,ea=c)):(l=ea,ea=c)):(l=ea,ea=c),ea===c&&(ea=l,Fa=Ca(),Fa!==c&&(Fa={type:"interval-period",period:"second",precision:null,secondary:null}),ea=Fa))}ea!==c?w={type:"interval-qualifier",start:H,end:ea}:(l=w,w=c)}else l=w,w=c;else l=w,w=c;w===c&&(w=l,ea=ra(),
ea!==c?(Da(),H=Ka(),H!==c?(Da(),H=xa(),H!==c?(Da(),Fa=Va(),Fa!==c?w={type:"interval-period",period:ea.value,precision:H,secondary:null}:(l=w,w=c)):(l=w,w=c)):(l=w,w=c)):(l=w,w=c),w===c&&(w=l,ea=ra(),ea!==c&&(ea={type:"interval-period",period:ea.value,precision:null,secondary:null}),w=ea,w===c&&(w=l,ea=Ca(),ea!==c?(Da(),H=Ka(),H!==c?(Da(),H=ka(),H!==c?(Da(),Fa=Ua(),Fa!==c?(Da(),ea=xa(),ea!==c?(Da(),Fa=Va(),Fa!==c?w={type:"interval-period",period:"second",precision:H,secondary:ea}:(l=w,w=c)):(l=w,w=
c)):(l=w,w=c)):(l=w,w=c)):(l=w,w=c)):(l=w,w=c),w===c&&(w=l,ea=Ca(),ea!==c?(Da(),H=Ka(),H!==c?(Da(),H=xa(),H!==c?(Da(),Fa=Va(),Fa!==c?w={type:"interval-period",period:"second",precision:H,secondary:null}:(l=w,w=c)):(l=w,w=c)):(l=w,w=c)):(l=w,w=c),w===c&&(w=l,ea=Ca(),ea!==c&&(ea={type:"interval-period",period:"second",precision:null,secondary:null}),w=ea)))));return w}function ra(){var w=l;w=X();w!==c&&(w={type:"string",value:"day"});w===c&&(w=l,w=fa(),w!==c&&(w={type:"string",value:"hour"}),w===c&&
(w=l,w=ua(),w!==c&&(w={type:"string",value:"minute"}),w===c&&(w=l,w=wa(),w!==c&&(w={type:"string",value:"month"}),w===c&&(w=l,w=sa(),w!==c&&(w={type:"string",value:"year"})))));return w}function xa(){var w=Oa();w!==c&&(w=parseFloat(w));return w}function ka(){var w=Oa();w!==c&&(w=parseFloat(w));return w}function V(){var w=R();w===c&&(w=ca());return w}function R(){var w=l;if(39===f.charCodeAt(l)){var H=Ab;l++}else H=c,0===Aa&&r(Od);H===c&&(f.substr(l,2)===Bb?(H=Bb,l+=2):(H=c,0===Aa&&r(Ae)));if(H!==
c){H=[];var ea=l;f.substr(l,2)===Za?(ea=Za,l+=2):(ea=c,0===Aa&&r(Wc));ea!==c&&(ea="'");ea===c&&(Sc.test(f.charAt(l))?(ea=f.charAt(l),l++):(ea=c,0===Aa&&r(Pd)));for(;ea!==c;)H.push(ea),ea=l,f.substr(l,2)===Za?(ea=Za,l+=2):(ea=c,0===Aa&&r(Wc)),ea!==c&&(ea="'"),ea===c&&(Sc.test(f.charAt(l))?(ea=f.charAt(l),l++):(ea=c,0===Aa&&r(Pd)));39===f.charCodeAt(l)?(ea=Ab,l++):(ea=c,0===Aa&&r(Od));ea!==c?w={type:"string",value:H.join("")}:(l=w,w=c)}else l=w,w=c;return w}function F(){var w=l;if(Ma()!==c){Da();var H=
q();if(H!==c){Da();var ea=Ta();ea!==c?(Da(),ea=q(),ea!==c?w={type:"when-clause",operand:H,value:ea}:(l=w,w=c)):(l=w,w=c)}else l=w,w=c}else l=w,w=c;return w}function n(){var w=l;if(Ma()!==c){Da();var H=q();if(H!==c){Da();var ea=Ta();ea!==c?(Da(),ea=q(),ea!==c?w={type:"when-clause",operand:H,value:ea}:(l=w,w=c)):(l=w,w=c)}else l=w,w=c}else l=w,w=c;return w}function W(){var w=l;var H=l;if(f.substr(l,4).toLowerCase()===ze){var ea=f.substr(l,4);l+=4}else ea=c,0===Aa&&r(Q);if(ea!==c){ea=l;Aa++;var Fa=U();
Aa--;Fa===c?ea=void 0:(l=ea,ea=c);ea!==c?H="ELSE":(l=H,H=c)}else l=H,H=c;H!==c?(Da(),H=q(),H!==c?w={type:"else-clause",value:H}:(l=w,w=c)):(l=w,w=c);return w}function za(){var w=Oa();if(w===c){w=l;if(45===f.charCodeAt(l)){var H=$b;l++}else H=c,0===Aa&&r(Tc);H===c&&(43===f.charCodeAt(l)?(H=Zb,l++):(H=c,0===Aa&&r(Kc)));if(H!==c){var ea=Oa();ea!==c?w=H[0]+ea:(l=w,w=c)}else l=w,w=c}return w}function Ea(){var w=l;if(46===f.charCodeAt(l)){var H=ic;l++}else H=c,0===Aa&&r(Be);H!==c?(w=Oa(),w===c&&(w=null),
w="."+(null!=w?w:"")):(l=w,w=c);return w}function Qa(){var w;var H=w=l;if(Jd.test(f.charAt(l))){var ea=f.charAt(l);l++}else ea=c,0===Aa&&r(re);ea!==c?(Kd.test(f.charAt(l))?(H=f.charAt(l),l++):(H=c,0===Aa&&r(De)),H===c&&(H=null),H="e"+(null===H?"":H)):(l=H,H=c);H!==c?(ea=Oa(),ea!==c?w=H+ea:(l=w,w=c)):(l=w,w=c);return w}function Oa(){var w=[];var H=bb();if(H!==c)for(;H!==c;)w.push(H),H=bb();else w=c;w!==c&&(w=w.join(""));return w}function bb(){if(Id.test(f.charAt(l))){var w=f.charAt(l);l++}else w=c,
0===Aa&&r(Ce);return w}function fb(){var w=l;if(f.substr(l,2).toLowerCase()===va){var H=f.substr(l,2);l+=2}else H=c,0===Aa&&r(He);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="IN":(l=w,w=c)}else l=w,w=c;return w}function vb(){var w=l;if(f.substr(l,2).toLowerCase()===Ia){var H=f.substr(l,2);l+=2}else H=c,0===Aa&&r(Ie);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="IS":(l=w,w=c)}else l=w,w=c;return w}function h(){var w=l;if(f.substr(l,4).toLowerCase()===
Ja){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(Je);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="LIKE":(l=w,w=c)}else l=w,w=c;return w}function u(){var w=l;if(f.substr(l,3).toLowerCase()===Wa){var H=f.substr(l,3);l+=3}else H=c,0===Aa&&r(Qd);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="NOT":(l=w,w=c)}else l=w,w=c;return w}function ia(){var w=l;if(f.substr(l,3).toLowerCase()===lb){var H=f.substr(l,3);l+=3}else H=c,0===Aa&&r(Le);if(H!==c){H=l;Aa++;var ea=
U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="AND":(l=w,w=c)}else l=w,w=c;return w}function pa(){var w=l;if(f.substr(l,2).toLowerCase()===kb){var H=f.substr(l,2);l+=2}else H=c,0===Aa&&r(Me);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="OR":(l=w,w=c)}else l=w,w=c;return w}function Ba(){var w=l;if(f.substr(l,7).toLowerCase()===jb){var H=f.substr(l,7);l+=7}else H=c,0===Aa&&r(Ne);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="BETWEEN":(l=w,w=c)}else l=w,w=
c;return w}function z(){var w=l;if(f.substr(l,4).toLowerCase()===yb){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(Oe);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="FROM":(l=w,w=c)}else l=w,w=c;return w}function S(){var w=l;if(f.substr(l,4).toLowerCase()===td){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(Rd);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="TRIM":(l=w,w=c)}else l=w,w=c;return w}function ha(){var w=l;if(f.substr(l,9).toLowerCase()===vd){var H=
f.substr(l,9);l+=9}else H=c,0===Aa&&r(Te);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="TIMESTAMP":(l=w,w=c)}else l=w,w=c;return w}function ba(){var w=l;if(f.substr(l,4).toLowerCase()===wd){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(cc);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="DATE":(l=w,w=c)}else l=w,w=c;return w}function na(){var w=l;if(f.substr(l,8).toLowerCase()===oc){var H=f.substr(l,8);l+=8}else H=c,0===Aa&&r(Pc);if(H!==c){H=l;Aa++;var ea=
U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="INTERVAL":(l=w,w=c)}else l=w,w=c;return w}function sa(){var w=l;if(f.substr(l,4).toLowerCase()===we){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(Oc);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="YEAR":(l=w,w=c)}else l=w,w=c;return w}function wa(){var w=l;if(f.substr(l,5).toLowerCase()===pc){var H=f.substr(l,5);l+=5}else H=c,0===Aa&&r(qd);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="MONTH":(l=w,w=c)}else l=
w,w=c;return w}function X(){var w=l;if(f.substr(l,3).toLowerCase()===Rb){var H=f.substr(l,3);l+=3}else H=c,0===Aa&&r(Ue);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="DAY":(l=w,w=c)}else l=w,w=c;return w}function fa(){var w=l;if(f.substr(l,4).toLowerCase()===gd){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(Ve);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="HOUR":(l=w,w=c)}else l=w,w=c;return w}function ua(){var w=l;if(f.substr(l,6).toLowerCase()===Hc){var H=
f.substr(l,6);l+=6}else H=c,0===Aa&&r(pd);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="MINUTE":(l=w,w=c)}else l=w,w=c;return w}function Ca(){var w=l;if(f.substr(l,6).toLowerCase()===Ic){var H=f.substr(l,6);l+=6}else H=c,0===Aa&&r(We);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="SECOND":(l=w,w=c)}else l=w,w=c;return w}function Ha(){var w=l;if(f.substr(l,4).toLowerCase()===Jc){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(Xe);if(H!==c){H=l;Aa++;var ea=
U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="CASE":(l=w,w=c)}else l=w,w=c;return w}function Pa(){var w=l;if(f.substr(l,3).toLowerCase()===qc){var H=f.substr(l,3);l+=3}else H=c,0===Aa&&r($a);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="END":(l=w,w=c)}else l=w,w=c;return w}function Ma(){var w=l;if(f.substr(l,4).toLowerCase()===xe){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(a);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="WHEN":(l=w,w=c)}else l=w,w=c;
return w}function Ta(){var w=l;if(f.substr(l,4).toLowerCase()===ye){var H=f.substr(l,4);l+=4}else H=c,0===Aa&&r(m);if(H!==c){H=l;Aa++;var ea=U();Aa--;ea===c?H=void 0:(l=H,H=c);H!==c?w="THEN":(l=w,w=c)}else l=w,w=c;return w}function Ua(){if(44===f.charCodeAt(l)){var w=qb;l++}else w=c,0===Aa&&r(ja);return w}function Ka(){if(40===f.charCodeAt(l)){var w=Rc;l++}else w=c,0===Aa&&r(qa);return w}function Va(){if(41===f.charCodeAt(l)){var w=Eb;l++}else w=c,0===Aa&&r(ya);return w}function Da(){var w;var H=
[];for(w=tb();w!==c;)H.push(w),w=tb();return H}function tb(){if(xb.test(f.charAt(l))){var w=f.charAt(l);l++}else w=c,0===Aa&&r(Ga);return w}function ub(w,H,ea,Fa){w={type:"binary-expression",operator:w,left:H,right:ea};void 0!==Fa&&(w.escape=Fa);return w}function pb(w,H){for(var ea=0;ea<H.length;ea++)w=ub(H[ea][1],w,H[ea][3]);return w}g=void 0!==g?g:{};var c={},ib=g.grammarSource,eb={start:y},Gb=y,Pb="!",mb="\x3d",Xb="\x3e\x3d",ta="\x3e",Yb="\x3c\x3d",Sb="\x3c\x3e",zb="\x3c",Kb="!\x3d",Zb="+",$b=
"-",kc="||",Hb="*",Tb="/",hb="@",Ab="'",Bb="N'",Za="''",ic=".",Y="null",ma="true",da="false",va="in",Ia="is",Ja="like",Sa="escape",Wa="not",lb="and",kb="or",jb="between",yb="from",Ib="for",rd="substring",sd="extract",td="trim",ud="position",vd="timestamp",wd="date",xd="leading",yd="trailing",zd="both",ve="cast",Ad="as",Bd="integer",Cd="smallint",Dd="float",hc="real",Qc="varchar",nc="to",oc="interval",we="year",pc="month",Rb="day",gd="hour",Hc="minute",Ic="second",Jc="case",qc="end",xe="when",ye="then",
ze="else",qb=",",Rc="(",Eb=")",hd="`",Fd=/^[A-Za-z_\x80-\uFFFF]/,Gd=/^[A-Za-z0-9_]/,Hd=/^[A-Za-z0-9_.\x80-\uFFFF]/,Sc=/^[^']/,Id=/^[0-9]/,Jd=/^[eE]/,Kd=/^[+\-]/,xb=/^[ \t\n\r]/,kd=/^[^`]/,jd=k("!",!1),id=k("\x3d",!1),md=k("\x3e\x3d",!1),ld=k("\x3e",!1),oe=k("\x3c\x3d",!1),Ed=k("\x3c\x3e",!1),qe=k("\x3c",!1),pe=k("!\x3d",!1),Kc=k("+",!1),Tc=k("-",!1),Fb=k("||",!1),Qb=k("*",!1),Ld=k("/",!1),Md=D([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),Uc=D([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Nd=
D([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),Vc=k("@",!1),Od=k("'",!1),Ae=k("N'",!1),Wc=k("''",!1),Pd=D(["'"],!0,!1),Be=k(".",!1),Ce=D([["0","9"]],!1,!1),re=D(["e","E"],!1,!1),De=D(["+","-"],!1,!1),Ee=k("NULL",!0),Fe=k("TRUE",!0),Ge=k("FALSE",!0),He=k("IN",!0),Ie=k("IS",!0),Je=k("LIKE",!0),Ke=k("ESCAPE",!0),Qd=k("NOT",!0),Le=k("AND",!0),Me=k("OR",!0),Ne=k("BETWEEN",!0),Oe=k("FROM",!0),Pe=k("FOR",!0),Qe=k("SUBSTRING",!0),Re=k("EXTRACT",!0),Rd=k("TRIM",!0),Se=k("POSITION",!0),
Te=k("TIMESTAMP",!0),cc=k("DATE",!0),se=k("LEADING",!0),gb=k("TRAILING",!0),wb=k("BOTH",!0),lc=k("CAST",!0),Lc=k("AS",!0),nd=k("INTEGER",!0),te=k("SMALLINT",!0),od=k("FLOAT",!0),Mc=k("REAL",!0),ue=k("VARCHAR",!0),Nc=k("TO",!0),Pc=k("INTERVAL",!0),Oc=k("YEAR",!0),qd=k("MONTH",!0),Ue=k("DAY",!0),Ve=k("HOUR",!0),pd=k("MINUTE",!0),We=k("SECOND",!0),Xe=k("CASE",!0),$a=k("END",!0),a=k("WHEN",!0),m=k("THEN",!0),Q=k("ELSE",!0),ja=k(",",!1),qa=k("(",!1),ya=k(")",!1),Ga=D([" ","\t","\n","\r"],!1,!1),La=k("`",
!1),Ra=D(["`"],!0,!1),l=0,Xa=[{line:1,column:1}],Ya=0,cb=[],Aa=0;if("startRule"in g){if(!(g.startRule in eb))throw Error("Can't start parsing from rule \""+g.startRule+'".');Gb=eb[g.startRule]}var Wb=Gb();if(Wb!==c&&l===f.length)return Wb;Wb!==c&&l<f.length&&r({type:"end"});throw function(w,H,ea){return new v(v.buildMessage(w,H),w,H,ea)}(cb,Ya<f.length?f.charAt(Ya):null,Ya<f.length?G(Ya,Ya+1):G(Ya,Ya));}}})})({get exports(){return Z},set exports(B){Z=B}});let C=function(){function B(){}B.parse=function(v){return Z.parse(v)};
return B}();b.WhereGrammar=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(b){b.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};b.getDefaultExportFromCjs=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}})},"esri/statistics/utils":function(){define(["exports",
"../rest/support/ClassBreaksDefinition","../rest/support/generateRendererUtils"],function(b,e,Z){function C(t){return null==t||"string"===typeof t&&!t?"\x3cNull\x3e":t}function B(t){const A=null!=t.minValue||null!=t.maxValue,N=!!t.sqlExpression&&t.supportsSQLExpression;return!(null!=t.normalizationField||null!=t.normalizationType)&&!A&&!N}function v(t){const {values:A,useSampleStdDev:N,supportsNullCount:la}=t;var aa=Number.POSITIVE_INFINITY;let I=Number.NEGATIVE_INFINITY,K=null,U=null;var T=null;
let ca=null,J=0;const oa=null==t.minValue?-Infinity:t.minValue,ra=null==t.maxValue?Infinity:t.maxValue;for(const xa of A)Number.isFinite(xa)?xa>=oa&&xa<=ra&&(K=null===K?xa:K+xa,aa=Math.min(aa,xa),I=Math.max(I,xa),J++):"string"===typeof xa&&J++;if(J&&null!=K){U=K/J;T=0;for(const xa of A)Number.isFinite(xa)&&xa>=oa&&xa<=ra&&(T+=(xa-U)**2);ca=N?1<J?T/(J-1):0:0<J?T/J:0;T=Math.sqrt(ca)}else I=aa=null;aa={avg:U,count:J,max:I,min:aa,stddev:T,sum:K,variance:ca};la&&(aa.nullcount=A.length-J);t.percentileParams&&
(aa.median=p(A,t.percentileParams));return aa}function p(t,A){const {fieldType:N,value:la,orderBy:aa,isDiscrete:I}=A,K=f(N,"desc"===aa);t=[...t].filter(J=>null!=J).sort((J,oa)=>K(J,oa));if(0===t.length)return null;if(0>=la)return t[0];if(1<=la)return t[t.length-1];var U=(t.length-1)*la,T=Math.floor(U);A=T+1;U%=1;T=t[T];const ca=t[A];return A>=t.length||I||"string"===typeof T||"string"===typeof ca?T:T*(1-U)+ca*U}function f(t,A){const N=A?1:-1,la=D(A),aa=k(A);if(!t||!["esriFieldTypeDate","esriFieldTypeString",
"esriFieldTypeGUID","esriFieldTypeGlobalID",...P].includes(t))return(I,K)=>"number"===typeof I&&"number"===typeof K?la(I,K):"string"===typeof I&&"string"===typeof K?aa(I,K):N;if("esriFieldTypeDate"===t)return(I,K)=>{I=(new Date(I)).getTime();K=(new Date(K)).getTime();return isNaN(I)||isNaN(K)?N:la(I,K)};if(P.has(t))return(I,K)=>la(I,K);if("esriFieldTypeString"===t)return(I,K)=>aa(I,K);if("esriFieldTypeGUID"===t||"esriFieldTypeGlobalID"===t){const I=k(A);return(K,U)=>I(M(K),M(U))}return A?(I,K)=>1:
(I,K)=>-1}function g(t,A,N){if(N){if(null==t)return null==A?0:1;if(null==A)return-1}else{if(null==t)return null==A?0:-1;if(null==A)return 1}return null}function k(t){return t?(A,N)=>{const la=g(A,N,!0);if(null!=la)return la;A=A.toUpperCase();N=N.toUpperCase();return A>N?-1:A<N?1:0}:(A,N)=>{const la=g(A,N,!1);if(null!=la)return la;A=A.toUpperCase();N=N.toUpperCase();return A<N?-1:A>N?1:0}}function D(t){return t?(A,N)=>{const la=g(A,N,!0);return null!=la?la:N-A}:(A,N)=>{const la=g(A,N,!1);return null!=
la?la:A-N}}function M(t){return t.substr(24,12)+t.substr(19,4)+t.substr(16,2)+t.substr(14,2)+t.substr(11,2)+t.substr(9,2)+t.substr(6,2)+t.substr(4,2)+t.substr(2,2)+t.substr(0,2)}function G(t){return"coded-value"!==t?.type?[]:t.codedValues.map(A=>A.code)}function r(t,A){const N=d({field:A.field,normalizationType:A.normalizationType,normalizationField:A.normalizationField,classificationMethod:A.classificationMethod,standardDeviationInterval:A.standardDeviationInterval,breakCount:A.numClasses||5});t=
y(t,A.minValue,A.maxValue);return Z.createGenerateRendererClassBreaks({definition:N,values:t,normalizationTotal:A.normalizationTotal})}function y(t,A,N){const la=null==A?-Infinity:A,aa=null==N?Infinity:N;return t.filter(I=>Number.isFinite(I)&&I>=la&&I<=aa)}function d(t){const {breakCount:A,field:N,normalizationField:la,normalizationType:aa}=t,I=t.classificationMethod||"equal-interval";return new e({breakCount:A,classificationField:N,classificationMethod:I,normalizationField:"field"===aa?la:void 0,
normalizationType:aa,standardDeviationInterval:"standard-deviation"===I?t.standardDeviationInterval||1:void 0})}function q(t,A){const {field:N,classificationMethod:la,standardDeviationInterval:aa,normalizationType:I,normalizationField:K,normalizationTotal:U,minValue:T,maxValue:ca}=A,J=A.numBins||10;let oa=A=null,ra=null;la&&"equal-interval"!==la||I?({classBreaks:t}=r(t,{field:N,normalizationType:I,normalizationField:K,normalizationTotal:U,classificationMethod:la,standardDeviationInterval:aa,minValue:T,
maxValue:ca,numClasses:J}),A=t[0].minValue,oa=t[t.length-1].maxValue,ra=t.map(xa=>[xa.minValue,xa.maxValue])):(null!=T&&null!=ca?(A=T,oa=ca):(t=v({values:t,minValue:T,maxValue:ca,useSampleStdDev:!I,supportsNullCount:B({normalizationType:I,normalizationField:K,minValue:T,maxValue:ca})}),A=t.min??null,oa=t.max??null),ra=L(A??0,oa??0,J));return{min:A,max:oa,intervals:ra}}function x(t,A){let N=-1;for(let la=t.length-1;0<=la;la--)if(A>=t[la][0]){N=la;break}return N}function L(t,A,N){const la=(A-t)/N,aa=
[];let I;for(let K=1;K<=N;K++)I=t+la,I=Number(I.toFixed(16)),aa.push([t,K===N?A:I]),t=I;return aa}const O=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,P=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),E="min max avg stddev count sum variance nullcount median".split(" ");b.calculateClassBreaks=r;b.calculateHistogram=function(t,A){var N=q(t,A);const la=N.intervals,aa=N.min??0;N=N.max??0;const I=la.map((K,U)=>({minValue:la[U][0],maxValue:la[U][1],
count:0}));for(const K of t)null!=K&&K>=aa&&K<=N&&(t=x(la,K),-1<t&&I[t].count++);return{bins:I,minValue:aa,maxValue:N,normalizationTotal:A.normalizationTotal}};b.calculatePercentile=p;b.calculateStatistics=v;b.calculateStringStatistics=function(t){const A=t.returnDistinct?[...(new Set(t.values))]:t.values,N=A.filter(aa=>null!=aa).length,la={count:N};t.supportsNullCount&&(la.nullcount=A.length-N);t.percentileParams&&(la.median=p(A,t.percentileParams));return la};b.calculateUniqueValuesCount=function(t){const A=
{};for(let N of t){if(null==N||"string"===typeof N&&""===N.trim())N=null;null==A[N]?A[N]={count:1,data:N}:A[N].count++}return{count:A}};b.createClassBreaksDefinition=d;b.createUVResult=function(t,A,N,la){t=t.count;const aa=[];if(N&&A){N=[];var I=G(A[0]);for(const K of I)if(A[1]){I=G(A[1]);for(const U of I)if(A[2]){I=G(A[2]);for(const T of I)N.push(`${C(K)}${la}${C(U)}${la}${C(T)}`)}else N.push(`${C(K)}${la}${C(U)}`)}else N.push(K);for(const K of N)t.hasOwnProperty(K)||(t[K]={data:K,count:0})}for(const K in t)A=
t[K],aa.push({value:A.data,count:A.count,label:A.label});return{uniqueValueInfos:aa}};b.getAttributeComparator=f;b.getEqualIntervalBins=L;b.getNormalizedValue=function(t,A,N,la){let aa=null;switch(A){case "log":0!==t&&(aa=Math.log(t)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(la)&&0!==la&&(aa=t/la*100);break;case "field":Number.isFinite(N)&&0!==N&&(aa=t/N);break;case "natural-log":0<t&&(aa=Math.log(t));break;case "square-root":0<t&&(aa=t**.5)}return aa};b.isNullCountSupported=B;b.processNullValue=
C;b.processSummaryStatisticsResult=function(t,A){let N;for(N in t)E.includes(N)&&(Number.isFinite(t[N])||(t[N]=null));if(!A)return t;["avg","stddev","variance"].forEach(la=>{null!=t[la]&&(t[la]=Math.ceil(t[la]))});return t};b.resolveCBResult=function(t,A){let N=t.classBreaks;const la=N[0].minValue,aa=N[N.length-1].maxValue,I="standard-deviation"===A;N=N.map(K=>{const U=K.label;K={minValue:K.minValue,maxValue:K.maxValue,label:U};if(I&&U){const T=U.match(O)?.map(ca=>+ca.trim())??[];2===T.length?(K.minStdDev=
T[0],K.maxStdDev=T[1],0>T[0]&&0<T[1]&&(K.hasAvg=!0)):1===T.length&&(U.includes("\x3c")?(K.minStdDev=null,K.maxStdDev=T[0]):U.includes("\x3e")&&(K.minStdDev=T[0],K.maxStdDev=null))}return K});return{minValue:la,maxValue:aa,classBreakInfos:N,normalizationTotal:t.normalizationTotal}};b.statisticTypes=E;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/ClassBreaksDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),
function(b,e,Z,C,B,v,p,f,g){v=new Z.JSONMap({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"});Z=new Z.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});C=function(k){function D(M){M=k.call(this,M)||this;M.type="class-breaks-definition";M.breakCount=
null;M.classificationField=null;M.classificationMethod=null;M.normalizationField=null;M.normalizationType=null;return M}b._inheritsLoose(D,k);b._createClass(D,[{key:"standardDeviationInterval",set:function(M){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",M)}},{key:"definedInterval",set:function(M){"defined-interval"===this.classificationMethod&&this._set("definedInterval",M)}}]);return D}(C.JSONSupport);e.__decorate([f.enumeration({classBreaksDef:"class-breaks-definition"})],
C.prototype,"type",void 0);e.__decorate([B.property({json:{write:!0}})],C.prototype,"breakCount",void 0);e.__decorate([B.property({json:{write:!0}})],C.prototype,"classificationField",void 0);e.__decorate([B.property({type:String,json:{read:v.read,write:v.write}})],C.prototype,"classificationMethod",void 0);e.__decorate([B.property({json:{write:!0}})],C.prototype,"normalizationField",void 0);e.__decorate([B.property({json:{read:Z.read,write:Z.write}})],C.prototype,"normalizationType",void 0);e.__decorate([B.property({value:null,
json:{write:!0}})],C.prototype,"standardDeviationInterval",null);e.__decorate([B.property({value:null,json:{write:!0}})],C.prototype,"definedInterval",null);return C=e.__decorate([g.subclass("esri.rest.support.ClassBreaksDefinition")],C)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(b,e,Z){b.enumeration=function(C,B={}){C=C instanceof e.JSONMap?C:new e.JSONMap(C,B);C={type:B?.ignoreUnknown??!0?C.apiValues:String,json:{type:C.jsonValues,
read:B?.readOnly?!1:{reader:C.read},write:{writer:C.write}}};void 0!==B?.readOnly&&(C.readOnly=!!B.readOnly);void 0!==B?.default&&(C.json.default=B.default);void 0!==B?.name&&(C.json.name=B.name);void 0!==B?.nonNullable&&(C.nonNullable=B.nonNullable);return Z.property(C)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/generateRendererUtils":function(){define(["exports","../../core/Logger"],function(b,e){function Z(G){var r=G.definition;const {classificationMethod:y,
normalizationType:d,definedInterval:q}=r;r=r.breakCount??1;const x=[];var L=G.values;if(0===L.length)return[];L=L.sort((N,la)=>N-la);var O=L[0],P=L[L.length-1];if("equal-interval"===y)if(L.length>=r){L=(P-O)/r;G=O;for(var E=1;E<r;E++){var t=Number((O+E*L).toFixed(6));x.push({minValue:G,maxValue:t,label:C(G,t,d)});G=t}x.push({minValue:G,maxValue:P,label:C(G,P,d)})}else L.forEach(N=>{x.push({minValue:N,maxValue:N,label:C(N,N,d)})});else if("natural-breaks"===y){L=B(L);G=v(L.uniqueValues,G.valueFrequency||
L.valueFrequency,r);for(E=1;E<r;E++)L.uniqueValues.length>E&&(t=Number(L.uniqueValues[G[E]].toFixed(6)),x.push({minValue:O,maxValue:t,label:C(O,t,d)}),O=t);x.push({minValue:O,maxValue:P,label:C(O,P,d)})}else if("quantile"===y)if(L.length>=r&&O!==P){G=Math.ceil(L.length/r);E=0;for(t=1;t<r;t++){var A=G+E-1;A>L.length&&(A=L.length-1);0>A&&(A=0);x.push({minValue:O,maxValue:L[A],label:C(O,L[A],d)});O=L[A];E+=G;G=Math.ceil((L.length-E)/(r-t))}x.push({minValue:O,maxValue:P,label:C(O,P,d)})}else for(r=-1,
P=0;P<L.length;P++)O=L[P],O!==r&&(r=O,x.push({minValue:r,maxValue:O,label:C(r,O,d)}),r=O);else if("standard-deviation"===y)if(G=g(L),E=k(L,G),0===E)x.push({minValue:L[0],maxValue:L[0],label:C(L[0],L[0],d)});else{L=f(O,P,r,G,E)*E;E=0;for(t=r;1<=t;t--)A=Number((G-(t-.5)*L).toFixed(6)),x.push({minValue:O,maxValue:A,label:C(O,A,d)}),O=A,E++;t=Number((G+.5*L).toFixed(6));x.push({minValue:O,maxValue:t,label:C(O,t,d)});O=t;E++;for(A=1;A<=r;A++)t=E===2*r?P:Number((G+(A+.5)*L).toFixed(6)),x.push({minValue:O,
maxValue:t,label:C(O,t,d)}),O=t,E++}else if("defined-interval"===y){if(!q)return x;r=L[0];P=L[L.length-1];L=Math.ceil((P-r)/q);O=r;for(G=1;G<L;G++)E=Number((r+G*q).toFixed(6)),x.push({minValue:O,maxValue:E,label:C(O,E,d)}),O=E;x.push({minValue:O,maxValue:P,label:C(O,P,d)})}return x}function C(G,r,y){let d=null;return d=G===r?y&&"percent-of-total"===y?G+"%":G.toString():y&&"percent-of-total"===y?G+"% - "+r+"%":G+" - "+r}function B(G){const r=[],y=[];let d=Number.MIN_VALUE,q=1,x=-1;for(let L=0;L<G.length;L++){const O=
G[L];O===d?(q++,y[x]=q):null!==O&&(r.push(O),d=O,q=1,y.push(q),x++)}return{uniqueValues:r,valueFrequency:y}}function v(G,r,y){var d=G.length;const q=[];y>d&&(y=d);for(var x=0;x<y;x++)q.push(Math.round(x*d/y-1));q.push(d-1);x=p(q,G,r,y);d=x.mean;x=x.sdcm;var L=y,O=0,P=0;let E=0,t=0,A=!0;for(let la=0;2>la&&A;la++){0===la&&(A=!1);for(var N=0;N<L-1;N++)for(;q[N+1]+1!==q[N+2];)if(q[N+1]+=1,O=D(N,q,G,r),E=O.sbMean,O=O.sbSdcm,P=D(N+1,q,G,r),t=P.sbMean,P=P.sbSdcm,O+P<x[N]+x[N+1])x[N]=O,x[N+1]=P,d[N]=E,d[N+
1]=t,A=!0;else{--q[N+1];break}for(N=L-1;0<N;N--)for(;q[N]!==q[N-1]+1;)if(--q[N],O=D(N-1,q,G,r),E=O.sbMean,O=O.sbSdcm,P=D(N,q,G,r),t=P.sbMean,P=P.sbSdcm,O+P<x[N-1]+x[N])x[N-1]=O,x[N]=P,d[N-1]=E,d[N]=t,A=!0;else{q[N]+=1;break}}A&&(x=p(q,G,r,y));return q}function p(G,r,y,d){let q=[];var x=[],L=[];let O=0;const P=[],E=[];for(var t=0;t<d;t++){var A=D(t,G,r,y);P.push(A.sbMean);E.push(A.sbSdcm);O+=E[t]}A=O;for(t=!0;t||O<A;){t=!1;q=[];for(x=0;x<d;x++)q.push(G[x]);for(L=0;L<d;L++)for(A=G[L]+1;A<=G[L+1];A++)if(x=
r[A],0<L&&A!==G[L+1]&&Math.abs(x-P[L])>Math.abs(x-P[L-1]))G[L]=A;else if(L<d-1&&G[L]!==A-1&&Math.abs(x-P[L])>Math.abs(x-P[L+1])){G[L+1]=A-1;break}A=O;O=0;x=[];L=[];for(let N=0;N<d;N++){x.push(P[N]);L.push(E[N]);const la=D(N,G,r,y);P[N]=la.sbMean;E[N]=la.sbSdcm;O+=E[N]}}if(O>A){for(r=0;r<d;r++)G[r]=q[r],P[r]=x[r],E[r]=L[r];O=A}return{mean:P,sdcm:E}}function f(G,r,y,d,q){G=Math.max(d-G,r-d)/q/y;return 1<=G?1:.5<=G?.5:.25}function g(G){let r=0;for(let y=0;y<G.length;y++)r+=G[y];return r/=G.length}function k(G,
r){let y=0;for(let d=0;d<G.length;d++){const q=G[d];y+=(q-r)*(q-r)}y/=G.length;return Math.sqrt(y)}function D(G,r,y,d){var q=0,x=0;for(var L=r[G]+1;L<=r[G+1];L++){const O=d[L];q+=y[L]*O;x+=O}0>=x&&M.warn("Exception in Natural Breaks calculation");q/=x;x=0;for(L=r[G]+1;L<=r[G+1];L++)x+=d[L]*(y[L]-q)**2;return{sbMean:q,sbSdcm:x}}const M=e.getLogger("esri.rest.support.generateRendererUtils");b.createGenerateRendererClassBreaks=function(G){const {normalizationTotal:r}=G;return{classBreaks:Z(G),normalizationTotal:r}};
b.createGenerateRendererUniqueValues=function(G){G=B(G);const r=[],y=G.uniqueValues.length;for(let d=0;d<y;d++){const q=G.uniqueValues[d];r.push({value:q,count:G.valueFrequency[d],label:q.toString()})}return{uniqueValues:r}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/projectionSupport":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/projection ../../../geometry/geometryAdapters/json ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(b,e,Z,C,B,v,p){function f(d,q){if(!q)return null;if("x"in q){var x={x:0,y:0};[x.x,x.y]=d(q.x,q.y,M);null!=q.z&&(x.z=q.z);null!=q.m&&(x.m=q.m);return x}return"xmin"in q?(x={xmin:0,ymin:0,xmax:0,ymax:0},[x.xmin,x.ymin]=d(q.xmin,q.ymin,M),[x.xmax,x.ymax]=d(q.xmax,q.ymax,M),q.hasZ&&(x.zmin=q.zmin,x.zmax=q.zmax,x.hasZ=!0),q.hasM&&(x.mmin=q.mmin,x.mmax=q.mmax,x.hasM=!0),x):"rings"in q?{rings:g(q.rings,d),hasM:q.hasM,hasZ:q.hasZ}:"paths"in q?{paths:g(q.paths,d),hasM:q.hasM,hasZ:q.hasZ}:"points"in
q?{points:k(q.points,d),hasM:q.hasM,hasZ:q.hasZ}:null}function g(d,q){const x=[];for(const L of d)x.push(k(L,q));return x}function k(d,q){const x=[];for(const L of d)d=q(L[0],L[1],[0,0]),x.push(d),2<L.length&&d.push(L[2]),3<L.length&&d.push(L[3]);return x}function D(){D=e._asyncToGenerator(function*(d,q){d&&q&&(d=Array.isArray(d)?d.map(x=>Z.isSome(x.geometry)?x.geometry.spatialReference:null).filter(Z.isSome):[d],yield C.initializeProjection(d.map(x=>({source:x,dest:q}))))});return D.apply(this,arguments)}
const M=[0,0],G=f.bind(null,p.lngLatToXY),r=f.bind(null,p.xyToLngLat),y=new (function(){function d(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}var q=d.prototype;q.push=function(){var x=e._asyncToGenerator(function*(L,O,P){if(!(L&&L.length&&O&&P)||v.equals(O,P))return L;const E={geometries:L,inSpatialReference:O,outSpatialReference:P,resolve:null};this._jobs.push(E);return new Promise(t=>{E.resolve=t;null===this._timer&&(this._timer=setTimeout(this._process,10))})});return function(L,
O,P){return x.apply(this,arguments)}}();q._process=function(){this._timer=null;const x=this._jobs.shift();if(x){var {geometries:L,inSpatialReference:O,outSpatialReference:P,resolve:E}=x;p.canProject(O,P)?v.isWebMercator(P)?E(L.map(G)):E(L.map(r)):E(C.projectMany(B.jsonAdapter,L,O,P,null,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return d}());b.checkProjectionSupport=function(d,q){return D.apply(this,arguments)};b.project=function(d,q,x,L){if(!d)return d;x||(x=q,q=d.spatialReference);
return v.isValid(q)&&v.isValid(x)&&!v.equals(q,x)?p.canProject(q,x)?(d=v.isWebMercator(x)?G(d):r(d),d.spatialReference=x,d):C.projectMany(B.jsonAdapter,[d],q,x,null,L)[0]:d};b.projectMany=function(d,q,x){return y.push(d,q,x)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(b,e,Z,C,B,v,p,f,g,k,D,M,G,r,y,d,q,x,L,O,P,E,t,A,N,la,aa){function I(){return!!ib&&q.isLoaded()}function K(Y){v.isNone(Gb)&&(Gb=Promise.all([q.load(),(new Promise((ma,da)=>b(["../chunks/geometryEngineBase"],ma,da))).then(ma=>ma.geometryEngineBase),new Promise((ma,da)=>b(["./geometryAdapters/hydrated"],ma,da))]));return Gb.then(([,ma,{hydratedAdapter:da}])=>{p.throwIfAborted(Y);eb=da;ib=ma.default;ib._enableProjection(q.pe);mb.notify()})}function U(Y,ma,da=null,va=null){return Array.isArray(Y)?
0===Y.length?[]:T(eb,Y,Y[0].spatialReference,ma,da,va):T(eb,[Y],Y.spatialReference,ma,da,va)[0]}function T(Y,ma,da,va,Ia=null,Ja=null){if(v.isNone(da)||v.isNone(va))return ma;if(ra(da,va,Ia))return ma.map(Sa=>v.unwrap(ka(Sa,da,va)));if(v.isNone(Ia)){const Sa=A.cacheKey(da,va);void 0!==Pb[Sa]?Ia=Pb[Sa]:(Ia=J(da,va,void 0),v.isNone(Ia)&&(Ia=new A),Pb[Sa]=Ia)}if(v.isNone(ib)||v.isNone(Y))throw new Xb;return v.isSome(Ja)?ib._project(Y,ma,da,va,Ia,Ja):ib._project(Y,ma,da,va,Ia)}function ca(Y,ma){if(!I())for(const da of Y)if(v.isSome(da)&&
!N.equals(da.spatialReference,ma)&&N.isValid(da.spatialReference)&&N.isValid(ma)&&!ra(da.spatialReference,ma))return g.trackAccess(mb),{pending:K(),geometries:null};return{pending:null,geometries:Y.map(da=>v.isNone(da)?null:N.equals(da.spatialReference,ma)?da:N.isValid(da.spatialReference)&&N.isValid(ma)?oa(da,ma):null)}}function J(Y,ma,da=null){if(v.isNone(Y)||v.isNone(ma))return null;if(v.isNone(ib)||v.isNone(eb))throw new Xb;Y=ib._getTransformation(eb,Y,ma,da,da?.spatialReference);return null!==
Y?A.fromGE(Y):null}function oa(Y,ma){try{const da=U(Y,ma);if(null==da)return null;"xmin"in Y&&"xmin"in da&&(da.zmin=Y.zmin,da.zmax=Y.zmax);const va=aa.getGeometryZScaler(da.type,Y.spatialReference,ma);v.isSome(va)&&va(da);return da}catch(da){if(!(da instanceof Xb))throw da;return null}}function ra(Y,ma,da){return da?!1:N.equals(Y,ma)?!0:N.isValid(Y)&&N.isValid(ma)&&!!ub(Y,ma,$b)}function xa(){xa=Z._asyncToGenerator(function*(Y,ma,da,va){if(I())return p.waitTick(va);if(Array.isArray(Y))for(const {source:Ia,
dest:Ja,geographicTransformation:Sa}of Y){if(!ra(Ia,Ja,Sa))return K(va)}else if(!ra(Y,ma,da))return K(va);return p.waitTick(va)});return xa.apply(this,arguments)}function ka(Y,ma,da){return Y?"x"in Y?V(Y,ma,new x,da,0):"xmin"in Y?W(Y,ma,new y,da,0):"rings"in Y?n(Y,ma,new L,da,0):"paths"in Y?F(Y,ma,new O,da,0):"points"in Y?R(Y,ma,new d,da,0):null:null}function V(Y,ma,da,va,Ia){Za[0]=Y.x;Za[1]=Y.y;const Ja=Y.z;Za[2]=void 0!==Ja?Ja:Ia;if(!Oa(Za,ma,0,Za,va,0,1))return null;da.x=Za[0];da.y=Za[1];da.spatialReference=
va;void 0===Ja?(da.z=void 0,da.hasZ=!1):(da.z=Za[2],da.hasZ=!0);void 0===Y.m?(da.m=void 0,da.hasM=!1):(da.m=Y.m,da.hasM=!0);return da}function R(Y,ma,da,va,Ia){const {points:Ja,hasZ:Sa,hasM:Wa}=Y;Y=[];const lb=Ja.length,kb=[];for(var jb of Ja)kb.push(jb[0],jb[1],Sa?jb[2]:Ia);if(!Oa(kb,ma,0,kb,va,0,lb))return null;for(ma=0;ma<lb;++ma){Ia=3*ma;jb=kb[Ia];const yb=kb[Ia+1];Sa&&Wa?Y.push([jb,yb,kb[Ia+2],Ja[ma][3]]):Sa?Y.push([jb,yb,kb[Ia+2]]):Wa?Y.push([jb,yb,Ja[ma][2]]):Y.push([jb,yb])}da.points=Y;da.spatialReference=
va;da.hasZ=Sa;da.hasM=Wa;return da}function F(Y,ma,da,va,Ia){const {paths:Ja,hasZ:Sa,hasM:Wa}=Y;Y=[];if(!bb(Ja,Sa??!1,Wa??!1,ma,Y,va,Ia))return null;da.paths=Y;da.spatialReference=va;da.hasZ=Sa;da.hasM=Wa;return da}function n(Y,ma,da,va,Ia){const {rings:Ja,hasZ:Sa,hasM:Wa}=Y;Y=[];if(!bb(Ja,Sa??!1,Wa??!1,ma,Y,va,Ia))return null;da.rings=Y;da.spatialReference=va;da.hasZ=Sa;da.hasM=Wa;return da}function W(Y,ma,da,va,Ia){const {xmin:Ja,ymin:Sa,xmax:Wa,ymax:lb,hasZ:kb,hasM:jb}=Y;if(!za(Ja,Sa,kb?Y.zmin:
Ia,ma,Za,va))return null;da.xmin=Za[0];da.ymin=Za[1];kb&&(da.zmin=Za[2]);if(!za(Wa,lb,kb?Y.zmax:Ia,ma,Za,va))return null;da.xmax=Za[0];da.ymax=Za[1];kb&&(da.zmax=Za[2]);jb&&(da.mmin=Y.mmin,da.mmax=Y.mmax);da.spatialReference=va;return da}function za(Y,ma,da,va,Ia,Ja){hb[0]=Y;hb[1]=ma;hb[2]=da;return Oa(hb,va,0,Ia,Ja,0,1)}function Ea(Y,ma,da,va){if(v.isNone(ma)||v.isNone(va)||2>Y.length)return!1;2===Y.length&&(hb[0]=Y[0],hb[1]=Y[1],hb[2]=0,Y=hb);return Oa(Y,ma,0,da,va,0,1)}function Qa(Y,ma,da){if(v.isNone(ma))return!1;
ma=u(ma,Kb);ma=zb[ma][ta.WGS84_COMPARABLE_LON_LAT];if(v.isNone(ma))return!1;ma(Y,0,hb,0);da!==hb&&(da[0]=hb[0],da[1]=hb[1],2<da.length&&(da[2]=hb[2]));return!0}function Oa(Y,ma,da,va,Ia,Ja,Sa=1){ma=ub(ma,Ia,$b);if(v.isNone(ma))return!1;if(ma===ia){if(Y===va&&da===Ja)return!0;Sa=da+3*Sa;for(let Wa=da,lb=Ja;Wa<Sa;Wa++,lb++)va[lb]=Y[Wa];return!0}Sa=da+3*Sa;for(let Wa=da,lb=Ja;Wa<Sa;Wa+=3,lb+=3)ma(Y,Wa,va,lb);return!0}function bb(Y,ma,da,va,Ia,Ja,Sa=0){const Wa=[];for(const lb of Y)for(const kb of lb)Wa.push(kb[0],
kb[1],ma?kb[2]:Sa);if(!Oa(Wa,va,0,Wa,Ja,0,Wa.length/3))return!1;va=0;Ia.length=0;for(const lb of Y){Y=[];for(const kb of lb)ma&&da?Y.push([Wa[va++],Wa[va++],Wa[va++],kb[3]]):ma?Y.push([Wa[va++],Wa[va++],Wa[va++]]):(da?Y.push([Wa[va++],Wa[va++],kb[2]]):Y.push([Wa[va++],Wa[va++]]),va++);Ia.push(Y)}return!0}function fb(Y,ma,da,va){ma=va+ma;if(ma<va/2||da>ma)return Number.MAX_VALUE;Y=Math.abs(Hb*Y)+Math.asin(da/ma);return Y>=Math.PI/2?Number.MAX_VALUE:da/Math.cos(Y)}function vb(Y,ma,da){const va=Math.sin(Y);
Y=Math.cos(Y);const Ia=Math.sin(ma);ma=Math.cos(ma);da[0]=-va;da[4]=-Ia*Y;da[8]=ma*Y;da[12]=0;da[1]=Y;da[5]=-Ia*va;da[9]=ma*va;da[13]=0;da[2]=0;da[6]=ma;da[10]=Ia;da[14]=0;da[3]=0;da[7]=0;da[11]=0;da[15]=1;return da}function h(Y,ma,da){vb(Y,ma,da);D.transpose(da,da);return da}function u(Y,ma){if(!Y)return ta.UNKNOWN;if(ma.spatialReference===Y)return ma.spatialReferenceId;ma.spatialReference=Y;"metersPerUnit"in ma&&(ma.metersPerUnit=f.getMetersPerUnitForSR(Y,1));return Y.wkt===r.SphericalECEFSpatialReferenceLike.wkt?
ma.spatialReferenceId=ta.SPHERICAL_ECEF:N.isWGS84(Y)?ma.spatialReferenceId=ta.WGS84:N.isWebMercator(Y)?ma.spatialReferenceId=ta.WEB_MERCATOR:N.isPlateCarree(Y)?ma.spatialReferenceId=ta.PLATE_CARREE:Y.wkt===r.WGS84ECEFSpatialReferenceLike.wkt?ma.spatialReferenceId=ta.WGS84_ECEF:Y.wkid===la.SupportedGCSWkids.CGCS2000?ma.spatialReferenceId=ta.CGCS2000:Y.wkt===r.SphericalPCPFMarsLike.wkt?ma.spatialReferenceId=ta.SPHERICAL_MARS_PCPF:Y.wkt===r.SphericalPCPFMoonLike.wkt?ma.spatialReferenceId=ta.SPHERICAL_MOON_PCPF:
N.isMars(Y)?ma.spatialReferenceId=ta.GCSMARS2000:N.isMoon(Y)?ma.spatialReferenceId=ta.GCSMOON2000:ma.spatialReferenceId=ta.UNKNOWN}function ia(Y,ma,da,va){Y!==da&&(da[va++]=Y[ma++],da[va++]=Y[ma++],da[va]=Y[ma])}function pa(Y,ma,da,va){da[va++]=Tb*(Y[ma++]/E.earth.radius);da[va++]=Tb*(Math.PI/2-2*Math.atan(Math.exp(-Y[ma++]/E.earth.radius)));da[va]=Y[ma]}function Ba(Y,ma,da,va){pa(Y,ma,da,va);ua(da,va,da,va)}function z(Y,ma,da,va){pa(Y,ma,da,va);Ka(da,va,da,va)}function S(Y,ma,da,va,Ia){var Ja=.4999999*
Math.PI;Ja=B.clamp(Hb*Y[ma+1],-Ja,Ja);Ja=Math.sin(Ja);da[va++]=Hb*Y[ma]*Ia.radius;da[va++]=Ia.halfSemiMajorAxis*Math.log((1+Ja)/(1-Ja));da[va]=Y[ma+2]}function ha(Y,ma,da,va){S(Y,ma,da,va,E.earth)}function ba(Y,ma,da,va){da[va]=Y[ma]*Yb;da[va+1]=Y[ma+1]*Yb;da[va+2]=Y[ma+2]}function na(Y,ma,da,va){da[va]=Y[ma]*Sb;da[va+1]=Y[ma+1]*Sb;da[va+2]=Y[ma+2]}function sa(Y,ma,da,va){pa(Y,ma,da,va);ba(da,va,da,va)}function wa(Y,ma,da,va,Ia){Ia+=Y[ma+2];const Ja=Hb*Y[ma+1];Y=Hb*Y[ma];ma=Math.cos(Ja);da[va++]=
Math.cos(Y)*ma*Ia;da[va++]=Math.sin(Y)*ma*Ia;da[va]=Math.sin(Ja)*Ia}function X(Y,ma,da,va){wa(Y,ma,da,va,E.moon.radius)}function fa(Y,ma,da,va){wa(Y,ma,da,va,E.mars.radius)}function ua(Y,ma,da,va){wa(Y,ma,da,va,E.earth.radius)}function Ca(Y,ma,da,va,Ia){var Ja=Y[ma];const Sa=Y[ma+1];ma=Y[ma+2];Y=Math.sqrt(Ja*Ja+Sa*Sa+ma*ma);ma=B.asinClamped(ma/(0===Y?1:Y));Ja=Math.atan2(Sa,Ja);da[va++]=Tb*Ja;da[va++]=Tb*ma;da[va]=Y-Ia}function Ha(Y,ma,da,va){Ca(Y,ma,da,va,E.moon.radius)}function Pa(Y,ma,da,va){Ca(Y,
ma,da,va,E.mars.radius)}function Ma(Y,ma,da,va){Ca(Y,ma,da,va,E.earth.radius)}function Ta(Y,ma,da,va){Ma(Y,ma,da,va);ha(da,va,da,va)}function Ua(Y,ma,da,va){Ma(Y,ma,da,va);Ka(da,va,da,va)}function Ka(Y,ma,da,va){var Ia=E.earth;const Ja=Hb*Y[ma];var Sa=Hb*Y[ma+1];Y=Y[ma+2];ma=Math.sin(Sa);Sa=Math.cos(Sa);const Wa=Ia.radius/Math.sqrt(1-Ia.eccentricitySquared*ma*ma);da[va++]=(Wa+Y)*Sa*Math.cos(Ja);da[va++]=(Wa+Y)*Sa*Math.sin(Ja);da[va++]=(Wa*(1-Ia.eccentricitySquared)+Y)*ma}function Va(Y,ma,da,va){var Ia=
t.earthEllipsoidConstants,Ja=Y[ma],Sa=Y[ma+1];Y=Y[ma+2];let Wa;ma=Math.abs(Y);var lb=Ja*Ja+Sa*Sa;var kb=Math.sqrt(lb);var jb=lb+Y*Y;var yb=Math.sqrt(jb);Ja=Math.atan2(Sa,Ja);var Ib=Y*Y/jb;jb=lb/jb;Sa=Ia.a2/yb;lb=Ia.a3-Ia.a4/yb;.3<jb?(Ib=ma/yb*(1+jb*(Ia.a1+Sa+Ib*lb)/yb),yb=Math.asin(Ib),Sa=Ib*Ib,jb=Math.sqrt(1-Sa)):(jb=kb/yb*(1-Ib*(Ia.a5-Sa-jb*lb)/yb),yb=Math.acos(jb),Sa=1-jb*jb,Ib=Math.sqrt(Sa));Wa=1-E.earth.eccentricitySquared*Sa;Sa=E.earth.radius/Math.sqrt(Wa);Ia=Ia.a6*Sa;Sa=kb-Sa*jb;lb=ma-Ia*Ib;
ma=jb*Sa+Ib*lb;kb=jb*lb-Ib*Sa;Ia=kb/(Ia/Wa+ma);yb+=Ia;0>Y&&(yb=-yb);da[va++]=Tb*Ja;da[va++]=Tb*yb;da[va]=ma+kb*Ia/2}function Da(Y,ma,da,va){Va(Y,ma,da,va);ua(da,va,da,va)}function tb(Y,ma,da,va){Va(Y,ma,da,va);ha(da,va,da,va)}function ub(Y,ma,da=c()){return v.isNone(Y)||v.isNone(ma)?null:pb(Y,ma,da).projector}function pb(Y,ma,da){if(v.isNone(Y)||v.isNone(ma)||da.source.spatialReference===Y&&da.dest.spatialReference===ma)return da;const va=u(Y,da.source),Ia=u(ma,da.dest);va===ta.UNKNOWN&&Ia===ta.UNKNOWN?
N.equals(Y,ma)?da.projector=ia:da.projector=null:da.projector=zb[va][Ia];return da}function c(){return{source:{spatialReference:null,spatialReferenceId:ta.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:ta.UNKNOWN,metersPerUnit:1},projector:ia}}let ib=null,eb=null,Gb=null,Pb={};const mb=new k.SimpleObservable;let Xb=function(Y){function ma(){return Y.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}Z._inheritsLoose(ma,Y);
return ma}(C);var ta;(function(Y){Y[Y.UNKNOWN=0]="UNKNOWN";Y[Y.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";Y[Y.WGS84=2]="WGS84";Y[Y.WEB_MERCATOR=3]="WEB_MERCATOR";Y[Y.WGS84_ECEF=4]="WGS84_ECEF";Y[Y.CGCS2000=5]="CGCS2000";Y[Y.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";Y[Y.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";Y[Y.GCSMARS2000=8]="GCSMARS2000";Y[Y.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";Y[Y.GCSMOON2000=10]="GCSMOON2000";Y[Y.LON_LAT=11]="LON_LAT";Y[Y.PLATE_CARREE=12]="PLATE_CARREE"})(ta||
(ta={}));const Yb=E.earth.radius*Math.PI/180,Sb=180/(E.earth.radius*Math.PI),zb={[ta.WGS84]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:ia,[ta.WGS84_COMPARABLE_LON_LAT]:ia,[ta.SPHERICAL_ECEF]:ua,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:ha,[ta.PLATE_CARREE]:ba,[ta.WGS84]:ia,[ta.WGS84_ECEF]:Ka},[ta.CGCS2000]:{[ta.CGCS2000]:ia,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:ia,[ta.WGS84_COMPARABLE_LON_LAT]:ia,
[ta.SPHERICAL_ECEF]:ua,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:ba,[ta.WGS84]:null,[ta.WGS84_ECEF]:Ka},[ta.GCSMARS2000]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:ia,[ta.GCSMOON2000]:null,[ta.LON_LAT]:ia,[ta.WGS84_COMPARABLE_LON_LAT]:null,[ta.SPHERICAL_ECEF]:null,[ta.SPHERICAL_MARS_PCPF]:fa,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:null,[ta.WGS84]:null,[ta.WGS84_ECEF]:null},[ta.GCSMOON2000]:{[ta.CGCS2000]:null,
[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:ia,[ta.LON_LAT]:ia,[ta.WGS84_COMPARABLE_LON_LAT]:null,[ta.SPHERICAL_ECEF]:null,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:X,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:null,[ta.WGS84]:null,[ta.WGS84_ECEF]:null},[ta.WEB_MERCATOR]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:pa,[ta.WGS84_COMPARABLE_LON_LAT]:pa,[ta.SPHERICAL_ECEF]:Ba,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,
[ta.WEB_MERCATOR]:ia,[ta.PLATE_CARREE]:sa,[ta.WGS84]:pa,[ta.WGS84_ECEF]:z},[ta.WGS84_ECEF]:{[ta.CGCS2000]:Va,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:Va,[ta.WGS84_COMPARABLE_LON_LAT]:Va,[ta.SPHERICAL_ECEF]:Da,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:tb,[ta.PLATE_CARREE]:function(Y,ma,da,va){Va(Y,ma,da,va);ba(da,va,da,va)},[ta.WGS84]:Va,[ta.WGS84_ECEF]:ia},[ta.SPHERICAL_ECEF]:{[ta.CGCS2000]:Ma,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,
[ta.LON_LAT]:Ma,[ta.WGS84_COMPARABLE_LON_LAT]:Ma,[ta.SPHERICAL_ECEF]:ia,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:Ta,[ta.PLATE_CARREE]:function(Y,ma,da,va){Ma(Y,ma,da,va);ba(da,va,da,va)},[ta.WGS84]:Ma,[ta.WGS84_ECEF]:Ua},[ta.SPHERICAL_MARS_PCPF]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:Pa,[ta.GCSMOON2000]:null,[ta.LON_LAT]:Pa,[ta.WGS84_COMPARABLE_LON_LAT]:null,[ta.SPHERICAL_ECEF]:null,[ta.SPHERICAL_MARS_PCPF]:ia,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,
[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:null,[ta.WGS84]:null,[ta.WGS84_ECEF]:null},[ta.SPHERICAL_MOON_PCPF]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:Ha,[ta.LON_LAT]:Ha,[ta.WGS84_COMPARABLE_LON_LAT]:null,[ta.SPHERICAL_ECEF]:null,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:ia,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:null,[ta.WGS84]:null,[ta.WGS84_ECEF]:null},[ta.UNKNOWN]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:null,
[ta.WGS84_COMPARABLE_LON_LAT]:null,[ta.SPHERICAL_ECEF]:null,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:ia,[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:null,[ta.WGS84]:null,[ta.WGS84_ECEF]:null},[ta.LON_LAT]:{[ta.CGCS2000]:ia,[ta.GCSMARS2000]:ia,[ta.GCSMOON2000]:ia,[ta.LON_LAT]:ia,[ta.WGS84_COMPARABLE_LON_LAT]:ia,[ta.SPHERICAL_ECEF]:ua,[ta.SPHERICAL_MARS_PCPF]:fa,[ta.SPHERICAL_MOON_PCPF]:X,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:ha,[ta.PLATE_CARREE]:ba,[ta.WGS84]:ia,[ta.WGS84_ECEF]:Ka},
[ta.WGS84_COMPARABLE_LON_LAT]:{[ta.CGCS2000]:null,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:ia,[ta.WGS84_COMPARABLE_LON_LAT]:ia,[ta.SPHERICAL_ECEF]:ua,[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:null,[ta.PLATE_CARREE]:ba,[ta.WGS84]:ia,[ta.WGS84_ECEF]:Ka},[ta.PLATE_CARREE]:{[ta.CGCS2000]:na,[ta.GCSMARS2000]:null,[ta.GCSMOON2000]:null,[ta.LON_LAT]:na,[ta.WGS84_COMPARABLE_LON_LAT]:na,[ta.SPHERICAL_ECEF]:function(Y,ma,da,va){na(Y,ma,da,
va);ua(da,va,da,va)},[ta.SPHERICAL_MARS_PCPF]:null,[ta.SPHERICAL_MOON_PCPF]:null,[ta.UNKNOWN]:null,[ta.WEB_MERCATOR]:function(Y,ma,da,va){na(Y,ma,da,va);ha(da,va,da,va)},[ta.PLATE_CARREE]:ia,[ta.WGS84]:na,[ta.WGS84_ECEF]:function(Y,ma,da,va){na(Y,ma,da,va);Ka(da,va,da,va)}}},Kb={spatialReference:null,spatialReferenceId:ta.UNKNOWN},Zb={spatialReference:null,spatialReferenceId:ta.UNKNOWN},$b=c(),kc=c(),Hb=B.deg2rad(1),Tb=B.rad2deg(1),hb=G.create(),Ab=G.create(),Bb=G.create(),Za=G.create(),ic=G.create();
e.canProjectToWGS84ComparableLonLat=function(Y){if(v.isNone(Y))return!1;Y=u(Y,Kb);return!!zb[Y][ta.WGS84_COMPARABLE_LON_LAT]};e.canProjectWithoutEngine=ra;e.computeENUToSphericalPCPFLocalRotation=vb;e.computeSphericalPCPFToENULocalRotation=h;e.computeTranslationToOriginAndRotation=function(Y,ma,da,va){if(v.isNone(Y)||v.isNone(va))return!1;var Ia=u(Y,Kb),Ja=u(va,Zb);if(Ia===Ja&&Ja!==ta.SPHERICAL_ECEF&&Ja!==ta.SPHERICAL_MARS_PCPF&&Ja!==ta.SPHERICAL_MOON_PCPF&&(Ia!==ta.UNKNOWN||N.equals(Y,va)))return D.fromTranslation(da,
ma),!0;if(Ja===ta.SPHERICAL_ECEF||Ja===ta.SPHERICAL_MARS_PCPF||Ja===ta.SPHERICAL_MOON_PCPF){Ia=zb[Ia][ta.LON_LAT];Ja=zb[ta.LON_LAT][Ja];if(v.isNone(Ia)||v.isNone(Ja))return!1;Ia(ma,0,Ab,0);Ja(Ab,0,Bb,0);vb(Hb*Ab[0],Hb*Ab[1],da);da[12]=Bb[0];da[13]=Bb[1];da[14]=Bb[2];return!0}if((Ja===ta.WEB_MERCATOR||Ja===ta.PLATE_CARREE)&&(Ia===ta.WGS84||Ia===ta.CGCS2000&&Ja===ta.PLATE_CARREE||Ia===ta.SPHERICAL_ECEF||Ia===ta.WEB_MERCATOR)){Y=zb[Ia][ta.LON_LAT];Ja=zb[ta.LON_LAT][Ja];if(v.isNone(Y)||v.isNone(Ja))return!1;
Y(ma,0,Ab,0);Ja(Ab,0,Bb,0);Ia===ta.SPHERICAL_ECEF?h(Hb*Ab[0],Hb*Ab[1],da):D.identity(da);da[12]=Bb[0];da[13]=Bb[1];da[14]=Bb[2];return!0}return!1};e.getProjectorName=function(Y,ma){switch(ub(Y,ma,$b)){case ia:return"copy3";case ua:return"wgs84ToSphericalECEF";case ha:return"wgs84ToWebMercator";case ba:return"wgs84ToPlateCarree";case Ka:return"wgs84ToWGS84ECEF";case pa:return"webMercatorToWGS84";case Ba:return"webMercatorToSphericalECEF";case z:return"webMercatorToWGS84ECEF";case sa:return"webMercatorToPlateCarree";
case Va:return"wgs84ECEFToWGS84";case Da:return"wgs84ECEFToSphericalECEF";case tb:return"wgs84ECEFToWebMercator";case Ma:return"sphericalECEFToWGS84";case Ta:return"sphericalECEFToWebMercator";case Pa:return"sphericalMarsPCPFToMars2000";case Ha:return"sphericalMoonPCPFToMoon2000";case Ua:return"sphericalECEFToWGS84ECEF";case fa:return"mars2000ToSphericalPCPF";case X:return"moon2000ToSphericalPCPF";default:return null}};e.getTransformation=J;e.getTransformations=function(Y,ma,da=null){if(v.isNone(ib)||
v.isNone(eb))throw new Xb;Y=ib._getTransformationBySuitability(eb,Y,ma,da,da?.spatialReference);if(null!==Y){ma=[];for(const va of Y)ma.push(A.fromGE(va));return ma}return[]};e.initializeProjection=function(Y,ma,da,va){return xa.apply(this,arguments)};e.isLoaded=I;e.load=K;e.localLinearScaleFactors=function(Y,ma,da,va){if(v.isNone(ma)||v.isNone(va))return!1;const Ia=u(ma,Kb);var Ja=u(va,Zb);if(Ia===Ja&&Ia!==ta.UNKNOWN||N.equals(ma,va))return da[0]=1,da[1]=1,da[2]=1,!0;if(Ia===ta.SPHERICAL_ECEF){ma=
M.length(Y);Y=ma/Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]);ma/=E.earth.radius;if(Ja===ta.WEB_MERCATOR)return da[0]=Y*ma,da[1]=Y*ma,da[2]=1,!0;if(Ja===ta.WGS84||Ja===ta.CGCS2000)return Ja=Sb,da[0]=Ja*Y*ma,da[1]=Ja*ma,da[2]=1,!0}else if(Ia===ta.PLATE_CARREE){if(Ja===ta.WGS84||Ja===ta.CGCS2000)return da[0]=Sb,da[1]=Sb,da[2]=1,!0;if(Ja===ta.WEB_MERCATOR)return Ja=Y[1]/E.earth.radius,da[0]=1,da[1]=1/Math.cos(Ja),da[2]=1,!0}return!1};e.lonLatToSphericalPCPF=function(Y,ma,da,va){const Ia=Math.cos(da);Y[0]=Math.cos(ma)*
Ia*va;Y[1]=Math.sin(ma)*Ia*va;Y[2]=Math.sin(da)*va};e.lonLatToWebMercatorComparable=S;e.project=U;e.projectBoundingRect=function(Y,ma,da,va){if(null==Y)return!1;if(N.equals(ma,va))return P.copy(da,Y),!0;hb[0]=Y[0];hb[1]=Y[1];hb[2]=0;if(!Oa(hb,ma,0,hb,va,0,1))return!1;da[0]=hb[0];da[1]=hb[1];hb[0]=Y[2];hb[1]=Y[3];hb[2]=0;if(!Oa(hb,ma,0,hb,va,0,1))return!1;da[2]=hb[0];da[3]=hb[1];return!0};e.projectBoundingSphere=function(Y,ma,da,va){if(v.isNone(ma)||v.isNone(va))return!1;ma=pb(ma,va,kc);if(ma.projector===
ia)return da[0]=Y[0],da[1]=Y[1],da[2]=Y[2],da[3]=Y[3],!0;if(v.isNone(ma.projector))return!1;const {source:Ia,dest:Ja}=ma;if(Ja.spatialReferenceId===ta.WEB_MERCATOR){ma=zb[Ia.spatialReferenceId][ta.WGS84];if(v.isNone(ma))return!1;ma(Y,0,Ab,0);ha(Ab,0,da,0);da[3]=fb(Ab[1],Y[2],Y[3],E.earth.radius);return!0}if(Ia.spatialReferenceId!==ta.WGS84&&Ia.spatialReferenceId!==ta.CGCS2000||Ja.spatialReferenceId!==ta.PLATE_CARREE)ma.projector(Y,0,da,0),da[3]=Y[3]*(Ia.metersPerUnit??1)/(Ja.metersPerUnit??1);else{va=
zb[ta.SPHERICAL_ECEF][ta.PLATE_CARREE];let Sa=Y[3];v.isSome(zb[Ia.spatialReferenceId][ta.SPHERICAL_ECEF])&&v.isSome(va)&&(Sa=fb(Y[1],Y[2],Y[3],E.earth.radius));ma.projector(Y,0,da,0);da[3]=Sa}return!0};e.projectBuffer=Oa;e.projectDirection=function(Y,ma,da,va,Ia){M.copy(Za,Y);M.add(ic,Y,ma);Ea(Za,da,Za,Ia);Ea(ic,da,ic,Ia);M.subtract(va,ic,Za);M.normalize(va,va)};e.projectExtent=function(Y,ma,da=ma.spatialReference,va=0){return v.isSome(Y.spatialReference)&&v.isSome(da)&&v.isSome(W(Y,Y.spatialReference,
ma,da,va))};e.projectMany=T;e.projectMultipoint=function(Y,ma,da=ma.spatialReference,va=0){return v.isSome(Y.spatialReference)&&v.isSome(da)&&v.isSome(R(Y,Y.spatialReference,ma,da,va))};e.projectOrLoad=function(Y,ma){Y=ca([Y],ma);return v.isSome(Y.pending)?{pending:Y.pending,geometry:null}:v.isSome(Y.geometries)?{pending:null,geometry:Y.geometries[0]}:{pending:null,geometry:null}};e.projectOrLoadMany=ca;e.projectPoint=function(Y,ma,da=ma.spatialReference,va=0){return v.isSome(da)&&v.isSome(Y.spatialReference)&&
v.isSome(V(Y,Y.spatialReference,ma,da,va))};e.projectPointToVector=function(Y,ma,da,va=0){Za[0]=Y.x;Za[1]=Y.y;const Ia=Y.z;Za[2]=void 0!==Ia?Ia:va;return Oa(Za,Y.spatialReference,0,ma,da,0,1)};e.projectPointToWGS84ComparableLonLat=function(Y,ma){Za[0]=Y.x;Za[1]=Y.y;const da=Y.z;Za[2]=void 0!==da?da:0;return Qa(Za,Y.spatialReference,ma)};e.projectPolygon=function(Y,ma,da=ma.spatialReference,va=0){return v.isSome(Y.spatialReference)&&v.isSome(da)&&v.isSome(n(Y,Y.spatialReference,ma,da,va))};e.projectPolygonToWGS84ComparableLonLat=
function({hasZ:Y,spatialReference:ma,rings:da},va,Ia=0){ma=u(ma,Kb);ma=zb[ma][ta.WGS84_COMPARABLE_LON_LAT];if(v.isNone(ma))return!1;Y=Y?Ja=>Ja:Ja=>M.set(Za,Ja[0],Ja[1],Ia);for(const Ja of da){da=[];for(const Sa of Ja){const Wa=[0,0,Ia];ma(Y(Sa),0,Wa,0);da.push(Wa)}va.push(da)}return!0};e.projectPolyline=function(Y,ma,da=ma.spatialReference,va=0){return v.isSome(Y.spatialReference)&&v.isSome(da)&&v.isSome(F(Y,Y.spatialReference,ma,da,va))};e.projectPolylineToWGS84ComparableLonLat=function({hasZ:Y,
spatialReference:ma,paths:da},va,Ia=0){ma=u(ma,Kb);ma=zb[ma][ta.WGS84_COMPARABLE_LON_LAT];if(v.isNone(ma))return!1;Y=Y?Ja=>Ja:Ja=>M.set(Za,Ja[0],Ja[1],Ia);for(const Ja of da){da=[];for(const Sa of Ja){const Wa=[0,0,Ia];ma(Y(Sa),0,Wa,0);da.push(Wa)}va.push(da)}return!0};e.projectVectorToDehydratedPoint=function(Y,ma,da){return Oa(Y,ma,0,Za,da.spatialReference,0,1)?(da.x=Za[0],da.y=Za[1],da.z=Za[2],da):null};e.projectVectorToPoint=function(Y,ma,da){if(v.isNone(ma)||v.isNone(da))return null;const va=
new x({spatialReference:da});return Oa(Y,ma,0,Za,da,0,1)?(va.x=Za[0],va.y=Za[1],va.z=Za[2],va):null};e.projectVectorToVector=Ea;e.projectVectorToWGS84ComparableLonLat=function(Y,ma,da){return Qa(Y,ma,da)};e.projectWithoutEngine=ka;e.projectXYZToVector=za;e.sphericalPCPFtoLonLatElevation=Ca;e.test={get loadPromise(){return Gb}};e.tryProjectWithZConversion=oa;e.unload=function(){Gb=eb=ib=null;Pb={}};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports",
"../../../chunks/_rollupPluginBabelHelpers","../ObservableBase"],function(b,e,Z){Z=function(C){function B(){return C.apply(this,arguments)||this}e._inheritsLoose(B,C);B.prototype.notify=function(){var v=this._observers;if(v&&0<v.length){v=v.slice();for(const p of v)p.onInvalidated(),p.onCommitted()}};return B}(Z.ObservableBase);b.SimpleObservable=Z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers",
"../assets","../core/has"],function(b,e,Z,C,B){function v(){return!!e._pe}function p(){return!!B("esri-wasm")}function f(){return r?r:r=(new Promise((d,q)=>b(["./pe-wasm"],d,q))).then(d=>d.peWasm).then(({default:d})=>d({locateFile:q=>C.getAssetUrl(`esri/geometry/support/${q}`)})).then(d=>{g(d)})}function g(d){function q(O,P,E){O[P]=E(O[P])}e._pe=d;e.PeDefs.init();e.PeGTlistExtended.init();e.PeNotationMgrs.init();e.PeNotationUtm.init();e.PePCSInfo.init();e.PeGCSExtent=function(O){function P(){return O.apply(this,
arguments)||this}Z._inheritsLoose(P,O);P.prototype.destroy=function(){e._pe.destroy(this)};return P}(e._pe.PeGCSExtent);d=[e._pe.PeDatum,e._pe.PeGeogcs,e._pe.PeGeogtran,e._pe.PeObject,e._pe.PeParameter,e._pe.PePrimem,e._pe.PeProjcs,e._pe.PeSpheroid,e._pe.PeUnit];for(var x of d)q(x.prototype,"getName",O=>function(){return O.call(this,Array(e.PeDefs.PE_NAME_MAX))});for(const O of[e._pe.PeGeogtran,e._pe.PeProjcs])q(O.prototype,"getParameters",P=>function(){const E=Array(e.PeDefs.PE_PARM_MAX);let t=P.call(this);
for(let A=0;A<E.length;A++){const N=e._pe.getValue(t,"*");E[A]=N?e._pe.wrapPointer(N,e._pe.PeParameter):null;t+=Int32Array.BYTES_PER_ELEMENT}return E});q(e._pe.PeHorizon.prototype,"getCoord",O=>function(){const P=this.getSize();if(!P)return null;const E=[],t=O.call(this);G(E,P,t);return E});q(e._pe.PeGTlistExtendedEntry.prototype,"getEntries",O=>{const P=e._pe._pe_getPeGTlistExtendedGTsSize();return function(){let E=null;var t=O.call(this);if(!e._pe.compare(t,e._pe.NULL)){E=[t];const A=this.getSteps();
if(1<A){t=e._pe.getPointer(t);for(let N=1;N<A;N++)E.push(e._pe.wrapPointer(t+P*N,e._pe.PeGTlistExtendedGTs))}}return E}});const L=e._pe._pe_getPeHorizonSize();x=O=>function(){let P=this._cache;P||(this._cache=P=new Map);if(P.has(O))return P.get(O);let E=null;var t=O.call(this);if(!e._pe.compare(t,e._pe.NULL)){E=[t];const A=t.getNump();if(1<A){t=e._pe.getPointer(t);for(let N=1;N<A;N++)E.push(e._pe.wrapPointer(t+L*N,e._pe.PeHorizon))}}P.set(O,E);return E};q(e._pe.PeProjcs.prototype,"horizonGcsGenerate",
x);q(e._pe.PeProjcs.prototype,"horizonPcsGenerate",x);e._pe.PeObject.prototype.toString=function(O=e.PeDefs.PE_STR_OPTS_NONE){e._pe.ensureCache.prepare();const P=e._pe.getPointer(this),E=e._pe.ensureInt8(Array(e.PeDefs.PE_BUFFER_MAX));return e._pe.UTF8ToString(e._pe._pe_object_to_string_ext(P,O,E))}}function k(d){if(d){var q=e._pe.getClass(d);q&&(q=e._pe.getCache(q))&&(d=e._pe.getPointer(d))&&delete q[d]}}function D(d,q){const x=[];q=Array(q);for(let L=0;L<d;L++)x.push(e._pe.ensureInt8(q));return x}
function M(d){let q;Array.isArray(d[0])?(q=[],d.forEach(x=>{q.push(x[0],x[1])})):q=d;return q}function G(d,q,x,L=!1){if(L)for(L=0;L<2*q;L++)d[L]=e._pe.getValue(x+L*Float64Array.BYTES_PER_ELEMENT,"double");else{L=0===d.length;for(let O=0;O<q;O++)L&&(d[O]=Array(2)),d[O][0]=e._pe.getValue(x,"double"),d[O][1]=e._pe.getValue(x+Float64Array.BYTES_PER_ELEMENT,"double"),x+=2*Float64Array.BYTES_PER_ELEMENT}}let r;e._pe=null;e.PeCSTransformations=void 0;(function(d){function q(O,P,E){e._pe.ensureCache.prepare();
var t=M(E);const A=E===t;t=e._pe.ensureFloat64(t);(O=e._pe._pe_geog_to_proj(e._pe.getPointer(O),P,t))&&G(E,P,t,A);return O}function x(O,P,E){return L(O,P,E,0)}function L(O,P,E,t){e._pe.ensureCache.prepare();var A=M(E);const N=E===A;A=e._pe.ensureFloat64(A);(O=e._pe._pe_proj_to_geog_center(e._pe.getPointer(O),P,A,t))&&G(E,P,A,N);return O}d.geogToProj=q;d.projGeog=function(O,P,E,t){switch(t){case e.PeDefs.PE_TRANSFORM_P_TO_G:return x(O,P,E);case e.PeDefs.PE_TRANSFORM_G_TO_P:return q(O,P,E)}return 0};
d.projToGeog=x;d.projToGeogCenter=L})(e.PeCSTransformations||(e.PeCSTransformations={}));e.PeDefs=void 0;(function(d){d.init=function(){d.PE_BUFFER_MAX=e._pe.PeDefs.prototype.PE_BUFFER_MAX;d.PE_NAME_MAX=e._pe.PeDefs.prototype.PE_NAME_MAX;d.PE_MGRS_MAX=e._pe.PeDefs.prototype.PE_MGRS_MAX;d.PE_USNG_MAX=e._pe.PeDefs.prototype.PE_USNG_MAX;d.PE_DD_MAX=e._pe.PeDefs.prototype.PE_DD_MAX;d.PE_DDM_MAX=e._pe.PeDefs.prototype.PE_DDM_MAX;d.PE_DMS_MAX=e._pe.PeDefs.prototype.PE_DMS_MAX;d.PE_UTM_MAX=e._pe.PeDefs.prototype.PE_UTM_MAX;
d.PE_PARM_MAX=e._pe.PeDefs.prototype.PE_PARM_MAX;d.PE_TYPE_NONE=e._pe.PeDefs.prototype.PE_TYPE_NONE;d.PE_TYPE_GEOGCS=e._pe.PeDefs.prototype.PE_TYPE_GEOGCS;d.PE_TYPE_PROJCS=e._pe.PeDefs.prototype.PE_TYPE_PROJCS;d.PE_TYPE_GEOGTRAN=e._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;d.PE_TYPE_COORDSYS=e._pe.PeDefs.prototype.PE_TYPE_COORDSYS;d.PE_TYPE_UNIT=e._pe.PeDefs.prototype.PE_TYPE_UNIT;d.PE_TYPE_LINUNIT=e._pe.PeDefs.prototype.PE_TYPE_LINUNIT;d.PE_STR_OPTS_NONE=e._pe.PeDefs.prototype.PE_STR_OPTS_NONE;d.PE_STR_AUTH_NONE=
e._pe.PeDefs.prototype.PE_STR_AUTH_NONE;d.PE_STR_AUTH_TOP=e._pe.PeDefs.prototype.PE_STR_AUTH_TOP;d.PE_STR_NAME_CANON=e._pe.PeDefs.prototype.PE_STR_NAME_CANON;d.PE_PARM_X0=e._pe.PeDefs.prototype.PE_PARM_X0;d.PE_PARM_ND=e._pe.PeDefs.prototype.PE_PARM_ND;d.PE_TRANSFORM_1_TO_2=e._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;d.PE_TRANSFORM_2_TO_1=e._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;d.PE_TRANSFORM_P_TO_G=e._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;d.PE_TRANSFORM_G_TO_P=e._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;
d.PE_HORIZON_RECT=e._pe.PeDefs.prototype.PE_HORIZON_RECT;d.PE_HORIZON_POLY=e._pe.PeDefs.prototype.PE_HORIZON_POLY;d.PE_HORIZON_LINE=e._pe.PeDefs.prototype.PE_HORIZON_LINE;d.PE_HORIZON_DELTA=e._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(e.PeDefs||(e.PeDefs={}));e.PeFactory=void 0;(function(d){function q(P,E){let t=null,A=x[P];A||(A={},x[P]=A);A.hasOwnProperty(String(E))?t=A[E]:(P=e._pe.PeFactory.prototype.factoryByType(P,E),e._pe.compare(P,e._pe.NULL)||(t=P,A[E]=t));return t=O(t)}const x={},L={},O=P=>
{if(P){const E=P.getType();switch(E){case e.PeDefs.PE_TYPE_GEOGCS:P=e._pe.castObject(P,e._pe.PeGeogcs);break;case e.PeDefs.PE_TYPE_PROJCS:P=e._pe.castObject(P,e._pe.PeProjcs);break;case e.PeDefs.PE_TYPE_GEOGTRAN:P=e._pe.castObject(P,e._pe.PeGeogtran);break;default:E&e.PeDefs.PE_TYPE_UNIT&&(P=e._pe.castObject(P,e._pe.PeUnit))}}return P};d.initialize=function(){e._pe.PeFactory.prototype.initialize(null)};d.coordsys=function(P){return q(e.PeDefs.PE_TYPE_COORDSYS,P)};d.factoryByType=q;d.fromString=function(P,
E){let t=null,A=L[P];A||(A={},L[P]=A);A.hasOwnProperty(E)?t=A[E]:(P=e._pe.PeFactory.prototype.fromString(P,E),e._pe.compare(P,e._pe.NULL)||(t=P,A[E]=t));return t=O(t)};d.geogcs=function(P){return q(e.PeDefs.PE_TYPE_GEOGCS,P)};d.geogtran=function(P){return q(e.PeDefs.PE_TYPE_GEOGTRAN,P)};d.getCode=function(P){return e._pe.PeFactory.prototype.getCode(P)};d.projcs=function(P){return q(e.PeDefs.PE_TYPE_PROJCS,P)};d.unit=function(P){return q(e.PeDefs.PE_TYPE_UNIT,P)}})(e.PeFactory||(e.PeFactory={}));e.PeGCSExtent=
null;e.PeGTlistExtended=void 0;(function(d){let q;d.init=function(){d.PE_GTLIST_OPTS_COMMON=e._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;q=e._pe._pe_getPeGTlistExtendedEntrySize()};d.getGTlist=function(x,L,O,P,E,t){let A=null;const N=new e._pe.PeInteger(t);try{const la=e._pe.PeGTlistExtended.prototype.getGTlist(x,L,O,P,E,N);if(t=N.val)if(A=[la],1<t){const aa=e._pe.getPointer(la);for(x=1;x<t;x++)A.push(e._pe.wrapPointer(aa+q*x,e._pe.PeGTlistExtendedEntry))}}finally{e._pe.destroy(N)}return A}})(e.PeGTlistExtended||
(e.PeGTlistExtended={}));e.PeGTlistExtendedEntry=void 0;(function(d){d.destroy=function(q){if(q&&q.length){for(const x of q)k(x),x.getEntries().forEach(L=>{k(L);L=L.getGeogtran();k(L);L.getParameters().forEach(k);[L.getGeogcs1(),L.getGeogcs2()].forEach(O=>{k(O);const P=O.getDatum();k(P);k(P.getSpheroid());k(O.getPrimem());k(O.getUnit())})});e._pe.PeGTlistExtendedEntry.prototype.Delete(q[0])}}})(e.PeGTlistExtendedEntry||(e.PeGTlistExtendedEntry={}));e.PeGTTransformations=void 0;(function(d){d.geogToGeog=
function(q,x,L,O,P){e._pe.ensureCache.prepare();var E=M(L);const t=L===E;E=e._pe.ensureFloat64(E);let A=0;O&&(A=e._pe.ensureFloat64(O));(q=e._pe._pe_geog_to_geog(e._pe.getPointer(q),x,E,A,P))&&G(L,x,E,t);return q}})(e.PeGTTransformations||(e.PeGTTransformations={}));e.PeNotationDms=void 0;(function(d){const q=(L,O,P,E,t,A)=>{e._pe.ensureCache.prepare();switch(L){case "dd":var N=e._pe._pe_geog_to_dd;var la=e.PeDefs.PE_DD_MAX;break;case "ddm":N=e._pe._pe_geog_to_ddm;la=e.PeDefs.PE_DDM_MAX;break;case "dms":N=
e._pe._pe_geog_to_dms,la=e.PeDefs.PE_DMS_MAX}L=0;O&&(L=e._pe.getPointer(O));O=M(E);O=e._pe.ensureFloat64(O);la=D(P,la);E=e._pe.ensureInt32(la);if(t=N(L,P,O,t,E))for(N=0;N<P;N++)A[N]=e._pe.UTF8ToString(la[N]);return t},x=(L,O,P,E,t)=>{e._pe.ensureCache.prepare();switch(L){case "dd":var A=e._pe._pe_dd_to_geog;break;case "ddm":A=e._pe._pe_ddm_to_geog;break;case "dms":A=e._pe._pe_dms_to_geog}L=0;O&&(L=e._pe.getPointer(O));O=E.map(N=>e._pe.ensureString(N));E=e._pe.ensureInt32(O);O=e._pe.ensureFloat64(Array(2*
P));(A=A(L,P,E,O))&&G(t,P,O);return A};d.geogToDms=function(L,O,P,E,t){return q("dms",L,O,P,E,t)};d.dmsToGeog=function(L,O,P,E){return x("dms",L,O,P,E)};d.geogToDdm=function(L,O,P,E,t){return q("ddm",L,O,P,E,t)};d.ddmToGeog=function(L,O,P,E){return x("ddm",L,O,P,E)};d.geogToDd=function(L,O,P,E,t){return q("dd",L,O,P,E,t)};d.ddToGeog=function(L,O,P,E){return x("dd",L,O,P,E)}})(e.PeNotationDms||(e.PeNotationDms={}));e.PeNotationMgrs=void 0;(function(d){d.init=function(){d.PE_MGRS_STYLE_NEW=e._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;
d.PE_MGRS_STYLE_OLD=e._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;d.PE_MGRS_STYLE_AUTO=e._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;d.PE_MGRS_180_ZONE_1_PLUS=e._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;d.PE_MGRS_ADD_SPACES=e._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};d.geogToMgrsExtended=function(q,x,L,O,P,E,t){e._pe.ensureCache.prepare();let A=0;q&&(A=e._pe.getPointer(q));q=M(L);L=e._pe.ensureFloat64(q);q=D(x,e.PeDefs.PE_MGRS_MAX);const N=e._pe.ensureInt32(q);if(O=e._pe._pe_geog_to_mgrs_extended(A,
x,L,O,P,E,N))for(P=0;P<x;P++)t[P]=e._pe.UTF8ToString(q[P]);return O};d.mgrsToGeogExtended=function(q,x,L,O,P){e._pe.ensureCache.prepare();let E=0;q&&(E=e._pe.getPointer(q));q=L.map(t=>e._pe.ensureString(t));L=e._pe.ensureInt32(q);q=e._pe.ensureFloat64(Array(2*x));(O=e._pe._pe_mgrs_to_geog_extended(E,x,L,O,q))&&G(P,x,q);return O}})(e.PeNotationMgrs||(e.PeNotationMgrs={}));e.PeNotationUsng=void 0;(function(d){d.geogToUsng=function(q,x,L,O,P,E,t){e._pe.ensureCache.prepare();let A=0;q&&(A=e._pe.getPointer(q));
q=M(L);L=e._pe.ensureFloat64(q);q=D(x,e.PeDefs.PE_MGRS_MAX);const N=e._pe.ensureInt32(q);if(O=e._pe._pe_geog_to_usng(A,x,L,O,P,E,N))for(P=0;P<x;P++)t[P]=e._pe.UTF8ToString(q[P]);return O};d.usngToGeog=function(q,x,L,O){e._pe.ensureCache.prepare();var P=0;q&&(P=e._pe.getPointer(q));q=L.map(E=>e._pe.ensureString(E));L=e._pe.ensureInt32(q);q=e._pe.ensureFloat64(Array(2*x));(P=e._pe._pe_usng_to_geog(P,x,L,q))&&G(O,x,q);return P}})(e.PeNotationUsng||(e.PeNotationUsng={}));e.PeNotationUtm=void 0;(function(d){d.init=
function(){d.PE_UTM_OPTS_NONE=e._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;d.PE_UTM_OPTS_ADD_SPACES=e._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;d.PE_UTM_OPTS_NS=e._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};d.geogToUtm=function(q,x,L,O,P){e._pe.ensureCache.prepare();var E=0;q&&(E=e._pe.getPointer(q));q=M(L);L=e._pe.ensureFloat64(q);q=D(x,e.PeDefs.PE_UTM_MAX);const t=e._pe.ensureInt32(q);if(O=e._pe._pe_geog_to_utm(E,x,L,O,t))for(E=0;E<x;E++)P[E]=e._pe.UTF8ToString(q[E]);return O};d.utmToGeog=
function(q,x,L,O,P){e._pe.ensureCache.prepare();let E=0;q&&(E=e._pe.getPointer(q));q=L.map(t=>e._pe.ensureString(t));L=e._pe.ensureInt32(q);q=e._pe.ensureFloat64(Array(2*x));(O=e._pe._pe_utm_to_geog(E,x,L,O,q))&&G(P,x,q);return O}})(e.PeNotationUtm||(e.PeNotationUtm={}));e.PePCSInfo=void 0;(function(d){const q=new Map;d.init=function(){d.PE_PCSINFO_OPTION_NONE=e._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;d.PE_PCSINFO_OPTION_DOMAIN=e._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;d.PE_POLE_OUTSIDE_BOUNDARY=
e._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;d.PE_POLE_POINT=e._pe.PePCSInfo.prototype.PE_POLE_POINT};d.generate=function(x,L=d.PE_PCSINFO_OPTION_DOMAIN){let O=null,P=null;q.has(x)&&(P=q.get(x),P[L]&&(O=P[L]));O||(O=e._pe.PePCSInfo.prototype.generate(x,L),P||(P=[],q.set(x,P)),P[L]=O);return O}})(e.PePCSInfo||(e.PePCSInfo={}));e.PeVersion=void 0;(function(d){d.versionString=function(){return e._pe.PeVersion.prototype.version_string()}})(e.PeVersion||(e.PeVersion={}));const y=Object.freeze(Object.defineProperty({__proto__:null,
get PeCSTransformations(){return e.PeCSTransformations},get PeDefs(){return e.PeDefs},get PeFactory(){return e.PeFactory},get PeGCSExtent(){return e.PeGCSExtent},get PeGTTransformations(){return e.PeGTTransformations},get PeGTlistExtended(){return e.PeGTlistExtended},get PeGTlistExtendedEntry(){return e.PeGTlistExtendedEntry},get PeNotationDms(){return e.PeNotationDms},get PeNotationMgrs(){return e.PeNotationMgrs},get PeNotationUsng(){return e.PeNotationUsng},get PeNotationUtm(){return e.PeNotationUtm},
get PePCSInfo(){return e.PePCSInfo},get PeVersion(){return e.PeVersion},_init:g,get _pe(){return e._pe},isLoaded:v,isSupported:p,load:f},Symbol.toStringTag,{value:"Module"}));e._init=g;e.isLoaded=v;e.isSupported=p;e.load=f;e.pe=y})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(b,e,Z,C,B){function v(r=G){return[r[0],r[1],r[2],r[3]]}function p(r,y){r!==y&&(r[0]=y[0],r[1]=y[1],r[2]=y[2],r[3]=y[3]);
return r}function f(r){return C.isNone(r)||r[0]>=r[2]?0:r[2]-r[0]}function g(r){return r[1]>=r[3]?0:r[3]-r[1]}function k(r,y,d){return y>=r[0]&&d>=r[1]&&y<=r[2]&&d<=r[3]}function D(r){return null!=r&&4===r.length}const M=[Infinity,Infinity,-Infinity,-Infinity],G=[0,0,0,0];b.NEGATIVE_INFINITY=M;b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.UNIT=[0,0,1,1];b.ZERO=G;b.allFinite=function(r){for(let y=0;4>y;y++)if(!isFinite(r[y]))return!1;return!0};b.area=function(r){return f(r)*g(r)};b.center=
function(r,y=[0,0]){y[0]=(r[0]+r[2])/2;y[1]=(r[1]+r[3])/2;return y};b.clone=function(r){return[r[0],r[1],r[2],r[3]]};b.contains=function(r,y){return y[0]>=r[0]&&y[2]<=r[2]&&y[1]>=r[1]&&y[3]<=r[3]};b.containsPoint=function(r,y){return k(r,y[0],y[1])};b.containsPointObject=function(r,y){return k(r,y.x,y.y)};b.containsPointWithMargin=function(r,y,d){return y[0]>=r[0]-d&&y[1]>=r[1]-d&&y[0]<=r[2]+d&&y[1]<=r[3]+d};b.containsXY=k;b.containsXYWithMargin=function(r,y,d,q){return y>=r[0]-q&&d>=r[1]-q&&y<=r[2]+
q&&d<=r[3]+q};b.copy=p;b.create=v;b.distance=function(r,y){const d=(r[1]+r[3])/2,q=Math.max(Math.abs(y[0]-(r[0]+r[2])/2)-f(r)/2,0);r=Math.max(Math.abs(y[1]-d)-g(r)/2,0);return Math.sqrt(q*q+r*r)};b.empty=function(r){return r?p(r,M):v(M)};b.equals=function(r,y){return D(r)&&D(y)?r[0]===y[0]&&r[1]===y[1]&&r[2]===y[2]&&r[3]===y[3]:r===y};b.expand=function(r,y,d){if(C.isNone(y))p(d,r);else if("length"in y)if(D(y))d[0]=Math.min(r[0],y[0]),d[1]=Math.min(r[1],y[1]),d[2]=Math.max(r[2],y[2]),d[3]=Math.max(r[3],
y[3]);else{if(2===y.length||3===y.length)d[0]=Math.min(r[0],y[0]),d[1]=Math.min(r[1],y[1]),d[2]=Math.max(r[2],y[0]),d[3]=Math.max(r[3],y[1])}else switch(y.type){case "extent":d[0]=Math.min(r[0],y.xmin);d[1]=Math.min(r[1],y.ymin);d[2]=Math.max(r[2],y.xmax);d[3]=Math.max(r[3],y.ymax);break;case "point":d[0]=Math.min(r[0],y.x),d[1]=Math.min(r[1],y.y),d[2]=Math.max(r[2],y.x),d[3]=Math.max(r[3],y.y)}};b.expandPointInPlace=function(r,y){y[0]<r[0]&&(r[0]=y[0]);y[0]>r[2]&&(r[2]=y[0]);y[1]<r[1]&&(r[1]=y[1]);
y[1]>r[3]&&(r[3]=y[1])};b.expandWithNestedArray=function(r,y,d=r){const q=y.length;let x=r[0],L=r[1],O=r[2];r=r[3];for(let P=0;P<q;P++){const E=y[P];x=Math.min(x,E[0]);L=Math.min(L,E[1]);O=Math.max(O,E[0]);r=Math.max(r,E[1])}d[0]=x;d[1]=L;d[2]=O;d[3]=r;return d};b.fromExtent=function(r,y=v()){y[0]=r.xmin;y[1]=r.ymin;y[2]=r.xmax;y[3]=r.ymax;return y};b.fromValues=function(r,y,d,q,x=v()){x[0]=r;x[1]=y;x[2]=d;x[3]=q;return x};b.height=g;b.intersection=function(r,y,d){if(C.isNone(y))return p(d,r);const q=
y[0],x=y[1],L=y[2];y=y[3];d[0]=Z.clamp(r[0],q,L);d[1]=Z.clamp(r[1],x,y);d[2]=Z.clamp(r[2],q,L);d[3]=Z.clamp(r[3],x,y);return d};b.intersects=function(r,y){return Math.max(y[0],r[0])<=Math.min(y[2],r[2])&&Math.max(y[1],r[1])<=Math.min(y[3],r[3])};b.intersectsSegment=function(r,y,d){const q=r[0],x=r[1],L=r[2];r=r[3];const {x:O,y:P}=y,{x:E,y:t}=d;var A=(la,aa)=>0>(t-P)*la+(O-E)*aa+(E*P-O*t);y=A(q,r);d=A(L,r);const N=A(L,x);A=A(q,x);return y===d&&d===N&&N===A&&A===y||O<q&&E<q||O>L&&E>L||P>r&&t>r||P<x&&
t<x?!1:!0};b.intersectsSphere=function(r,y){const d=y[3];var q=Math.abs(y[0]-.5*(r[0]+r[2]));const x=.5*(r[2]-r[0]);if(q>d+x)return!1;var L=.5*(r[3]-r[1]);r=Math.abs(y[1]-.5*(r[1]+r[3]));if(r>d+L)return!1;if(q<x||r<L)return!0;q-=x;L=r-L;return q*q+L*L<=d*d};b.is=D;b.isPoint=function(r){return(0===f(r)||!isFinite(r[0]))&&(0===g(r)||!isFinite(r[1]))};b.offset=function(r,y,d,q=r){q[0]=r[0]+y;q[1]=r[1]+d;q[2]=r[2]+y;q[3]=r[3]+d;return q};b.pad=function(r,y,d=r){d[0]=r[0]-y;d[1]=r[1]-y;d[2]=r[2]+y;d[3]=
r[3]+y;return d};b.setMax=function(r,y,d=r){d[2]=y[0];d[3]=y[1];d!==r&&(d[0]=r[0],d[1]=r[1]);return r};b.setMin=function(r,y,d=r){d[0]=y[0];d[1]=y[1];d!==r&&(d[2]=r[2],d[3]=r[3]);return d};b.size=function(r,y){y[0]=r[2]-r[0];y[1]=r[3]-r[1]};b.toExtent=function(r,y){return new B({xmin:r[0],ymin:r[1],xmax:r[2],ymax:r[3],spatialReference:y})};b.width=f;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],
function(b,e){const Z=Math.PI/180;var C=e.earth.radius;const B=e.earth.eccentricitySquared;C={a1:C*B,a2:C*B*C*B,a3:C*B*B/2,a4:C*B*C*B*2.5,a5:C*B+C*B*B/2,a6:1-B};e={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:e.earth.radius,f:e.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:e.moon.radius,f:e.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:e.mars.radius,f:e.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,
f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,f:0},104930:{a:59500,
f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},
104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:e.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};b.WKT_SPHEROID_REGEX=
/SPHEROID\[([^\]]+)]/i;b.earthEllipsoidConstants=C;b.spheroids=e;b.toRadians=Z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(b){return function(){function e(C){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(C&&C.steps)for(const B of C.steps)B instanceof b?this.steps.push(B):this.steps.push(new b({wkid:B.wkid,wkt:B.wkt,isInverse:B.isInverse}))}
e.cacheKey=function(C,B){return[void 0!==C.wkid&&null!==C.wkid?C.wkid.toString():"-1",void 0!==C.wkt&&null!==C.wkt?C.wkt.toString():"",void 0!==B.wkid&&null!==B.wkid?B.wkid.toString():"-1",void 0!==B.wkt&&null!==B.wkt?B.wkt.toString():""].join()};e.fromGE=function(C){const B=new e;let v="";for(const p of C.steps)C=b.fromGE(p),B.steps.push(C),v+=C.uid.toString()+",";B._cachedProjection={};B._gtlistentry=null;B._chain=v;return B};var Z=e.prototype;Z.getInverse=function(){const C=new e;C.steps=[];for(let B=
this.steps.length-1;0<=B;B--)C.steps.push(this.steps[B].getInverse());return C};Z.getGTListEntry=function(){let C="";for(const B of this.steps)C+=B.uid.toString()+",";C!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=C);return this._gtlistentry};Z.assignCachedGe=function(C,B,v){this._cachedProjection[e.cacheKey(C,B)]=v};Z.getCachedGeTransformation=function(C,B){let v="";for(const p of this.steps)v+=p.uid.toString()+",";v!==this._chain&&(this._gtlistentry=null,this._cachedProjection=
{},this._chain=v);C=this._cachedProjection[e.cacheKey(C,B)];return void 0===C?null:C};return e}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(b){let e=0;return function(){function Z(C){this.uid=e++;C?(this._wkt=null!=C.wkt?C.wkt:null,this._wkid=null!=C.wkid?C.wkid:-1,this._isInverse=null!=C.isInverse?!0===C.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}Z.fromGE=function(C){const B=new Z;B._wkt=C.wkt;
B._wkid=C.wkid;B._isInverse=C.isInverse;return B};Z.prototype.getInverse=function(){const C=new Z;C._wkt=this.wkt;C._wkid=this._wkid;C._isInverse=!this.isInverse;return C};b._createClass(Z,[{key:"wkt",get:function(){return this._wkt},set:function(C){this._wkt=C;this.uid=e++}},{key:"wkid",get:function(){return this._wkid},set:function(C){this._wkid=C;this.uid=e++}},{key:"isInverse",get:function(){return this._isInverse},set:function(C){this._isInverse=C;this.uid=e++}}]);return Z}()})},"esri/geometry/support/zscale":function(){define(["exports",
"../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(b,e,Z,C){b.getGeometryZScaler=function(B,v,p){if(e.isNone(v)||e.isNone(p)||p.vcsWkid||C.equals(v,p))return null;v=Z.getMetersPerVerticalUnitForSR(v);p=Z.getMetersPerVerticalUnitForSR(p);const f=v/p;if(1===f)return null;switch(B){case "point":case "esriGeometryPoint":return g=>{g&&null!=g.z&&(g.z*=f)};case "polyline":case "esriGeometryPolyline":return g=>{if(g)for(const k of g.paths)for(const D of k)2<D.length&&(D[2]*=f)};
case "polygon":case "esriGeometryPolygon":return g=>{if(g)for(const k of g.rings)for(const D of k)2<D.length&&(D[2]*=f)};case "multipoint":case "esriGeometryMultipoint":return g=>{if(g)for(const k of g.points)2<k.length&&(k[2]*=f)};case "extent":case "esriGeometryExtent":return g=>{g&&null!=g.zmin&&null!=g.zmax&&(g.zmin*=f,g.zmax*=f)};default:return null}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryAdapters/json":function(){define(["exports"],function(b){let e=
function(p,f,g){this.x=p;this.y=f;this.spatialReference=g;this.m=this.z=void 0},Z=function(p,f,g,k){this.rings=p;this.spatialReference=f;this.hasM=this.hasZ=void 0;g&&(this.hasZ=g);k&&(this.hasM=k)},C=function(p,f,g,k){this.paths=p;this.spatialReference=f;this.hasM=this.hasZ=void 0;g&&(this.hasZ=g);k&&(this.hasM=k)},B=function(p,f,g,k){this.points=p;this.spatialReference=f;this.hasM=this.hasZ=void 0;g&&(this.hasZ=g);k&&(this.hasM=k)},v=function(p,f,g,k,D){this.xmin=p;this.ymin=f;this.xmax=g;this.ymax=
k;this.spatialReference=D;this.mmax=this.mmin=this.zmax=this.zmin=void 0};b.jsonAdapter={convertToGEGeometry:function(p,f){return null==f?null:p.convertJSONToGeometry(f)},exportPoint:function(p,f,g){g=new e(p.getPointX(f),p.getPointY(f),g);const k=p.hasZ(f),D=p.hasM(f);k&&(g.z=p.getPointZ(f));D&&(g.m=p.getPointM(f));return g},exportPolygon:function(p,f,g){return new Z(p.exportPaths(f),g,p.hasZ(f),p.hasM(f))},exportPolyline:function(p,f,g){return new C(p.exportPaths(f),g,p.hasZ(f),p.hasM(f))},exportMultipoint:function(p,
f,g){return new B(p.exportPoints(f),g,p.hasZ(f),p.hasM(f))},exportExtent:function(p,f,g){var k=p.hasZ(f);const D=p.hasM(f);g=new v(p.getXMin(f),p.getYMin(f),p.getXMax(f),p.getYMax(f),g);k&&(k=p.getZExtent(f),g.zmin=k.vmin,g.zmax=k.vmax);D&&(p=p.getMExtent(f),g.mmin=p.vmin,g.mmax=p.vmax);return g}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/SnappingCandidate":function(){define(["exports"],function(b){b.makeEdgeCandidate=function(e,Z,C,B,v,p=!1){return{objectId:e,
target:Z,distance:C,type:"edge",start:B,end:v,draped:p}};b.makeVertexCandidate=function(e,Z,C){return{objectId:e,target:Z,distance:C,type:"vertex"}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/data/utils":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/jsonMap ../../../core/maybe ../../../core/unitUtils ../../../geometry/projection ../../../geometry/support/extentUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ../OptimizedGeometry ./projectionSupport".split(" "),
function(b,e,Z,C,B,v,p,f,g,k,D,M,G,r){function y(){y=Z._asyncToGenerator(function*(U,T,ca){const {outFields:J,orderByFields:oa,groupByFieldsForStatistics:ra,outStatistics:xa}=U;if(J)for(var ka=0;ka<J.length;ka++)J[ka]=J[ka].trim();if(oa)for(ka=0;ka<oa.length;ka++)oa[ka]=oa[ka].trim();if(ra)for(ka=0;ka<ra.length;ka++)ra[ka]=ra[ka].trim();if(xa)for(ka=0;ka<xa.length;ka++)xa[ka].onStatisticField&&(xa[ka].onStatisticField=xa[ka].onStatisticField.trim());U.geometry&&!U.outSR&&(U.outSR=U.geometry.spatialReference);
return d(U,T,ca)});return y.apply(this,arguments)}function d(U,T,ca){return q.apply(this,arguments)}function q(){q=Z._asyncToGenerator(function*(U,T,ca){if(!U)return null;var {where:J}=U;U.where=J=J&&J.trim();if(!J||/^1 *= *1$/.test(J)||T&&T===J)U.where=null;if(!U.geometry)return U;T=yield L(U);U.distance=0;U.units=null;"esriSpatialRelEnvelopeIntersects"===U.spatialRel&&({spatialReference:J}=U.geometry,T=f.getGeometryExtent(T),T.spatialReference=J);if(T){yield r.checkProjectionSupport(T.spatialReference,
ca);J=T.spatialReference;T=x(T,ca)&&g.isExtent(T)?{spatialReference:J,rings:[[[T.xmin,T.ymin],[T.xmin,T.ymax],[T.xmax,T.ymax],[T.xmax,T.ymin],[T.xmin,T.ymin]]]}:T;J=(yield k.normalizeCentralMeridian(g.fromJSON(T)))[0];if(B.isNone(J))throw A;const oa="quantizationParameters"in U&&U.quantizationParameters?.tolerance||"maxAllowableOffset"in U&&U.maxAllowableOffset||0;T=oa&&x(T,ca)?{densificationStep:8*oa}:void 0;J=J.toJSON();T=yield r.project(J,J.spatialReference,ca,T);if(!T)throw A;T.spatialReference=
ca;U.geometry=T}return U});return q.apply(this,arguments)}function x(U,T){if(!U)return!1;const ca=U.spatialReference;return(g.isExtent(U)||g.isPolygon(U)||g.isPolyline(U))&&!D.equals(ca,T)&&!p.canProjectWithoutEngine(ca,T)}function L(U){return O.apply(this,arguments)}function O(){O=Z._asyncToGenerator(function*(U){const {distance:T,units:ca}=U,J=U.geometry;if(null==T||"vertexAttributes"in J)return J;var oa=J.spatialReference;U=ca?t.fromJSON(ca):v.getUnitString(oa);oa=oa&&(D.isGeographic(oa)||D.isWebMercator(oa))?
J:yield r.checkProjectionSupport(oa,D.WGS84).then(()=>r.project(J,D.WGS84));return(yield P())(oa.spatialReference,oa,T,U)});return O.apply(this,arguments)}function P(){return E.apply(this,arguments)}function E(){E=Z._asyncToGenerator(function*(){return(yield new Promise((U,T)=>b(["../../../geometry/geometryEngineJSON"],U,T))).geodesicBuffer});return E.apply(this,arguments)}const t=new C.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",
esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),A=Object.freeze({}),N=new G,la=new G,aa=new G,I={esriGeometryPoint:M.convertToPoint,esriGeometryPolyline:M.convertToPolyline,esriGeometryPolygon:M.convertToPolygon,esriGeometryMultipoint:M.convertToMultipoint},K=(U,T)=>"_geVersion"!==U?T:void 0;e.QUERY_ENGINE_EMPTY_RESULT=A;e.cleanFromGeometryEngine=function(U){return U&&"_geVersion"in U?JSON.parse(JSON.stringify(U,K)):U};e.getGeometry=function(U,T,ca,J,oa,ra,
xa=T,ka=ca){const V=T&&xa,R=ca&&ka;J=B.isSome(J)?"coords"in J?J:J.geometry:null;if(B.isNone(J))return null;if(oa)return T=M.generalizeOptimizedGeometry(la,J,T,ca,U,oa,xa,ka),ra&&(T=M.quantizeOptimizedGeometry(aa,T,V,R,U,ra)),I[U]?.(T,V,R)??null;if(ra)return ra=M.quantizeOptimizedGeometry(aa,J,T,ca,U,ra,xa,ka),I[U]?.(ra,V,R)??null;M.removeZMValues(N,J,T,ca,xa,ka);return I[U]?.(N,V,R)??null};e.normalizeQuery=function(U,T,ca){return y.apply(this,arguments)};e.normalizeQueryLike=d;e.transformCentroid=
function(U,T,ca,J=U.hasZ,oa=U.hasM){if(B.isNone(T))return null;const ra=U.hasZ&&J,xa=U.hasM&&oa;return ca?(U=M.quantizeOptimizedGeometry(aa,T,U.hasZ,U.hasM,"esriGeometryPoint",ca,J,oa),M.convertToPoint(U,ra,xa)):M.convertToPoint(T,ra,xa)};Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometryService/cut ../../rest/geometryService/simplify".split(" "),
function(b,e,Z,C,B,v,p,f,g,k,D,M,G){function r(E){const t=[];let A=0,N=0;for(let la=0;la<E.length;la++){const aa=E[la];let I=null;for(let K=0;K<aa.length;K++)I=aa[K],t.push(I),0===K?N=A=I[0]:(A=Math.min(A,I[0]),N=Math.max(N,I[0]));I&&t.push([(A+N)/2,0])}return t}function y(E,t){if(!(E instanceof f||E instanceof p))throw P.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new C("straightLineDensify: the input geometry is neither polyline nor polygon");var A=g.getGeometryParts(E);
const N=[];for(const aa of A){A=[];N.push(A);A.push([aa[0][0],aa[0][1]]);for(let I=0;I<aa.length-1;I++){const K=aa[I][0],U=aa[I][1],T=aa[I+1][0],ca=aa[I+1][1];var la=Math.sqrt((T-K)*(T-K)+(ca-U)*(ca-U));const J=(ca-U)/la,oa=(T-K)/la,ra=la/t;if(1<ra){for(let xa=1;xa<=ra-1;xa++){const ka=xa*t;A.push([oa*ka+K,J*ka+U])}la=(la+Math.floor(ra-1)*t)/2;A.push([oa*la+K,J*la+U])}A.push([T,ca])}}return"polygon"===E.type?new p({rings:N,spatialReference:E.spatialReference}):new f({paths:N,spatialReference:E.spatialReference})}
function d(E,t,A){t&&(E=y(E,1E6),E=D.webMercatorToGeographic(E,!0));A&&(E=g.updatePolyGeometry(E,A));return E}function q(E,t,A){if(Array.isArray(E)){var N=E[0];N>t?(A=g.offsetMagnitude(N,t),E[0]=N+-2*A*t):N<A&&(t=g.offsetMagnitude(N,A),E[0]=N+-2*t*A)}else N=E.x,N>t?(A=g.offsetMagnitude(N,t),E=E.clone().offset(-2*A*t,0)):N<A&&(t=g.offsetMagnitude(N,A),E=E.clone().offset(-2*t*A,0));return E}function x(E,t){let A=-1;for(let N=0;N<t.cutIndexes.length;N++){const la=t.cutIndexes[N],aa=t.geometries[N],I=
g.getGeometryParts(aa);for(let K=0;K<I.length;K++){const U=I[K];U.some(T=>{if(180>T[0])return!0;T=0;for(var ca=0;ca<U.length;ca++){var J=U[ca][0];T=J>T?J:T}T=Number(T.toFixed(9));T=-360*g.offsetMagnitude(T,180);for(ca=0;ca<U.length;ca++)J=aa.getPoint(K,ca),aa.setPoint(K,ca,J.clone().offset(T,0));return!0})}if(la===A)if("polygon"===E[0].type)for(const K of g.getGeometryParts(aa))E[la]=E[la].addRing(K);else{if("polyline"===E[0].type)for(const K of g.getGeometryParts(aa))E[la]=E[la].addPath(K)}else A=
la,E[la]=aa}return E}function L(E,t,A){return O.apply(this,arguments)}function O(){O=e._asyncToGenerator(function*(E,t,A){if(!Array.isArray(E))return L([E],t);t&&"string"!==typeof t&&P.warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");var N="string"===typeof t?t:t?.url??Z.geometryServiceUrl;let la,aa,I;let K=0;var U=[];t=[];for(var T of E)if(v.isNone(T))t.push(T);else{if(!ca){var ca=T.spatialReference;var J=k.getInfo(ca);var oa=(la=ca.isWebMercator)?102100:
4326;aa=g.cutParams[oa].maxX;I=g.cutParams[oa].minX;var ra=g.cutParams[oa].plus180Line;oa=g.cutParams[oa].minus180Line}if(J)if("mesh"===T.type)t.push(T);else if("point"===T.type)t.push(q(T.clone(),aa,I));else if("multipoint"===T.type){var xa=T.clone();xa.points=xa.points.map(ka=>q(ka,aa,I));t.push(xa)}else if("extent"===T.type)xa=T.clone()._normalize(!1,!1,J),t.push(xa.rings?new p(xa):xa);else if(T.extent){xa=T.extent;const ka=2*g.offsetMagnitude(xa.xmin,I)*aa;let V=0===ka?T.clone():g.updatePolyGeometry(T.clone(),
ka);xa.offset(ka,0);xa.intersects(ra)&&xa.xmax!==aa?(K=xa.xmax>K?xa.xmax:K,V=d(V,la),U.push(V),t.push("cut")):xa.intersects(oa)&&xa.xmin!==I?(K=2*xa.xmax*aa>K?2*xa.xmax*aa:K,V=d(V,la,360),U.push(V),t.push("cut")):t.push(V)}else t.push(T.clone());else t.push(T)}ca=g.offsetMagnitude(K,aa);J=-90;ra=ca;for(T=new f;0<ca;)oa=-180+360*ca,T.addPath([[oa,J],[oa,-1*J]]),J*=-1,ca--;if(0<U.length&&0<ra){ca=yield M.cut(N,U,T,A);ca=x(U,ca);J=[];U=[];for(ra=0;ra<t.length;ra++)T=t[ra],"cut"!==T?U.push(T):(T=ca.shift(),
oa=E[ra],v.isSome(oa)&&"polygon"===oa.type&&oa.rings&&1<oa.rings.length&&T.rings.length>=oa.rings.length?(J.push(T),U.push("simplify")):U.push(la?D.geographicToWebMercator(T):T));if(!J.length)return U;t=yield G.simplify(N,J,A);E=[];for(A=0;A<U.length;A++)N=U[A],"simplify"!==N?E.push(N):E.push(la?D.geographicToWebMercator(t.shift()):t.shift());return E}E=[];for(A=0;A<t.length;A++)N=t[A],"cut"!==N?E.push(N):(N=U.shift(),E.push(!0===la?D.geographicToWebMercator(N):N));return E});return O.apply(this,
arguments)}const P=B.getLogger("esri.geometry.support.normalizeUtils");b.getDenormalizedExtent=function(E){if(!E)return null;const t=E.extent;if(!t)return null;var A=E.spatialReference&&k.getInfo(E.spatialReference);if(!A)return t;const [N,la]=A.valid;({width:A}=t);let {xmin:aa,xmax:I}=t;[aa,I]=[I,aa];if("extent"===E.type||0===A||A<=la||A>2*la||aa<N||I>la)return t;let K;switch(E.type){case "polygon":if(1<E.rings.length)K=r(E.rings);else return t;break;case "polyline":if(1<E.paths.length)K=r(E.paths);
else return t;break;case "multipoint":K=E.points}E=t.clone();for(let U=0;U<K.length;U++){let T=K[U][0];0>T?(T+=la,I=Math.max(T,I)):(T-=la,aa=Math.min(T,aa))}E.xmin=aa;E.xmax=I;return E.width<A?(E.xmin-=la,E.xmax-=la,E):t};b.normalizeCentralMeridian=L;b.normalizeMapX=function(E,t){if(t=k.getInfo(t)){const [A,N]=t.valid;t=N-A;if(E<A)for(;E<A;)E+=t;if(E>N)for(;E>N;)E-=t}return E};b.straightLineDensify=y;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports",
"../Polyline","../SpatialReference","./jsonUtils"],function(b,e,Z,C){function B(v){return C.isPolygon(v)?v.rings:v.paths}e={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new e({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:Z.WebMercator}),minus180Line:new e({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:Z.WebMercator})},4326:{maxX:180,
minX:-180,plus180Line:new e({paths:[[[180,-180],[180,180]]],spatialReference:Z.WGS84}),minus180Line:new e({paths:[[[-180,-180],[-180,180]]],spatialReference:Z.WGS84})}};b.cutParams=e;b.getGeometryParts=B;b.offsetMagnitude=function(v,p){return Math.ceil((v-p)/(2*p))};b.updatePolyGeometry=function(v,p){const f=B(v);for(const g of f)for(const k of g)k[0]+=p;return v};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../geometry/support/jsonUtils ../utils".split(" "),
function(b,e,Z,C,B,v){function p(){p=e._asyncToGenerator(function*(f,g,k,D){f=v.parseUrl(f);const M=g[0].spatialReference;g={...D,query:{...f.query,f:"json",sr:JSON.stringify(M),target:JSON.stringify({geometryType:B.getJsonType(g[0]),geometries:g}),cutter:JSON.stringify(k)}};g=yield C(f.path+"/cut",g);const {cutIndexes:G,geometries:r=[]}=g.data;return{cutIndexes:G,geometries:r.map(y=>{y=B.fromJSON(y);y.spatialReference=M;return y})}});return p.apply(this,arguments)}b.cut=function(f,g,k,D){return p.apply(this,
arguments)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/utils":function(){define("exports ../config ../kernel ../core/lang ../core/urlUtils ../support/apiKeyUtils".split(" "),function(b,e,Z,C,B,v){function p(f,g,k){const D={};for(const G in f)if("declaredClass"!==G){var M=f[G];if(null!=M&&"function"!==typeof M)if(Array.isArray(M)){D[G]=[];for(let r=0;r<M.length;r++)D[G][r]=p(M[r])}else"object"===typeof M?M.toJSON?(M=M.toJSON(k&&k[G]),D[G]=g?M:JSON.stringify(M)):D[G]=
g?M:JSON.stringify(M):D[G]=M}return D}b.asValidOptions=function(f,g){return g?{...g,query:{...(f??{}),...g.query}}:{query:f}};b.encode=p;b.getToken=function(f,g){return v.supportsApiKey(f)&&(g||e.apiKey)?g||e.apiKey:Z.id?.findCredential(f)?.token};b.parseUrl=function(f){return"string"===typeof f?B.urlToObject(f):C.clone(f)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/rest/geometryService/simplify":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../request ../../core/urlUtils ../../geometry/support/jsonUtils ./utils".split(" "),
function(b,e,Z,C,B,v){function p(){p=e._asyncToGenerator(function*(f,g,k){const D="string"===typeof f?C.urlToObject(f):f;f=g[0].spatialReference;const M=B.getJsonType(g[0]);g={...k,query:{...D.query,f:"json",sr:f.wkid?f.wkid:JSON.stringify(f),geometries:JSON.stringify(v.encodeGeometries(g))}};({data:g}=yield Z(D.path+"/simplify",g));return v.decodeGeometries(g.geometries,M,f)});return p.apply(this,arguments)}b.simplify=function(f,g,k){return p.apply(this,arguments)};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/rest/geometryService/utils":function(){define(["exports","../../geometry/support/jsonUtils"],function(b,e){b.decodeGeometries=function(Z,C,B){const v=e.getGeometryType(C);return Z.map(p=>{p=v.fromJSON(p);p.spatialReference=B;return p})};b.encodeGeometries=function(Z){return{geometryType:e.getJsonType(Z[0]),geometries:Z.map(C=>C.toJSON())}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/aaBoundingBox ../../geometry/support/aaBoundingRect ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(b,e,Z,C,B,v,p,f,g,k){function D(z,S){return z?S?4:3:S?3:2}function M(z,S,ha,ba){if(z){if(ha)return S&&ba?u:vb;if(S&&ba)return h}else if(S&&ba)return vb;return fb}function G({scale:z,translate:S},ha){return Math.round((ha-S[0])/z[0])}function r({scale:z,translate:S},ha){return Math.round((S[1]-ha)/z[1])}function y({scale:z,translate:S},ha,ba){return ha*z[ba]+S[ba]}function d(z){z=z.coords;return{x:z[0],y:z[1]}}function q(z,S){z.coords[0]=S.x;z.coords[1]=S.y;return z}function x(z){z=z.coords;
return{x:z[0],y:z[1],z:z[2]}}function L(z,S){z.coords[0]=S.x;z.coords[1]=S.y;z.coords[2]=S.z;return z}function O(z){z=z.coords;return{x:z[0],y:z[1],m:z[2]}}function P(z,S){z.coords[0]=S.x;z.coords[1]=S.y;z.coords[2]=S.m;return z}function E(z){z=z.coords;return{x:z[0],y:z[1],z:z[2],m:z[3]}}function t(z,S){z.coords[0]=S.x;z.coords[1]=S.y;z.coords[2]=S.z;z.coords[3]=S.m;return z}function A(z,S){return z&&S?t:z?L:S?P:q}function N(z,S,ha,ba,na){ha=A(ha,ba);for(const {geometry:sa,attributes:wa}of S)S=C.isSome(sa)?
ha(new k,sa):null,z.push(new f.OptimizedFeature(S,wa,null,na?wa[na]:void 0));return z}function la(z,S,ha,ba){for(const {geometry:na,attributes:sa}of S)z.push({attributes:sa,geometry:C.isSome(na)?aa(na,ha,ba):null});return z}function aa(z,S,ha){if(C.isNone(z))return null;const ba=D(S,ha),na=[];for(let sa=0;sa<z.coords.length;sa+=ba){const wa=[];for(let X=0;X<ba;X++)wa.push(z.coords[sa+X]);na.push(wa)}return S?ha?{points:na,hasZ:S,hasM:ha}:{points:na,hasZ:S}:ha?{points:na,hasM:ha}:{points:na}}function I(z,
S,ha,ba,na){ha=D(ha,ba);for(const {geometry:sa,attributes:wa}of S)S=C.isSome(sa)?K(new k,sa,ha):null,z.push(new f.OptimizedFeature(S,wa,null,na?wa[na]:void 0));return z}function K(z,S,ha=D(S.hasZ,S.hasM)){z.lengths[0]=S.points.length;const ba=z.coords;let na=0;for(const sa of S.points)for(S=0;S<ha;S++)ba[na++]=sa[S];return z}function U(z,S,ha){if(!z)return null;const ba=D(S,ha),{coords:na,lengths:sa}=z;z=[];let wa=0;for(const X of sa){const fa=[];for(let ua=0;ua<X;ua++){const Ca=[];for(let Ha=0;Ha<
ba;Ha++)Ca.push(na[wa++]);fa.push(Ca)}z.push(fa)}return S?ha?{paths:z,hasZ:S,hasM:ha}:{paths:z,hasZ:S}:ha?{paths:z,hasM:ha}:{paths:z}}function T(z,S,ha,ba,na){ha=D(ha,ba);for(const {geometry:sa,attributes:wa}of S)S=C.isSome(sa)?ca(new k,sa,ha):null,z.push(new f.OptimizedFeature(S,wa,null,na?wa[na]:void 0));return z}function ca(z,S,ha=D(S.hasZ,S.hasM)){const {lengths:ba,coords:na}=z;let sa=0;for(const wa of S.paths){for(const X of wa)for(S=0;S<ha;S++)na[sa++]=X[S];ba.push(wa.length)}return z}function J(z,
S,ha){if(!z)return null;const ba=D(S,ha),{coords:na,lengths:sa}=z;z=[];let wa=0;for(const X of sa){const fa=[];for(let ua=0;ua<X;ua++){const Ca=[];for(let Ha=0;Ha<ba;Ha++)Ca.push(na[wa++]);fa.push(Ca)}z.push(fa)}return S?ha?{rings:z,hasZ:S,hasM:ha}:{rings:z,hasZ:S}:ha?{rings:z,hasM:ha}:{rings:z}}function oa(z,S,ha,ba,na){for(const {geometry:sa,centroid:wa,attributes:X}of S){S=C.isSome(sa)?ra(new k,sa,ha,ba):null;const fa=na?X[na]:void 0;C.isSome(wa)?z.push(new f.OptimizedFeature(S,X,q(new k,wa),fa)):
z.push(new f.OptimizedFeature(S,X,null,fa))}return z}function ra(z,S,ha=S.hasZ,ba=S.hasM){xa(z,S.rings,ha,ba);return z}function xa(z,S,ha,ba){ha=D(ha,ba);const {lengths:na,coords:sa}=z;ba=0;Ea(z);for(const wa of S){for(const X of wa)for(S=0;S<ha;S++)sa[ba++]=X[S];na.push(wa.length)}return z}function ka(z,S,ha,ba,na,sa){Qa(z);if(!ha){for(const wa of S)z.push(new f.OptimizedFeature(null,wa.attributes,null,sa?wa.attributes[sa]:void 0));return z}switch(ha){case "esriGeometryPoint":return N(z,S,ba,na,
sa);case "esriGeometryMultipoint":return I(z,S,ba,na,sa);case "esriGeometryPolyline":return T(z,S,ba,na,sa);case "esriGeometryPolygon":return oa(z,S,ba,na,sa);default:Oa.error("convertToFeatureSet:unknown-geometry",new e(`Unable to parse unknown geometry type '${ha}'`)),Qa(z)}return z}function V(z,S,ha,ba){z=z&&("coords"in z?z:z.geometry);if(C.isNone(z))return null;switch(S){case "esriGeometryPoint":return S=d,ha&&ba?S=E:ha?S=x:ba&&(S=O),S(z);case "esriGeometryMultipoint":return aa(z,ha,ba);case "esriGeometryPolyline":return U(z,
ha,ba);case "esriGeometryPolygon":return J(z,ha,ba);default:return Oa.error("convertToGeometry:unknown-geometry",new e(`Unable to parse unknown geometry type '${S}'`)),null}}function R(z,S,ha,ba,na){Qa(z);if(C.isNone(ha)){for(const wa of S)z.push({attributes:wa.attributes});return z}switch(ha){case "esriGeometryPoint":ha=d;ba&&na?ha=E:ba?ha=x:na&&(ha=O);for(var sa of S){const {geometry:wa,attributes:X}=sa;ba=C.isSome(wa)?ha(wa):null;z.push({attributes:X,geometry:ba})}break;case "esriGeometryMultipoint":return la(z,
S,ba,na);case "esriGeometryPolyline":for(const {geometry:wa,attributes:X}of S)z.push({attributes:X,geometry:C.isSome(wa)?U(wa,ba,na):null});break;case "esriGeometryPolygon":for(const {geometry:wa,attributes:X,centroid:fa}of S)sa=C.isSome(wa)?J(wa,ba,na):null,C.isSome(fa)?(S=d(fa),z.push({attributes:X,centroid:S,geometry:sa})):z.push({attributes:X,geometry:sa});break;default:Oa.error("convertToFeatureSet:unknown-geometry",new e(`Unable to parse unknown geometry type '${ha}'`))}return z}function F(z,
S,ha,ba,na,sa,wa=ha,X=ba){Ea(z);if(C.isNone(S)||!S.coords.length)return null;na=bb[na];const {coords:fa,lengths:ua}=S;S=D(ha,ba);const Ca=D(ha&&wa,ba&&X);ha=M(ha,ba,wa,X);if(!ua.length)return ha(z.coords,fa,0,0,G(sa,fa[0]),r(sa,fa[1])),Ea(z,S,0),z;let Ha,Pa=0,Ma,Ta=0;for(const Ua of ua){if(Ua<na)continue;let Ka=0;Ma=Ta;X=ba=G(sa,fa[Pa]);Ha=wa=r(sa,fa[Pa+1]);ha(z.coords,fa,Ma,Pa,X,Ha);Ka++;Pa+=S;Ma+=Ca;for(let Va=1;Va<Ua;Va++,Pa+=S)if(X=G(sa,fa[Pa]),Ha=r(sa,fa[Pa+1]),X!==ba||Ha!==wa)ha(z.coords,fa,
Ma,Pa,X-ba,Ha-wa),Ma+=Ca,Ka++,ba=X,wa=Ha;Ka>=na&&(z.lengths.push(Ka),Ta=Ma)}Qa(z.coords,Ta);return z.coords.length?z:null}function n(z,S,ha,ba,na,sa,wa){let X=ba,fa=0;for(let Ca=sa+ha;Ca<wa;Ca+=ha){var ua=S[Ca];const Ha=S[Ca+1],Pa=S[wa],Ma=S[wa+1];let Ta=S[sa],Ua=S[sa+1],Ka=Pa-Ta,Va=Ma-Ua;if(0!==Ka||0!==Va){const Da=((ua-Ta)*Ka+(Ha-Ua)*Va)/(Ka*Ka+Va*Va);1<Da?(Ta=Pa,Ua=Ma):0<Da&&(Ta+=Ka*Da,Ua+=Va*Da)}Ka=ua-Ta;Va=Ha-Ua;ua=Ka*Ka+Va*Va;ua>X&&(fa=Ca,X=ua)}X>ba&&(fa-sa>ha&&n(z,S,ha,ba,na,sa,fa),na(z,S,
z.length,fa,S[fa],S[fa+1]),wa-fa>ha&&n(z,S,ha,ba,na,fa,wa))}function W(z,S,ha,ba,na){const {coords:sa,lengths:wa}=S;ha=D(ha,ba);if(!sa.length)return z!==S&&Ea(z),z;C.assertIsSome(na);const {originPosition:X,scale:fa,translate:ua}=na;na=Ba;na.originPosition=X;ba=na.scale;ba[0]=fa[0]??1;ba[1]=-(fa[1]??1);ba[2]=fa[2]??1;ba[3]=fa[3]??1;var Ca=na.translate;Ca[0]=ua[0]??0;Ca[1]=ua[1]??0;Ca[2]=ua[2]??0;Ca[3]=ua[3]??0;if(!wa.length){for(ba=0;ba<ha;++ba)z.coords[ba]=y(na,sa[ba],ba);z!==S&&Ea(z,ha,0);return z}Ca=
0;for(let Pa=0;Pa<wa.length;Pa++){const Ma=wa[Pa];z.lengths[Pa]=Ma;for(var Ha=0;Ha<ha;++Ha)z.coords[Ca+Ha]=y(na,sa[Ca+Ha],Ha);Ha=z.coords[Ca];let Ta=z.coords[Ca+1];Ca+=ha;for(let Ua=1;Ua<Ma;Ua++,Ca+=ha){Ha+=sa[Ca]*ba[0];Ta+=sa[Ca+1]*ba[1];z.coords[Ca]=Ha;z.coords[Ca+1]=Ta;for(let Ka=2;Ka<ha;++Ka)z.coords[Ca+Ka]=y(na,sa[Ca+Ka],Ka)}}z!==S&&Ea(z,sa.length,wa.length);return z}function za(z,S,ha,ba){let na=0,sa=z[ba*S],wa=z[ba*(S+1)];for(let X=1;X<ha;X++){const fa=sa+z[ba*(S+X)],ua=wa+z[ba*(S+X)+1],Ca=
(fa-sa)*(ua+wa);sa=fa;wa=ua;na+=Ca}return.5*na}function Ea(z,S=0,ha=0){Qa(z.lengths,ha);Qa(z.coords,S)}function Qa(z,S=0){z.length!==S&&(z.length=S)}const Oa=Z.getLogger("esri.layers.graphics.featureConversionUtils"),bb={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},fb=(z,S,ha,ba,na,sa)=>{z[ha]=na;z[ha+1]=sa},vb=(z,S,ha,ba,na,sa)=>{z[ha]=na;z[ha+1]=sa;z[ha+2]=S[ba+2]},h=(z,S,ha,ba,na,sa)=>{z[ha]=na;z[ha+1]=sa;z[ha+2]=S[ba+3]},u=(z,S,ha,ba,na,sa)=>{z[ha]=
na;z[ha+1]=sa;z[ha+2]=S[ba+2];z[ha+3]=S[ba+3]},ia=[],pa=[],Ba={originPosition:"lowerLeft",scale:[1,1,1,1],translate:[0,0,0,0]};b.convertFromFeature=function(z,S,ha,ba,na){ia[0]=z;[z]=ka(pa,ia,S,ha,ba,na);Qa(ia);Qa(pa);return z};b.convertFromFeatureSet=function(z,S){const ha=new g,{hasM:ba,hasZ:na,features:sa,objectIdFieldName:wa,spatialReference:X,geometryType:fa,exceededTransferLimit:ua,transform:Ca,fields:Ha}=z;Ha&&(ha.fields=Ha);ha.geometryType=fa??null;ha.objectIdFieldName=wa??S??null;ha.spatialReference=
X??null;if(!ha.objectIdFieldName)return Oa.error(new e("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),ha;sa&&ka(ha.features,sa,fa,na,ba,ha.objectIdFieldName);ua&&(ha.exceededTransferLimit=ua);ba&&(ha.hasM=ba);na&&(ha.hasZ=na);Ca&&(ha.transform=Ca);return ha};b.convertFromFeatures=ka;b.convertFromGeometry=function(z,S,ha){if(C.isNone(z))return null;const ba=new k;"hasZ"in z&&null==S&&(S=z.hasZ);"hasM"in z&&null==ha&&(ha=z.hasM);if(p.isPoint(z))return A(null!=S?S:null!=
z.z,null!=ha?ha:null!=z.m)(ba,z);if(p.isPolygon(z))return ra(ba,z,S,ha);if(p.isPolyline(z))return ca(ba,z,D(S,ha));if(p.isMultipoint(z))return K(ba,z,D(S,ha));Oa.error("convertFromGeometry:unknown-geometry",new e(`Unable to parse unknown geometry type '${z}'`))};b.convertFromGraphics=function(z,S,ha,ba,na,sa){const wa=z.length;switch(ha){case "esriGeometryPoint":N(z,S,ba,na,sa);break;case "esriGeometryMultipoint":I(z,S,ba,na,sa);break;case "esriGeometryPolyline":T(z,S,ba,na,sa);break;case "esriGeometryPolygon":oa(z,
S,ba,na,sa);break;default:Oa.error("convertToFeatureSet:unknown-geometry",new e(`Unable to parse unknown geometry type '${ha}'`))}for(ba=0;ba<S.length;ba++)z[ba+wa].geometryType=ha,z[ba+wa].insertAfter=S[ba].insertAfter,z[ba+wa].groupId=S[ba].groupId;return z};b.convertFromMultipoint=K;b.convertFromMultipointFeatures=I;b.convertFromNestedArray=xa;b.convertFromPoint=function(z,S,ha=A(null!=S.z,null!=S.m)){return ha(z,S)};b.convertFromPointFeatures=N;b.convertFromPolygon=ra;b.convertFromPolyline=ca;
b.convertFromPolylineFeatures=T;b.convertToFeature=function(z,S,ha,ba){pa[0]=z;R(ia,pa,S,ha,ba);z=ia[0];Qa(ia);Qa(pa);return z};b.convertToFeatureSet=function(z){const {objectIdFieldName:S,spatialReference:ha,transform:ba,fields:na,hasM:sa,hasZ:wa,features:X,geometryType:fa,exceededTransferLimit:ua,uniqueIdField:Ca,queryGeometry:Ha,queryGeometryType:Pa}=z;z=R([],X,fa,wa,sa);const Ma=V(Ha,Pa,!1,!1);z={features:z,fields:na,geometryType:fa,objectIdFieldName:S,spatialReference:ha,uniqueIdField:Ca,queryGeometry:Ma};
ba&&(z.transform=ba);ua&&(z.exceededTransferLimit=ua);sa&&(z.hasM=sa);wa&&(z.hasZ=wa);return z};b.convertToFeatures=R;b.convertToGeometry=V;b.convertToMultipoint=aa;b.convertToMultipointFeatures=la;b.convertToPoint=function(z,S,ha){return z?S?ha?E(z):x(z):ha?O(z):d(z):null};b.convertToPolygon=J;b.convertToPolyline=U;b.deltaDecodeGeometry=function(z,S){if(C.isNone(z))return null;const ha=z.clone(),ba=z.coords;z=z.lengths;let na=0;for(let X=0;X<z.length;X++){const fa=z[X];var sa=ba[S*na],wa=ba[S*na+
1];for(let ua=1;ua<fa;ua++)sa+=ba[S*(na+ua)],wa+=ba[S*(na+ua)+1],ha.coords[S*(na+ua)]=sa,ha.coords[S*(na+ua)+1]=wa;na+=fa}return ha};b.deltaEncodeGeometry=function(z,S){const ha=z.clone(),ba=z.coords;z=z.lengths;let na=0;for(let wa=0;wa<z.length;wa++){const X=z[wa];let fa=ba[S*na];var sa=ba[S*na+1];for(let ua=1;ua<X;ua++){const Ca=ba[S*(na+ua)],Ha=ba[S*(na+ua)+1];sa=Ha-sa;ha.coords[S*(na+ua)]=Ca-fa;ha.coords[S*(na+ua)+1]=sa;fa=Ca;sa=Ha}na+=X}return ha};b.generalizeOptimizedGeometry=function(z,S,ha,
ba,na,sa,wa=ha,X=ba){Ea(z);if(!S||!S.coords.length)return null;na=bb[na];const {coords:fa,lengths:ua}=S;S=D(ha,ba);const Ca=D(ha&&wa,ba&&X);ha=M(ha,ba,wa,X);if(!ua.length)return ha(z.coords,fa,0,0,fa[0],fa[1]),Ea(z,S,0),z;ba=0;sa*=sa;for(const Ha of ua){if(Ha<na){ba+=Ha*S;continue}wa=z.coords.length/Ca;X=ba;const Pa=ba+(Ha-1)*S;ha(z.coords,fa,z.coords.length,X,fa[X],fa[X+1]);n(z.coords,fa,S,sa,ha,X,Pa);ha(z.coords,fa,z.coords.length,Pa,fa[Pa],fa[Pa+1]);X=z.coords.length/Ca-wa;X>=na?z.lengths.push(X):
Qa(z.coords,wa*Ca);ba+=Ha*S}return z.coords.length?z:null};b.getBoundsOptimizedGeometry=function(z,S,ha,ba){if(C.isNone(S)||!S.coords||!S.coords.length)return null;ha=D(ha,ba);let na=ba=Number.POSITIVE_INFINITY,sa=Number.NEGATIVE_INFINITY,wa=Number.NEGATIVE_INFINITY;if(S&&S.coords){S=S.coords;for(let X=0;X<S.length;X+=ha){const fa=S[X],ua=S[X+1];ba=Math.min(ba,fa);sa=Math.max(sa,fa);na=Math.min(na,ua);wa=Math.max(wa,ua)}}B.is(z)?B.fromRectValues(z,ba,na,sa,wa):v.fromValues(ba,na,sa,wa,z);return z};
b.getQuantizedArea=function(z,S){const {coords:ha,lengths:ba}=z;let na=z=0;for(let sa=0;sa<ba.length;sa++){const wa=ba[sa];na+=za(ha,z,wa,S);z+=wa}return Math.abs(na)};b.getQuantizedBoundsOptimizedGeometry=function(z,S,ha,ba){ha=D(ha,ba);const {lengths:na,coords:sa}=S;ba=S=Number.POSITIVE_INFINITY;let wa=Number.NEGATIVE_INFINITY,X=Number.NEGATIVE_INFINITY,fa=0;for(const ua of na){let Ca=sa[fa],Ha=sa[fa+1];S=Math.min(Ca,S);ba=Math.min(Ha,ba);wa=Math.max(Ca,wa);X=Math.max(Ha,X);fa+=ha;for(let Pa=1;Pa<
ua;Pa++,fa+=ha){const Ma=sa[fa],Ta=sa[fa+1];Ca+=Ma;Ha+=Ta;0>Ma&&(S=Math.min(S,Ca));0<Ma&&(wa=Math.max(wa,Ca));0>Ta?ba=Math.min(ba,Ha):0<Ta&&(X=Math.max(X,Ha))}}z[0]=S;z[1]=ba;z[2]=wa;z[3]=X;return z};b.getSignedQuantizedRingArea=za;b.quantizeOptimizedFeatureSet=function(z,S){const {geometryType:ha,features:ba,hasM:na,hasZ:sa}=S;if(!z)return S;for(let wa=0;wa<ba.length;wa++){const X=ba[wa],fa=X.weakClone();fa.geometry=new k;F(fa.geometry,X.geometry,na,sa,ha,z);X.centroid&&(fa.centroid=new k,F(fa.centroid,
X.centroid,na,sa,"esriGeometryPoint",z));ba[wa]=fa}S.transform=z;return S};b.quantizeOptimizedGeometry=F;b.quantizeX=G;b.quantizeY=r;b.removeCollinearVectices=function(z,S,ha,ba,na){if(!S||!S.coords||!S.coords.length)return null;ha=bb[ha];const {coords:sa,lengths:wa}=S;S=M(ba,na,ba,na);ba=D(ba,na);let X=na=0,fa=0,ua=0;for(const Pa of wa){X=ua;S(z.coords,sa,X,na,sa[na],sa[na+1]);na+=ba;var Ca=sa[na];let Ma=sa[na+1],Ta=Ca,Ua=Ma;var Ha=Ma/Ca;X+=ba;S(z.coords,sa,X,na,Ta,Ua);na+=ba;for(let Ka=2;Ka<Pa;Ka++){Ca=
sa[na];Ma=sa[na+1];const Va=Ma/Ca,Da=Ha===Va||!isFinite(Ha)&&!isFinite(Va);Ha=Da&&isFinite(Va)?0<=Ha&&0<=Va||0>=Ha&&0>=Va:0<=Ua&&0<=Ma||0>=Ua&&0>=Ma;Da&&Ha?(Ta+=Ca,Ua+=Ma):(Ta=Ca,Ua=Ma,X+=ba);S(z.coords,sa,X,na,Ta,Ua);na+=ba;Ha=Va}X+=ba;Ca=(X-ua)/ba;Ca>=ha&&(z.lengths[fa]=Ca,ua=X,fa++)}z.coords.length>ua&&(z.coords.length=ua);z.lengths.length>fa&&(z.lengths.length=fa);return z.coords.length&&z.lengths.length?z:null};b.removeZMValues=function(z,S,ha,ba,na,sa){Ea(z);z.lengths.push(...S.lengths);if(ha===
na&&ba===sa)for(var wa=0;wa<S.coords.length;wa++)z.coords.push(S.coords[wa]);else for(wa=D(ha,ba),ha=M(ha,ba,na,sa),S=S.coords,ba=0;ba<S.length;ba+=wa)ha(z.coords,S,z.coords.length,ba,S[ba],S[ba+1]);return z};b.unquantizeOptimizedFeatureSet=function(z){const {transform:S,features:ha,hasM:ba,hasZ:na}=z;if(!S)return z;for(const sa of ha)C.isSome(sa.geometry)&&W(sa.geometry,sa.geometry,ba,na,S),C.isSome(sa.centroid)&&W(sa.centroid,sa.centroid,ba,na,S);z.transform=null;return z};b.unquantizeOptimizedGeometry=
W;b.unquantizeValue=y;b.unquantizeX=function(z,S){return y(z,S,0)};b.unquantizeY=function(z,S){return y(z,-S,1)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(b,e,Z,C){function B(d=r){return[d[0],d[1],d[2],d[3],d[4],d[5]]}function v(d,q,x,L,O,P,E=B()){E[0]=d;E[1]=q;E[2]=x;E[3]=L;E[4]=O;E[5]=P;return E}function p(d){return d[0]>=d[3]?0:d[3]-d[0]}function f(d){return d[1]>=
d[4]?0:d[4]-d[1]}function g(d){return d[2]>=d[5]?0:d[5]-d[2]}function k(d,q){return Math.max(q[0],d[0])<=Math.min(q[3],d[3])&&Math.max(q[1],d[1])<=Math.min(q[4],d[4])&&Math.max(q[2],d[2])<=Math.min(q[5],d[5])}function D(d,q){d[0]=q[0];d[1]=q[1];d[2]=q[2];d[3]=q[3];d[4]=q[4];d[5]=q[5];return d}function M(d){return 6===d.length}const G=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],r=[0,0,0,0,0,0],y=B();b.NEGATIVE_INFINITY=G;b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,
Infinity];b.ZERO=r;b.allFinite=function(d){for(let q=0;6>q;q++)if(!isFinite(d[q]))return!1;return!0};b.center=function(d,q=[0,0,0]){q[0]=d[0]+p(d)/2;q[1]=d[1]+f(d)/2;q[2]=d[2]+g(d)/2;return q};b.contains=function(d,q){return q[0]>=d[0]&&q[1]>=d[1]&&q[2]>=d[2]&&q[3]<=d[3]&&q[4]<=d[4]&&q[5]<=d[5]};b.containsPoint=function(d,q){return q[0]>=d[0]&&q[1]>=d[1]&&q[2]>=d[2]&&q[0]<=d[3]&&q[1]<=d[4]&&q[2]<=d[5]};b.containsPointWithMargin=function(d,q,x){return q[0]>=d[0]-x&&q[1]>=d[1]-x&&q[2]>=d[2]-x&&q[0]<=
d[3]+x&&q[1]<=d[4]+x&&q[2]<=d[5]+x};b.create=B;b.depth=f;b.diameter=function(d){const q=p(d),x=g(d);d=f(d);return Math.sqrt(q*q+x*x+d*d)};b.empty=function(d){return d?D(d,G):B(G)};b.equals=function(d,q,x){if(e.isNone(d)||e.isNone(q))return d===q;if(!M(d)||!M(q))return!1;if(x)for(let L=0;L<d.length;L++){if(!x(d[L],q[L]))return!1}else for(x=0;x<d.length;x++)if(d[x]!==q[x])return!1;return!0};b.expandWithAABB=function(d,q){d[0]=Math.min(d[0],q[0]);d[1]=Math.min(d[1],q[1]);d[2]=Math.min(d[2],q[2]);d[3]=
Math.max(d[3],q[3]);d[4]=Math.max(d[4],q[4]);d[5]=Math.max(d[5],q[5])};b.expandWithBuffer=function(d,q,x=0,L=q.length/3){let O=d[0],P=d[1],E=d[2],t=d[3],A=d[4],N=d[5];for(let la=0;la<L;la++)O=Math.min(O,q[x+3*la]),P=Math.min(P,q[x+3*la+1]),E=Math.min(E,q[x+3*la+2]),t=Math.max(t,q[x+3*la]),A=Math.max(A,q[x+3*la+1]),N=Math.max(N,q[x+3*la+2]);d[0]=O;d[1]=P;d[2]=E;d[3]=t;d[4]=A;d[5]=N};b.expandWithNestedArray=function(d,q,x){const L=q.length;let O=d[0],P=d[1],E=d[2],t=d[3],A=d[4],N=d[5];if(x)for(x=0;x<
L;x++){var la=q[x];O=Math.min(O,la[0]);P=Math.min(P,la[1]);E=Math.min(E,la[2]);t=Math.max(t,la[0]);A=Math.max(A,la[1]);N=Math.max(N,la[2])}else for(x=0;x<L;x++)la=q[x],O=Math.min(O,la[0]),P=Math.min(P,la[1]),t=Math.max(t,la[0]),A=Math.max(A,la[1]);d[0]=O;d[1]=P;d[2]=E;d[3]=t;d[4]=A;d[5]=N};b.expandWithOffset=function(d,q,x,L){d[0]=Math.min(d[0],d[0]+q);d[3]=Math.max(d[3],d[3]+q);d[1]=Math.min(d[1],d[1]+x);d[4]=Math.max(d[4],d[4]+x);d[2]=Math.min(d[2],d[2]+L);d[5]=Math.max(d[5],d[5]+L)};b.expandWithRect=
function(d,q){d[0]=Math.min(d[0],q[0]);d[1]=Math.min(d[1],q[1]);d[3]=Math.max(d[3],q[2]);d[4]=Math.max(d[4],q[3])};b.expandWithVec3=function(d,q){d[0]=Math.min(d[0],q[0]);d[1]=Math.min(d[1],q[1]);d[2]=Math.min(d[2],q[2]);d[3]=Math.max(d[3],q[0]);d[4]=Math.max(d[4],q[1]);d[5]=Math.max(d[5],q[2])};b.fromExtent=function(d,q=B()){q[0]=d.xmin;q[1]=d.ymin;q[2]=d.hasZ?d.zmin:-Infinity;q[3]=d.xmax;q[4]=d.ymax;q[5]=d.hasZ?d.zmax:Infinity;return q};b.fromMinMax=function(d,q,x=B()){x[0]=d[0];x[1]=d[1];x[2]=
d[2];x[3]=q[0];x[4]=q[1];x[5]=q[2];return x};b.fromRect=function(d,q){d[0]=q[0];d[1]=q[1];d[2]=Number.NEGATIVE_INFINITY;d[3]=q[2];d[4]=q[3];d[5]=Number.POSITIVE_INFINITY;return d};b.fromRectValues=function(d,q,x,L,O){d[0]=q;d[1]=x;d[2]=Number.NEGATIVE_INFINITY;d[3]=L;d[4]=O;d[5]=Number.POSITIVE_INFINITY;return d};b.fromValues=v;b.getMax=function(d,q){q[0]=d[3];q[1]=d[4];q[2]=d[5];return q};b.getMin=function(d,q){q[0]=d[0];q[1]=d[1];q[2]=d[2];return q};b.height=g;b.intersects=k;b.intersectsClippingArea=
function(d,q){return e.isNone(q)?!0:k(d,q)};b.is=M;b.isPoint=function(d){return 0===p(d)&&0===f(d)&&0===g(d)};b.maximumDimension=function(d){return Math.max(p(d),g(d),f(d))};b.offset=function(d,q,x,L,O=d){O[0]=d[0]+q;O[1]=d[1]+x;O[2]=d[2]+L;O[3]=d[3]+q;O[4]=d[4]+x;O[5]=d[5]+L;return O};b.scale=function(d,q,x=d){const L=d[0]+p(d)/2,O=d[1]+f(d)/2,P=d[2]+g(d)/2;x[0]=L+(d[0]-L)*q;x[1]=O+(d[1]-O)*q;x[2]=P+(d[2]-P)*q;x[3]=L+(d[3]-L)*q;x[4]=O+(d[4]-O)*q;x[5]=P+(d[5]-P)*q;return x};b.set=D;b.setMax=function(d,
q,x=d){x[3]=q[0];x[4]=q[1];x[5]=q[2];x!==d&&(x[0]=d[0],x[1]=d[1],x[2]=d[2]);return d};b.setMin=function(d,q,x=d){x[0]=q[0];x[1]=q[1];x[2]=q[2];x!==d&&(x[3]=d[3],x[4]=d[4],x[5]=d[5]);return x};b.size=function(d,q=[0,0,0]){q[0]=p(d);q[1]=f(d);q[2]=g(d);return q};b.toExtent=function(d,q){return isFinite(d[2])||isFinite(d[5])?new Z({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],zmin:d[2],zmax:d[5],spatialReference:q}):new Z({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],spatialReference:q})};b.toRect=function(d,
q){q||(q=C.create());q[0]=d[0];q[1]=d[1];q[2]=d[3];q[3]=d[4];return q};b.width=p;b.wrap=function(d,q,x,L,O,P){return v(d,q,x,L,O,P,y)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(b,e,Z){let C=function(){function v(p=null,f={},g,k){this.geometry=p;this.attributes=f;this.centroid=g;this.objectId=k;this.geohashY=this.geohashX=this.displayId=0}
v.prototype.weakClone=function(){const p=new v(this.geometry,this.attributes,this.centroid,this.objectId);p.displayId=this.displayId;p.geohashX=this.geohashX;p.geohashY=this.geohashY;return p};return v}(),B=function(v){function p(){return v.apply(this,arguments)||this}e._inheritsLoose(p,v);return p}(C);b.OptimizedFeature=C;b.OptimizedFeatureWithGeometry=B;b.hasGeometry=function(v){return!(Z.isNone(v.geometry)||!v.geometry.coords||!v.geometry.coords.length)};Object.defineProperty(b,Symbol.toStringTag,
{value:"Module"})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function b(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}b.prototype.weakClone=function(){const e=new b;e.objectIdFieldName=this.objectIdFieldName;
e.globalIdFieldName=this.globalIdFieldName;e.geohashFieldName=this.geohashFieldName;e.geometryProperties=this.geometryProperties;e.geometryType=this.geometryType;e.spatialReference=this.spatialReference;e.hasZ=this.hasZ;e.hasM=this.hasM;e.features=this.features;e.fields=this.fields;e.transform=this.transform;e.exceededTransferLimit=this.exceededTransferLimit;e.uniqueIdField=this.uniqueIdField;e.queryGeometry=this.queryGeometry;e.queryGeometryType=this.queryGeometryType;return e};return b}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],
function(b){return function(){function e(C=[],B=[],v=!1){this.lengths=C??[];this.coords=B??[];this.hasIndeterminateRingOrder=v}e.fromRect=function(C){const [B,v,p,f]=C;C=p-B;const g=f-v;return new e([5],[B,v,C,0,0,g,-C,0,0,-g])};var Z=e.prototype;Z.forEachVertex=function(C){let B=0;this.lengths.length||C(this.coords[0],this.coords[1]);for(let v=0;v<this.lengths.length;v++){const p=this.lengths[v];for(let f=0;f<p;f++)C(this.coords[2*(f+B)],this.coords[2*(f+B)+1]);B+=p}};Z.clone=function(C){return C?
(C.set(this.coords),new e(this.lengths.slice(),C,this.hasIndeterminateRingOrder)):new e(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};b._createClass(e,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((C,B)=>C+B)}}]);return e}()})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),
function(b,e,Z,C,B,v,p,f){function g(X,fa,ua){if(X)for(const Ca of X)(X=(X=v.getDeepValue(Ca,fa))&&"function"!==typeof X&&ua.get(X))&&v.setDeepValue(Ca,X.name,fa)}function k(X,fa){if(!X||!fa)return[];Ba.clear();D(Ba,X,fa);return Array.from(Ba).sort()}function D(X,fa,ua){if(ua)if(fa?.fields?.length)if(ua.includes("*"))for(const {name:Ca}of fa.fields)X.add(Ca);else for(const Ca of ua)M(X,fa,Ca);else if(ua.includes("*"))X.clear(),X.add("*");else for(const Ca of ua)null!=Ca&&X.add(Ca)}function M(X,fa,
ua){"string"===typeof ua&&(fa?(fa=fa.get(ua))&&X.add(fa.name):X.add(ua))}function G(X,fa,ua){return r.apply(this,arguments)}function r(){r=Z._asyncToGenerator(function*(X,fa,ua){if(ua){var {arcadeUtils:Ca}=yield f.loadArcade();ua=Ca.extractFieldNames(ua,fa?.fields?.map(Ha=>Ha.name));for(const Ha of ua)M(X,fa,Ha)}});return r.apply(this,arguments)}function y(X,fa,ua){return d.apply(this,arguments)}function d(){d=Z._asyncToGenerator(function*(X,fa,ua){if(ua&&"1\x3d1"!==ua){const Ca=(yield new Promise((Ha,
Pa)=>b(["../../core/sql/WhereClause"],Ha,Pa))).WhereClause.create(ua,fa);if(!Ca.isStandardized)throw new C("fieldUtils:collectFilterFields","Where clause is not standardized",{where:ua});D(X,fa,Ca.fieldNames)}});return d.apply(this,arguments)}function q(X,fa){for(const ua of X)if(ua&&ua.valueType&&ua.valueType===fa)return ua.name;return null}function x(){x=Z._asyncToGenerator(function*(X){if(!X)return[];const fa=new Set;yield L(fa,X);return Array.from(fa).sort()});return x.apply(this,arguments)}function L(X,
fa){return O.apply(this,arguments)}function O(){O=Z._asyncToGenerator(function*(X,fa){if(fa){var ua=fa.elevationInfo?.featureExpressionInfo;if(ua)return ua.collectRequiredFields(X,fa.fieldsIndex)}});return O.apply(this,arguments)}function P(){P=Z._asyncToGenerator(function*(X,fa,ua){if(fa&&ua&&"fields"in ua){var Ca=[];Ca.push(E(X,fa,ua.popupTemplate));ua.fields&&Ca.push(...ua.fields.map(function(){var Ha=Z._asyncToGenerator(function*(Pa){Pa.onStatisticExpression?G(X,fa.fieldsIndex,Pa.onStatisticExpression.expression):
X.add(Pa.onStatisticField)});return function(Pa){return Ha.apply(this,arguments)}}()));yield Promise.all(Ca)}});return P.apply(this,arguments)}function E(X,fa,ua){return t.apply(this,arguments)}function t(){t=Z._asyncToGenerator(function*(X,fa,ua){const Ca=[];ua?.expressionInfos&&Ca.push(...ua.expressionInfos.map(Ha=>G(X,fa.fieldsIndex,Ha.expression)));ua=ua?.content;if(Array.isArray(ua))for(const Ha of ua)"expression"===Ha.type&&Ha.expressionInfo&&Ca.push(G(X,fa.fieldsIndex,Ha.expressionInfo.expression));
yield Promise.all(Ca)});return t.apply(this,arguments)}function A(){A=Z._asyncToGenerator(function*(X,fa,ua){fa&&(fa.timeInfo&&B.isSome(ua)&&ua.timeExtent&&D(X,fa.fieldsIndex,[fa.timeInfo.startField,fa.timeInfo.endField]),fa.floorInfo&&D(X,fa.fieldsIndex,[fa.floorInfo.floorField]),B.isSome(ua)&&B.isSome(ua.where)&&(yield y(X,fa.fieldsIndex,ua.where)))});return A.apply(this,arguments)}function N(){N=Z._asyncToGenerator(function*(X,fa,ua){fa&&ua&&(yield Promise.all(ua.map(Ca=>la(X,fa,Ca))))});return N.apply(this,
arguments)}function la(X,fa,ua){return aa.apply(this,arguments)}function aa(){aa=Z._asyncToGenerator(function*(X,fa,ua){fa&&ua&&(ua.valueExpression?yield G(X,fa.fieldsIndex,ua.valueExpression):ua.field&&M(X,fa.fieldsIndex,ua.field))});return aa.apply(this,arguments)}function I(){I=Z._asyncToGenerator(function*(X){if(!X)return[];const fa="timeInfo"in X&&X.timeInfo;return fa?k(X.fieldsIndex,[X.trackIdField,fa.startField,fa.endField]):[]});return I.apply(this,arguments)}function K(){K=Z._asyncToGenerator(function*(X){if(!X)return[];
const fa=new Set;yield U(fa,X);return Array.from(fa).sort()});return K.apply(this,arguments)}function U(X,fa){return T.apply(this,arguments)}function T(){T=Z._asyncToGenerator(function*(X,fa){const {labelingInfo:ua,fieldsIndex:Ca}=fa;ua&&ua.length&&(yield Promise.all(ua.map(Ha=>ca(X,Ca,Ha))))});return T.apply(this,arguments)}function ca(X,fa,ua){return J.apply(this,arguments)}function J(){J=Z._asyncToGenerator(function*(X,fa,ua){if(ua){var Ca=ua.getLabelExpression();ua=ua.where;"arcade"===Ca.type?
yield G(X,fa,Ca.expression):(Ca=Ca.expression.match(/{[^}]*}/g))&&Ca.forEach(Ha=>{M(X,fa,Ha.slice(1,-1))});yield y(X,fa,ua)}});return J.apply(this,arguments)}function oa(X){return"number"===typeof X&&!isNaN(X)&&isFinite(X)}function ra(X){return null===X||oa(X)}function xa(X){return null===X||z(X)}function ka(X){return null!=X&&"string"===typeof X}function V(X){return null===X||ka(X)}function R(){return!0}function F(X,fa){let ua;switch(X.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":ua=
X.nullable?xa:z;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":ua=X.nullable?ra:oa;break;case "string":case "esriFieldTypeString":ua=X.nullable?V:ka;break;default:ua=R}return 1===arguments.length?ua:ua(fa)}function n(X){return null!=X&&ha.has(X.type)}function W(X,fa){return null==X||X.nullable&&null===fa?null:n(X)&&!za(X.type,Number(fa))?e.NumericRangeValidationError.OUT_OF_RANGE:F(X,fa)?X.domain?p.validateDomainValue(X.domain,fa):null:e.TypeValidationError.INVALID_TYPE}
function za(X,fa){X="string"===typeof X?Ea(X):X;if(!X)return!1;const ua=X.min,Ca=X.max;return X.isInteger?z(fa)&&fa>=ua&&fa<=Ca:fa>=ua&&fa<=Ca}function Ea(X){switch(X){case "esriFieldTypeSmallInteger":case "small-integer":return ba;case "esriFieldTypeInteger":case "integer":return na;case "esriFieldTypeSingle":case "single":return sa;case "esriFieldTypeDouble":case "double":return wa}}function Qa(X,fa,ua){if(!fa||!fa.attributes||!X){if(B.isSome(ua))for(var Ca of X??[])ua.add(Ca);return!0}fa=fa.attributes;
Ca=!1;for(const Ha of X)if(!(Ha in fa))if(Ca=!0,B.isSome(ua))ua.add(Ha);else break;return Ca}function Oa(){Oa=Z._asyncToGenerator(function*(X,fa){const ua=new Set;for(const Ca of fa)yield G(ua,X.fieldsIndex,Ca);return Array.from(ua).sort()});return Oa.apply(this,arguments)}const bb=/^([0-9])/,fb=/[^a-z0-9_\u0080-\uffff]/gi,vb=/_{2,}/g,h=/^_/,u=/_$/,ia="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),
pa=["field","normalizationField"],Ba=new Set,z=(()=>"isInteger"in Number?Number.isInteger:X=>"number"===typeof X&&isFinite(X)&&Math.floor(X)===X)(),S=["integer","small-integer","single","double"],ha=new Set([...S,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);e.NumericRangeValidationError=void 0;(e.NumericRangeValidationError||(e.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";e.TypeValidationError=void 0;
(e.TypeValidationError||(e.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const ba={min:-32768,max:32767,isInteger:!0},na={min:-2147483648,max:2147483647,isInteger:!0},sa={min:-3.4E38,max:1.2E38,isInteger:!1},wa={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};e.collectArcadeFieldNames=G;e.collectElevationFields=L;e.collectFeatureReductionFields=function(X,fa,ua){return P.apply(this,arguments)};e.collectField=M;e.collectFields=D;e.collectFilterFields=function(X,
fa,ua){return A.apply(this,arguments)};e.collectLabelingFields=U;e.collectOrderByInfos=function(X,fa,ua){return N.apply(this,arguments)};e.collectPopupTemplateFields=E;e.doubleRange=wa;e.featureHasFields=function(X,fa){return!Qa(X,fa,null)};e.fixFields=k;e.fixRendererFields=function(X,fa){if(null!=X&&null!=fa)for(const ua of Array.isArray(X)?X:[X])if(g(ia,ua,fa),"visualVariables"in ua&&ua.visualVariables)for(const Ca of ua.visualVariables)g(pa,Ca,fa)};e.fixTimeInfoFields=function(X,fa){if(null!=X&&
fa?.fields?.length)if("startField"in X){var ua=fa.get(X.startField);fa=fa.get(X.endField);X.startField=ua?.name??null;X.endField=fa?.name??null}else ua=fa.get(X.startTimeField),fa=fa.get(X.endTimeField),X.startTimeField=ua?.name??null,X.endTimeField=fa?.name??null};e.getDisplayFieldName=function({displayField:X,fields:fa}){if(X)return X;if(!fa||!fa.length)return null;if(!(X=q(fa,"name-or-title")||q(fa,"unique-identifier")||q(fa,"type-or-category")))a:{for(const ua of fa)if(ua&&ua.name&&(fa=ua.name.toLowerCase(),
fa.includes("name")||fa.includes("title"))){X=ua.name;break a}X=null}return X};e.getElevationFields=function(X){return x.apply(this,arguments)};e.getExpressionFields=function(X,fa){return Oa.apply(this,arguments)};e.getFeatureEditFields=function(X){if(!X)return[];const fa="editFieldsInfo"in X&&X.editFieldsInfo;return fa?k(X.fieldsIndex,[fa&&fa.creatorField,fa&&fa.creationDateField,fa&&fa.editorField,fa&&fa.editDateField]):[]};e.getFeatureGeometryFields=function(X){if(!X)return[];const fa=X.geometryFieldsInfo;
return fa?k(X.fieldsIndex,[fa.shapeAreaField,fa.shapeLengthField]):[]};e.getFieldDefaultValue=function(X){const fa=X.defaultValue;if(void 0!==fa&&F(X,fa))return fa;if(X.nullable)return null};e.getFieldRange=function(X){const fa=p.getDomainRange(X.domain);if(fa)return fa;if(n(X))return Ea(X.type)};e.getLabelingFields=function(X){return K.apply(this,arguments)};e.getNumericTypeForValue=function(X){if(!oa(X))return null;if(z(X)){if(X>=ba.min&&X<=ba.max)return"esriFieldTypeSmallInteger";if(X>=na.min&&
X<=na.max)return"esriFieldTypeInteger"}return X>=sa.min&&X<=sa.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};e.getTimeFields=function(X){return I.apply(this,arguments)};e.integerRange=na;e.isDateField=function(X){return null!=X&&("date"===X.type||"esriFieldTypeDate"===X.type)};e.isNumberInRange=za;e.isNumericField=n;e.isRasterPixelValueField=function(X){return X?["raster.itempixelvalue","raster.servicepixelvalue"].some(fa=>X.toLowerCase().startsWith(fa)):!1};e.isStringField=function(X){return null!=
X&&("string"===X.type||"esriFieldTypeString"===X.type)};e.isValidFieldValue=function(X,fa){return null===W(X,fa)};e.isValueMatchingFieldType=F;e.normalizeFieldName=function(X){return null==X?null:(X=X.trim().replace(fb,"_").replace(vb,"_").replace(h,"").replace(u,"").replace(bb,"F$1"))?X:null};e.numericTypes=S;e.packFields=function(X,fa,ua=1){if(!fa||!X)return[];if(fa.includes("*"))return["*"];fa=k(X,fa);return fa.length/X.fields.length>=ua?["*"]:fa};e.populateMissingFields=Qa;e.rendererFields=ia;
e.sanitizeNullFieldValue=function(X){return null==X||"number"===typeof X&&isNaN(X)?null:X};e.singleRange=sa;e.smallIntegerRange=ba;e.unpackFieldNames=function(X,fa){return B.isNone(fa)||B.isNone(X)?[]:fa.includes("*")?(X.fields??[]).map(ua=>ua.name):fa};e.validateFieldValue=W;e.validationErrorToString=function(X,fa,ua){switch(X){case p.DomainValidationError.INVALID_CODED_VALUE:return`Value ${ua} is not in the coded domain - field: ${fa.name}, domain: ${JSON.stringify(fa.domain)}`;case p.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${ua} is out of the range of valid values - field: ${fa.name}, domain: ${JSON.stringify(fa.domain)}`;
case e.TypeValidationError.INVALID_TYPE:return`Value ${ua} is not a valid value for the field type - field: ${fa.name}, type: ${fa.type}, nullable: ${fa.nullable}`;case e.NumericRangeValidationError.OUT_OF_RANGE:const {min:Ca,max:Ha}=Ea(fa.type);return`Value ${ua} is out of range for the number type - field: ${fa.name}, type: ${fa.type}, value range is ${Ca} to ${Ha}`}};e.visualVariableFields=pa;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports"],
function(b){b.DomainValidationError=void 0;(function(e){e.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";e.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(b.DomainValidationError||(b.DomainValidationError={}));b.getDomainRange=function(e){if(e&&"range"===e.type)return{min:"range"in e?e.range[0]:e.minValue,max:"range"in e?e.range[1]:e.maxValue}};b.validateDomainValue=function(e,Z){switch(e.type){case "range":const C="range"in e?e.range[0]:e.minValue;e="range"in
e?e.range[1]:e.maxValue;if(null!=C&&+Z<C||null!=e&&+Z>e)return b.DomainValidationError.VALUE_OUT_OF_RANGE;break;case "coded-value":if(null==e.codedValues||e.codedValues.every(B=>null==B||B.code!==Z))return b.DomainValidationError.INVALID_CODED_VALUE;break;case "codedValue":if(null==e.codedValues||e.codedValues.every(B=>null==B||B.code!==Z))return b.DomainValidationError.INVALID_CODED_VALUE}return null};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/Error ../core/Logger ../core/maybe ../geometry/SpatialReference".split(" "),
function(b,e,Z,C,B,v,p,f){function g(){D||(D=Z._asyncToGenerator(function*(){const G=yield new Promise((r,y)=>b(["./arcadeUtils"],r,y));return{arcade:G.arcade,arcadeUtils:G,Dictionary:G.Dictionary,Feature:G.arcadeFeature}})());return D}const k=v.getLogger("esri.support.arcadeOnDemand");let D;C=(G,r,y)=>M.create(G,r,y,null,["$feature","$view"]);let M=function(){function G(y,d,q,x,L,O,P){this.script=y;this.evaluate=x;this.fields=Array.isArray(O)?O:O.fields;this._syntaxTree=q;this._arcade=d;this._arcadeFeature=
L;this._spatialReference=P;this._referencesGeometry=d.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}G.create=function(){var y=Z._asyncToGenerator(function*(d,q,x,L,O,P){const {arcade:E,Feature:t,Dictionary:A}=yield g(),N=f.fromJSON(q);let la;try{la=E.parseScript(d,P)}catch(ca){return k.error(new B("arcade-bad-expression","Failed to parse arcade script",{script:d,error:ca})),null}O=O.reduce((ca,J)=>({...ca,[J]:null}),{});let aa=
null;p.isSome(L)&&(aa=new A(L),aa.immutable=!0,O.$config=null);P=(L=E.scriptUsesGeometryEngine(la))&&E.enableGeometrySupport();const I=E.scriptUsesFeatureSet(la)&&E.enableFeatureSetSupport(),K=(q=E.scriptIsAsync(la))&&E.enableAsyncSupport();O={vars:O,spatialReference:N,useAsync:!!K};yield Promise.all([P,I,K]);P=new Set;yield E.loadDependentModules(P,la,null,q,L);const U=new A;U.immutable=!1;U.setField("scale",0);const T=E.compileScript(la,O);return new G(d,E,la,ca=>{"$view"in ca&&ca.$view&&(U.setField("scale",
"object"===typeof ca.$view?ca.$view.scale:void 0),ca.$view=U);aa&&(ca.$config=aa);return T({vars:ca,spatialReference:N})},new t,x,N)});return function(d,q,x,L,O,P){return y.apply(this,arguments)}}();var r=G.prototype;r.repurposeFeature=function(y){y.geometry&&!y.geometry.spatialReference&&(y.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(y.geometry,y.attributes,{fields:this.fields});return this._arcadeFeature};r.referencesGeometry=function(){return this._referencesGeometry};
r.referencesScale=function(){return this._referencesScale};return G}();e.ArcadeExpression=M;e.createDictionaryExpression=(G,r,y,d)=>M.create(G,r,y,d,["$feature","$view"]);e.createLabelExpression=(G,r,y)=>M.create(G,r,y,null,["$feature"]);e.createRendererExpression=C;e.createVVExpression=C;e.loadArcade=g;Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Octree":function(){define("../../../../chunks/_rollupPluginBabelHelpers ../../../../core/maybe ../../../../core/ObjectPool ../../../../core/PooledArray ../../../../chunks/vec3 ../../../../chunks/vec3f64 ../../../../geometry/support/frustum ../../../../geometry/support/ray ../../../../chunks/sphere ./Util".split(" "),
function(b,e,Z,C,B,v,p,f,g,k){function D(ra,xa,ka){ka[0]=ra[0]+xa;ka[1]=ra[1]+xa;ka[2]=ra[2]+xa}function M(ra,xa,ka,V){if(1===xa)ra=ka(ra[0]),g.copy(ra,V);else{N[0]=Infinity;N[1]=Infinity;N[2]=Infinity;la[0]=-Infinity;la[1]=-Infinity;la[2]=-Infinity;for(let W=0;W<xa;W++){var R=ka(ra[W]);if(d(R[3])){var F=N,n=R;F[0]=Math.min(F[0],n[0]-n[3]);F[1]=Math.min(F[1],n[1]-n[3]);F[2]=Math.min(F[2],n[2]-n[3]);F=la;F[0]=Math.max(F[0],R[0]+R[3]);F[1]=Math.max(F[1],R[1]+R[3]);F[2]=Math.max(F[2],R[2]+R[3])}}B.lerp(V,
N,la,.5);V[3]=Math.max(la[0]-N[0],la[1]-N[1],la[2]-N[2])/2}}function G(ra,xa,ka){if(!J.length)for(var V=0;8>V;++V)J.push({index:0,distance:0});for(V=0;8>V;++V){const R=L[V];J.data[V].index=V;J.data[V].distance=y(ra,xa,R)}J.sort((R,F)=>R.distance-F.distance);for(ra=0;8>ra;++ra)ka[ra]=J.data[ra].index}function r(ra,xa){let ka=Infinity,V;for(let R=0;8>R;++R){const F=y(ra,xa,O[R]);F<ka&&(ka=F,V=O[R])}return V}function y(ra,xa,ka){return xa*(ra[0]*ka[0]+ra[1]*ka[1]+ra[2]*ka[2])}function d(ra){return!isNaN(ra)&&
-Infinity!==ra&&Infinity!==ra&&0<ra}let q=function(){function ra(ka,V){this._objectToBoundingSphere=ka;this._maximumObjectsPerNode=10;this._maximumDepth=20;this._degenerateObjects=new Set;this._root=new x;this._objectCount=0;V&&(void 0!==V.maximumObjectsPerNode&&(this._maximumObjectsPerNode=V.maximumObjectsPerNode),void 0!==V.maximumDepth&&(this._maximumDepth=V.maximumDepth))}var xa=ra.prototype;xa.destroy=function(){this._degenerateObjects.clear();x.clearPool();E[0]=null;aa.prune();J.prune()};xa.add=
function(ka,V=ka.length){this._objectCount+=V;this._grow(ka,V);const R=x.acquire();for(let F=0;F<V;F++){const n=ka[F];this._isDegenerate(n)?this._degenerateObjects.add(n):(R.init(this._root),this._add(n,R))}x.release(R)};xa.remove=function(ka,V=null){this._objectCount-=ka.length;const R=x.acquire();for(const F of ka)ka=e.isSome(V)?V:g.copy(this._objectToBoundingSphere(F),I),d(ka[3])?(R.init(this._root),this._remove(F,ka,R)):this._degenerateObjects.delete(F);x.release(R);this._shrink()};xa.update=
function(ka,V){if(d(V[3])||!this._isDegenerate(ka))E[0]=ka,ka=E,this.remove(ka,V),this.add(ka)};xa.forEachAlongRay=function(ka,V,R){const F=f.wrap(ka,V);this._forEachNode(this._root,n=>{if(!this._intersectsNode(F,n))return!1;n=n.node;n.terminals.forAll(W=>{this._intersectsObject(F,W)&&R(W)});null!==n.residents&&n.residents.forAll(W=>{this._intersectsObject(F,W)&&R(W)});return!0})};xa.forEachAlongRayWithVerticalOffset=function(ka,V,R,F){const n=f.wrap(ka,V);this._forEachNode(this._root,W=>{if(!this._intersectsNodeWithOffset(n,
W,F))return!1;W=W.node;W.terminals.forAll(za=>{this._intersectsObjectWithOffset(n,za,F)&&R(za)});null!==W.residents&&W.residents.forAll(za=>{this._intersectsObjectWithOffset(n,za,F)&&R(za)});return!0})};xa.forEach=function(ka){this._forEachNode(this._root,V=>{V=V.node;V.terminals.forAll(ka);null!==V.residents&&V.residents.forAll(ka);return!0});this._degenerateObjects.forEach(ka)};xa.forEachDegenerateObject=function(ka){this._degenerateObjects.forEach(ka)};xa.findClosest=function(ka,V,R,F=()=>!0,n=
Infinity){let W=Infinity,za=Infinity,Ea=null;const Qa=r(ka,V),Oa=bb=>{--n;if(F(bb)){var fb=this._objectToBoundingSphere(bb);if(p.intersectsSphere(R,fb)){var vb=y(ka,V,g.getCenter(fb)),h=vb-fb[3];fb=vb+fb[3];h<W&&(W=h,za=fb,Ea=bb)}}};this._forEachNodeDepthOrdered(this._root,bb=>{if(0>=n||!p.intersectsSphere(R,bb.bounds))return!1;B.scale(A,Qa,bb.halfSize);B.add(A,A,bb.bounds);if(y(ka,V,A)>za)return!1;bb=bb.node;bb.terminals.forAll(fb=>Oa(fb));null!==bb.residents&&bb.residents.forAll(fb=>Oa(fb));return!0},
ka,V);return Ea};xa.forEachInDepthRange=function(ka,V,R,F,n,W,za){let Ea=-Infinity,Qa=Infinity;const Oa={setRange:u=>{R===ra.DepthOrder.FRONT_TO_BACK?(Ea=Math.max(Ea,u.near),Qa=Math.min(Qa,u.far)):(Ea=Math.max(Ea,-u.far),Qa=Math.min(Qa,-u.near))}};Oa.setRange(F);const bb=y(V,R,ka),fb=r(V,R),vb=r(V,-R),h=u=>{if(za(u)){var ia=this._objectToBoundingSphere(u),pa=g.getCenter(ia);pa=y(V,R,pa)-bb;var Ba=pa+ia[3];pa-ia[3]>Qa||Ba<Ea||!p.intersectsSphere(W,ia)||n(u,Oa)}};this._forEachNodeDepthOrdered(this._root,
u=>{if(!p.intersectsSphere(W,u.bounds))return!1;B.scale(A,fb,u.halfSize);B.add(A,A,u.bounds);if(y(V,R,A)-bb>Qa)return!1;B.scale(A,vb,u.halfSize);B.add(A,A,u.bounds);if(y(V,R,A)-bb<Ea)return!1;u=u.node;u.terminals.forAll(ia=>h(ia));null!==u.residents&&u.residents.forAll(ia=>h(ia));return!0},V,R)};xa.forEachNode=function(ka){this._forEachNode(this._root,V=>ka(V.node,V.bounds,V.halfSize))};xa.forEachNeighbor=function(ka,V){const R=g.getRadius(V),F=g.getCenter(V),n=Ea=>{const Qa=this._objectToBoundingSphere(Ea);
var Oa=g.getRadius(Qa);Oa=R+Oa;return 0>=B.squaredDistance(g.getCenter(Qa),F)-Oa*Oa?ka(Ea):!0};let W=!0;const za=Ea=>{W&&(W=n(Ea))};this._forEachNode(this._root,Ea=>{var Qa=g.getRadius(Ea.bounds);Qa=R+Qa;if(0<B.squaredDistance(g.getCenter(Ea.bounds),F)-Qa*Qa)return!1;Ea=Ea.node;Ea.terminals.forAll(za);W&&null!==Ea.residents&&Ea.residents.forAll(za);return W});W&&this.forEachDegenerateObject(za)};xa._intersectsNode=function(ka,V){D(V.bounds,2*-V.halfSize,N);D(V.bounds,2*V.halfSize,la);return k.rayBoxTest(ka.origin,
ka.direction,N,la)};xa._intersectsNodeWithOffset=function(ka,V,R){D(V.bounds,2*-V.halfSize,N);D(V.bounds,2*V.halfSize,la);R.applyToMinMax(N,la);return k.rayBoxTest(ka.origin,ka.direction,N,la)};xa._intersectsObject=function(ka,V){V=this._objectToBoundingSphere(V);return 0<V[3]?g.intersectsRay(V,ka):!0};xa._intersectsObjectWithOffset=function(ka,V,R){V=this._objectToBoundingSphere(V);return 0<V[3]?g.intersectsRay(R.applyToBoundingSphere(V),ka):!0};xa._forEachNode=function(ka,V){ka=x.acquire().init(ka);
const R=[ka];for(;0!==R.length;){ka=R.pop();if(V(ka)&&!ka.isLeaf())for(let F=0;F<ka.node.children.length;F++)ka.node.children[F]&&R.push(x.acquire().init(ka).advance(F));x.release(ka)}};xa._forEachNodeDepthOrdered=function(ka,V,R,F=ra.DepthOrder.FRONT_TO_BACK){ka=x.acquire().init(ka);const n=[ka];for(G(R,F,oa);0!==n.length;){ka=n.pop();if(V(ka)&&!ka.isLeaf())for(R=7;0<=R;--R)F=oa[R],ka.node.children[F]&&n.push(x.acquire().init(ka).advance(F));x.release(ka)}};xa._remove=function(ka,V,R){aa.clear();
V=R.advanceTo(V,(F,n)=>{aa.push(F.node);aa.push(n)})?R.node.terminals:R.node.residents;V.removeUnordered(ka);if(0===V.length)for(ka=aa.length-2;0<=ka&&this._purge(aa.data[ka],aa.data[ka+1]);ka-=2);};xa._nodeIsEmpty=function(ka){if(0!==ka.terminals.length)return!1;if(null!==ka.residents)return 0===ka.residents.length;for(let V=0;V<ka.children.length;V++)if(ka.children[V])return!1;return!0};xa._purge=function(ka,V){0<=V&&(ka.children[V]=null);return this._nodeIsEmpty(ka)?(null===ka.residents&&(ka.residents=
new C({shrink:!0})),!0):!1};xa._add=function(ka,V){V.advanceTo(this._objectToBoundingSphere(ka))?V.node.terminals.push(ka):(V.node.residents.push(ka),V.node.residents.length>this._maximumObjectsPerNode&&V.depth<this._maximumDepth&&this._split(V))};xa._split=function(ka){const V=ka.node.residents;ka.node.residents=null;for(let R=0;R<V.length;R++){const F=x.acquire().init(ka);this._add(V.getItemAt(R),F);x.release(F)}};xa._grow=function(ka,V){0!==V&&(M(ka,V,R=>this._objectToBoundingSphere(R),K),d(K[3])&&
!this._fitsInsideTree(K)&&(this._nodeIsEmpty(this._root.node)?(g.copy(K,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize()):(ka=this._rootBoundsForRootAsSubNode(K),this._placingRootViolatesMaxDepth(ka)?this._rebuildTree(K,ka):this._growRootAsSubNode(ka),x.release(ka))))};xa._rebuildTree=function(ka,V){B.copy(U,V.bounds);U[3]=V.halfSize;M([ka,U],2,R=>R,T);ka=x.acquire().init(this._root);this._root.initFrom(null,T,T[3]);this._root.increaseHalfSize(1.25);
this._forEachNode(ka,R=>{this.add(R.node.terminals.data,R.node.terminals.length);null!==R.node.residents&&this.add(R.node.residents.data,R.node.residents.length);return!0});x.release(ka)};xa._placingRootViolatesMaxDepth=function(ka){const V=Math.log(ka.halfSize/this._root.halfSize)*Math.LOG2E;let R=0;this._forEachNode(this._root,F=>{R=Math.max(R,F.depth);return R+V<=this._maximumDepth});return R+V>this._maximumDepth};xa._rootBoundsForRootAsSubNode=function(ka){var V=ka[3],R=-Infinity;const F=this._root.bounds,
n=this._root.halfSize;for(var W=0;3>W;W++){var za=Math.max(0,Math.ceil((F[W]-n-(ka[W]-V))/(2*n)));const Ea=Math.max(0,Math.ceil((ka[W]+V-(F[W]+n))/(2*n)))+1;R=Math.max(R,2**Math.ceil(Math.log(za+Ea)*Math.LOG2E));ca[W].min=za;ca[W].max=Ea}for(ka=0;3>ka;ka++)V=ca[ka].min,W=ca[ka].max,za=(R-(V+W))/2,V+=Math.ceil(za),W+=Math.floor(za),t[ka]=F[ka]-n-V*n*2+(W+V)*n;R*=n;t[3]=R*P;return x.acquire().initFrom(null,t,R,0)};xa._growRootAsSubNode=function(ka){const V=this._root.node;B.copy(K,this._root.bounds);
K[3]=this._root.halfSize;this._root.init(ka);ka.advanceTo(K,null,!0);ka.node.children=V.children;ka.node.residents=V.residents;ka.node.terminals=V.terminals};xa._shrink=function(){for(;;){const ka=this._findShrinkIndex();if(-1===ka)break;this._root.advance(ka);this._root.depth=0}};xa._findShrinkIndex=function(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let ka=null;const V=this._root.node.children;let R=0,F=0;for(;F<V.length&&null==ka;)R=F++,ka=V[R];for(;F<V.length;)if(V[F++])return-1;
return R};xa._isDegenerate=function(ka){ka=this._objectToBoundingSphere(ka)[3];return!d(ka)};xa._fitsInsideTree=function(ka){const V=this._root.bounds,R=this._root.halfSize;return ka[3]<=R&&ka[0]>=V[0]-R&&ka[0]<=V[0]+R&&ka[1]>=V[1]-R&&ka[1]<=V[1]+R&&ka[2]>=V[2]-R&&ka[2]<=V[2]+R};b._createClass(ra,[{key:"bounds",get:function(){return this._root.bounds}},{key:"halfSize",get:function(){return this._root.halfSize}},{key:"root",get:function(){return this._root.node}},{key:"maximumObjectsPerNode",get:function(){return this._maximumObjectsPerNode}},
{key:"maximumDepth",get:function(){return this._maximumDepth}},{key:"objectCount",get:function(){return this._objectCount}}]);return ra}(),x=function(){function ra(){this.bounds=g.create();this.halfSize=0;this.initFrom(null,null,0,0)}var xa=ra.prototype;xa.init=function(ka){return this.initFrom(ka.node,ka.bounds,ka.halfSize,ka.depth)};xa.initFrom=function(ka,V,R,F=this.depth){this.node=e.isSome(ka)?ka:ra.createEmptyNode();e.isSome(V)&&g.copy(V,this.bounds);this.halfSize=R;this.depth=F;return this};
xa.increaseHalfSize=function(ka){this.halfSize*=ka;this.updateBoundsRadiusFromHalfSize()};xa.updateBoundsRadiusFromHalfSize=function(){this.bounds[3]=this.halfSize*P};xa.advance=function(ka){let V=this.node.children[ka];V||(V=ra.createEmptyNode(),this.node.children[ka]=V);this.node=V;this.halfSize/=2;this.depth++;ka=L[ka];this.bounds[0]+=ka[0]*this.halfSize;this.bounds[1]+=ka[1]*this.halfSize;this.bounds[2]+=ka[2]*this.halfSize;this.updateBoundsRadiusFromHalfSize();return this};xa.advanceTo=function(ka,
V,R=!1){for(;;){if(this.isTerminalFor(ka))return V&&V(this,-1),!0;if(this.isLeaf()){if(!R)return V&&V(this,-1),!1;this.node.residents=null}const F=this._childIndex(ka);V&&V(this,F);this.advance(F)}};xa.isLeaf=function(){return null!=this.node.residents};xa.isTerminalFor=function(ka){return ka[3]>this.halfSize/2};xa._childIndex=function(ka){const V=this.bounds;return(V[0]<ka[0]?1:0)+(V[1]<ka[1]?2:0)+(V[2]<ka[2]?4:0)};ra.createEmptyNode=function(){return{children:[null,null,null,null,null,null,null,
null],terminals:new C({shrink:!0}),residents:new C({shrink:!0})}};ra.acquire=function(){return ra._pool.acquire()};ra.release=function(ka){ra._pool.release(ka)};ra.clearPool=function(){ra._pool.prune()};return ra}();x._pool=new Z(x);(function(ra){ra=ra.DepthOrder||(ra.DepthOrder={});ra[ra.FRONT_TO_BACK=1]="FRONT_TO_BACK";ra[ra.BACK_TO_FRONT=-1]="BACK_TO_FRONT"})(q||(q={}));const L=[v.fromValues(-1,-1,-1),v.fromValues(1,-1,-1),v.fromValues(-1,1,-1),v.fromValues(1,1,-1),v.fromValues(-1,-1,1),v.fromValues(1,
-1,1),v.fromValues(-1,1,1),v.fromValues(1,1,1)],O=[v.fromValues(-1,-1,-1),v.fromValues(-1,-1,1),v.fromValues(-1,1,-1),v.fromValues(-1,1,1),v.fromValues(1,-1,-1),v.fromValues(1,-1,1),v.fromValues(1,1,-1),v.fromValues(1,1,1)],P=Math.sqrt(3),E=[null],t=g.create(),A=v.create(),N=v.create(),la=v.create(),aa=new C,I=g.create(),K=g.create(),U=g.create(),T=g.create(),ca=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],J=new C,oa=[0,0,0,0,0,0,0,0];return q})},"esri/geometry/support/frustum":function(){define("exports ../../core/ObjectStack ../../chunks/mat4 ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/vec4 ../../chunks/vec4f64 ./clipRay ./plane ./vectorStacks".split(" "),
function(b,e,Z,C,B,v,p,f,g,k){function D(){return[B.create(),B.create(),B.create(),B.create(),B.create(),B.create(),B.create(),B.create()]}function M(x,L){g.fromPoints(L[b.PointIndex.FAR_BOTTOM_LEFT],L[b.PointIndex.NEAR_BOTTOM_LEFT],L[b.PointIndex.NEAR_TOP_LEFT],x[b.PlaneIndex.LEFT]);g.fromPoints(L[b.PointIndex.NEAR_BOTTOM_RIGHT],L[b.PointIndex.FAR_BOTTOM_RIGHT],L[b.PointIndex.FAR_TOP_RIGHT],x[b.PlaneIndex.RIGHT]);g.fromPoints(L[b.PointIndex.FAR_BOTTOM_LEFT],L[b.PointIndex.FAR_BOTTOM_RIGHT],L[b.PointIndex.NEAR_BOTTOM_RIGHT],
x[b.PlaneIndex.BOTTOM]);g.fromPoints(L[b.PointIndex.NEAR_TOP_LEFT],L[b.PointIndex.NEAR_TOP_RIGHT],L[b.PointIndex.FAR_TOP_RIGHT],x[b.PlaneIndex.TOP]);g.fromPoints(L[b.PointIndex.NEAR_BOTTOM_LEFT],L[b.PointIndex.NEAR_BOTTOM_RIGHT],L[b.PointIndex.NEAR_TOP_RIGHT],x[b.PlaneIndex.NEAR]);g.fromPoints(L[b.PointIndex.FAR_BOTTOM_RIGHT],L[b.PointIndex.FAR_BOTTOM_LEFT],L[b.PointIndex.FAR_TOP_LEFT],x[b.PlaneIndex.FAR])}function G(x,L){for(let O=0;O<b.NumPlanes.NUM;O++)if(!g.clip(x[O],L))return!1;return!0}b.PlaneIndex=
void 0;(function(x){x[x.LEFT=0]="LEFT";x[x.RIGHT=1]="RIGHT";x[x.BOTTOM=2]="BOTTOM";x[x.TOP=3]="TOP";x[x.NEAR=4]="NEAR";x[x.FAR=5]="FAR"})(b.PlaneIndex||(b.PlaneIndex={}));b.PointIndex=void 0;(function(x){x[x.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT";x[x.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT";x[x.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT";x[x.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT";x[x.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT";x[x.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT";x[x.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT";x[x.FAR_TOP_LEFT=
7]="FAR_TOP_LEFT"})(b.PointIndex||(b.PointIndex={}));const r={bottom:[b.PointIndex.FAR_BOTTOM_RIGHT,b.PointIndex.NEAR_BOTTOM_RIGHT,b.PointIndex.NEAR_BOTTOM_LEFT,b.PointIndex.FAR_BOTTOM_LEFT],near:[b.PointIndex.NEAR_BOTTOM_LEFT,b.PointIndex.NEAR_BOTTOM_RIGHT,b.PointIndex.NEAR_TOP_RIGHT,b.PointIndex.NEAR_TOP_LEFT],far:[b.PointIndex.FAR_BOTTOM_RIGHT,b.PointIndex.FAR_BOTTOM_LEFT,b.PointIndex.FAR_TOP_LEFT,b.PointIndex.FAR_TOP_RIGHT],right:[b.PointIndex.NEAR_BOTTOM_RIGHT,b.PointIndex.FAR_BOTTOM_RIGHT,b.PointIndex.FAR_TOP_RIGHT,
b.PointIndex.NEAR_TOP_RIGHT],left:[b.PointIndex.FAR_BOTTOM_LEFT,b.PointIndex.NEAR_BOTTOM_LEFT,b.PointIndex.NEAR_TOP_LEFT,b.PointIndex.FAR_TOP_LEFT],top:[b.PointIndex.FAR_TOP_LEFT,b.PointIndex.NEAR_TOP_LEFT,b.PointIndex.NEAR_TOP_RIGHT,b.PointIndex.FAR_TOP_RIGHT]};b.NumPlanes=void 0;(function(x){x[x.NUM=6]="NUM"})(b.NumPlanes||(b.NumPlanes={}));b.NumPoints=void 0;(function(x){x[x.NUM=8]="NUM"})(b.NumPoints||(b.NumPoints={}));const y=[p.fromValues(-1,-1,-1,1),p.fromValues(1,-1,-1,1),p.fromValues(1,1,
-1,1),p.fromValues(-1,1,-1,1),p.fromValues(-1,-1,1,1),p.fromValues(1,-1,1,1),p.fromValues(1,1,1,1),p.fromValues(-1,1,1,1)],d=new e.ObjectStack(f.create),q=D();b.computePlanes=M;b.copy=function(x,L){for(let O=0;O<b.NumPlanes.NUM;O++)g.copy(x[O],L[O])};b.create=function(x){return x?[g.create(x[0]),g.create(x[1]),g.create(x[2]),g.create(x[3]),g.create(x[4]),g.create(x[5])]:[g.create(),g.create(),g.create(),g.create(),g.create(),g.create()]};b.createPoints=D;b.fromMatrix=function(x,L,O,P=q){x=Z.multiply(k.sm4d.get(),
L,x);Z.invert(x,x);for(L=0;L<b.NumPoints.NUM;++L){const E=v.transformMat4(k.sv4d.get(),y[L],x);C.set(P[L],E[0]/E[3],E[1]/E[3],E[2]/E[3])}M(O,P)};b.intersectClipRay=function(x,L){for(let O=0;O<b.NumPlanes.NUM;O++)if(!g.clipInfinite(x[O],L))return!1;return!0};b.intersectsLineSegment=function(x,L,O){return G(x,f.fromLineSegmentAndDirection(L,O,d.get()))};b.intersectsPoint=function(x,L){for(let O=0;O<b.NumPlanes.NUM;O++)if(0<g.signedDistance(x[O],L))return!1;return!0};b.intersectsRay=function(x,L){return G(x,
f.fromRay(L,d.get()))};b.intersectsSphere=function(x,L){for(let O=0;O<b.NumPlanes.NUM;O++){const P=x[O];if(P[0]*L[0]+P[1]*L[1]+P[2]*L[2]+P[3]>=L[3])return!1}return!0};b.planePointIndices=r;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/clipRay":function(){define(["exports","../../core/ObjectStack","../../chunks/vec3","./ray"],function(b,e,Z,C){function B(g){return g?{ray:C.create(g.ray),c0:g.c0,c1:g.c1}:{ray:C.create(),c0:0,c1:Number.MAX_VALUE}}function v(g,
k,D,M=B()){C.copy(g,M.ray);M.c0=k;M.c1=D;return M}function p(g,k,D){return Z.add(D,g.ray.origin,Z.scale(D,g.ray.direction,k))}const f=new e.ObjectStack(()=>B());b.copy=function(g,k=B()){return v(g.ray,g.c0,g.c1,k)};b.create=B;b.fromLineSegmentAndDirection=function(g,k,D=B()){const M=Z.length(g.vector);C.fromValues(g.origin,k,D.ray);D.c0=0;D.c1=M;return D};b.fromRay=function(g,k=B()){C.copy(g,k.ray);k.c0=0;k.c1=Number.MAX_VALUE;return k};b.fromValues=v;b.getAt=p;b.getEnd=function(g,k){return p(g,g.c1,
k)};b.getStart=function(g,k){return p(g,g.c0,k)};b.wrap=function(g,k,D){const M=f.get();M.ray=g;M.c0=k;M.c1=D;return M};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/plane":function(){define("exports ../../core/mathUtils ../../core/maybe ../../chunks/vec3 ../../chunks/vec3f64 ../../chunks/sphere ./vector ./vectorStacks ../../views/3d/support/mathUtils".split(" "),function(b,e,Z,C,B,v,p,f,g){function k(I=A){return[I[0],I[1],I[2],I[3]]}function D(I,K){return M(K[0],
K[1],K[2],K[3],I)}function M(I,K,U,T,ca=k()){ca[0]=I;ca[1]=K;ca[2]=U;ca[3]=T;return ca}function G(I,K,U){var T=K[0]*K[0]+K[1]*K[1]+K[2]*K[2];T=1E-5<Math.abs(T-1)&&1E-12<T?1/Math.sqrt(T):1;U[0]=K[0]*T;U[1]=K[1]*T;U[2]=K[2]*T;U[3]=-(U[0]*I[0]+U[1]*I[1]+U[2]*I[2]);return U}function r(I,K,U,T=k()){var ca=U[0]-K[0],J=U[1]-K[1],oa=U[2]-K[2];U=I[0]-K[0];const ra=I[1]-K[1],xa=I[2]-K[2];K=J*xa-oa*ra;oa=oa*U-ca*xa;ca=ca*ra-J*U;J=K*K+oa*oa+ca*ca;J=1E-5<Math.abs(J-1)&&1E-12<J?1/Math.sqrt(J):1;T[0]=K*J;T[1]=oa*
J;T[2]=ca*J;T[3]=-(T[0]*I[0]+T[1]*I[1]+T[2]*I[2]);return T}function y(I,K,U,T,ca){const J=I.length/3;if(3>J)return!1;C.set(L,I[3*U],I[3*U+1],I[3*U+2]);let oa=T;for(var ra=!1;oa<J-1&&!ra;)ra=3*oa,C.set(O,I[ra],I[ra+1],I[ra+2]),oa++,ra=!C.exactEquals(L,O);if(!ra)return!1;oa=Math.max(oa,ca);for(ra=!1;oa<J&&!ra;)ra=3*oa,C.set(P,I[ra],I[ra+1],I[ra+2]),oa++,C.subtract(E,L,O),C.normalize(E,E),C.subtract(t,O,P),C.normalize(t,t),ra=!C.exactEquals(L,P)&&!C.exactEquals(O,P)&&.99619469809>Math.abs(C.dot(E,t));
if(!ra)return 0===U&&1===T&&2===ca?!1:y(I,K,0,1,2);r(L,O,P,K);return!0}function d(I,K,U){I=C.scale(f.sv3d.get(),I,C.dot(I,K));C.subtract(U,K,I);return U}function q(I,K){return C.dot(I,K)+I[3]}function x(I,K,U,T,ca){const J=C.dot(I,U);if(0===J)return!1;I=-(C.dot(I,K)+I[3])/J;T&N.CLAMP&&(I=e.clamp(I,0,1));if(!(T&N.INFINITE_MIN)&&0>I||!(T&N.INFINITE_MAX)&&1<I)return!1;C.add(ca,K,C.scale(ca,U,I));return!0}const L=B.create(),O=B.create(),P=B.create(),E=B.create(),t=B.create(),A=[0,0,1,0];var N;(function(I){I[I.NONE=
0]="NONE";I[I.CLAMP=1]="CLAMP";I[I.INFINITE_MIN=4]="INFINITE_MIN";I[I.INFINITE_MAX=8]="INFINITE_MAX"})(N||(N={}));const la=N.INFINITE_MIN|N.INFINITE_MAX,aa=N.INFINITE_MAX;b.UP=A;b.clip=function(I,K){const U=C.dot(I,K.ray.direction);I=-q(I,K.ray.origin);if(0>I&&0<=U)return!1;if(-1E-6<U&&1E-6>U)return 0<I;if((0>I||0>U)&&!(0>I&&0>U))return!0;I/=U;0<U?I<K.c1&&(K.c1=I):I>K.c0&&(K.c0=I);return K.c0<=K.c1};b.clipInfinite=function(I,K){const U=C.dot(I,K.ray.direction);I=-q(I,K.ray.origin);if(-1E-6<U&&1E-6>
U)return 0<I;I/=U;0<U?I<K.c1&&(K.c1=I):I>K.c0&&(K.c0=I);return K.c0<=K.c1};b.copy=D;b.create=k;b.distance=function(I,K){return Math.abs(q(I,K))};b.fromManyPoints=function(I,K){return y(I,K,0,1,2)};b.fromManyPointsSampleAt=y;b.fromNormalAndOffset=function(I,K,U){C.copy(U,I);U[3]=K;return U};b.fromPoints=r;b.fromPositionAndNormal=G;b.fromValues=M;b.fromVectorsAndPoint=function(I,K,U,T){C.cross(P,K,I);return G(U,P,T)};b.intersectLine=function(I,K,U,T){U=C.subtract(f.sv3d.get(),U,K);return x(I,K,U,la,
T)};b.intersectLineSegment=function(I,K,U){return x(I,K.origin,K.vector,N.NONE,U)};b.intersectLineSegmentClamp=function(I,K,U){return x(I,K.origin,K.vector,N.CLAMP,U)};b.intersectRay=function(I,K,U){return Z.isSome(K)?x(I,K.origin,K.direction,aa,U):!1};b.isPointInside=function(I,K){return 0<=q(I,K)};b.isPointOutside=function(I,K){return 0>q(I,K)};b.isSphereFullyInside=function(I,K){return 0<=q(I,v.getCenter(K))-K[3]};b.isSphereFullyOutside=function(I,K){return 0>q(I,v.getCenter(K))+K[3]};b.negate=
function(I,K){K[0]=-I[0];K[1]=-I[1];K[2]=-I[2];K[3]=-I[3];return K};b.normal=function(I){return I};b.projectPoint=function(I,K,U){const T=C.scale(f.sv3d.get(),I,-I[3]);K=C.subtract(f.sv3d.get(),K,T);I=d(I,K,f.sv3d.get());C.add(U,I,T);return U};b.projectPointLocal=function(I,K,U,T){var ca=f.sv3d.get(),J=f.sv3d.get();g.tangentFrame(I,ca,J);K=C.subtract(f.sv3d.get(),U,K);ca=p.projectPointSignedLength(ca,K);J=p.projectPointSignedLength(J,K);I=p.projectPointSignedLength(I,K);return C.set(T,ca,J,I)};b.projectVector=
d;b.setOffsetFromPoint=function(I,K,U){K!==I&&D(I,K);I[3]=-C.dot(I,U);return I};b.signedDistance=q;b.wrap=function(I=A[0],K=A[1],U=A[2],T=A[3]){return M(I,K,U,T,f.sv4d.get())};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/mathUtils":function(){define(["exports","../../../core/mathUtils","../../../chunks/vec3","../../../chunks/vec3f64"],function(b,e,Z,C){const B=C.create(),v=C.create(),p=C.create(),f=C.create(),g=C.create();b.angle=function(k,D,M){k=Z.normalize(f,
k);D=Z.normalize(g,D);const G=e.acosClamped(Z.dot(k,D));return M&&(k=Z.cross(p,k,D),0>Z.dot(k,M))?-G:G};b.bilerp=function(k,D,M,G,r,y){k+=(D-k)*r;return k+(M+(G-M)*r-k)*y};b.cosCapped=function(k,D){return k>D?Math.cos(D):Math.cos(k)};b.fovx2fovy=function(k,D,M){return 2*Math.atan(M*Math.tan(.5*k)/D)};b.fovy2fovx=function(k,D,M){return 2*Math.atan(D*Math.tan(.5*k)/M)};b.makeOrthonormal=function(k,D,M){M=M||k;const G=Z.dot(k,D);Z.set(M,k[0]-G*D[0],k[1]-G*D[1],k[2]-G*D[2]);Z.normalize(M,M)};b.makePiecewiseLinearFunction=
function(k){const D=k.length;return M=>{if(M<=k[0][0])return k[0][1];if(M>=k[D-1][0])return k[D-1][1];let G=1;for(;M>k[G][0];)G++;const r=k[G][0];M=(r-M)/(r-k[G-1][0]);return M*k[G-1][1]+(1-M)*k[G][1]}};b.maxScale=function(k){return Math.sqrt(Math.max(k[0]*k[0]+k[4]*k[4]+k[8]*k[8],k[1]*k[1]+k[5]*k[5]+k[9]*k[9],k[2]*k[2]+k[6]*k[6]+k[10]*k[10]))};b.moduloPositive=function(k,D){return(k%D+D)%D};b.planeFromPoints=function(k,D,M,G){Z.subtract(B,D,k);Z.subtract(v,M,k);Z.cross(G,B,v);Z.normalize(G,G);G[3]=
-Z.dot(k,G)};b.scaleFromMatrix=function(k,D){Z.set(k,Math.sqrt(D[0]*D[0]+D[4]*D[4]+D[8]*D[8]),Math.sqrt(D[1]*D[1]+D[5]*D[5]+D[9]*D[9]),Math.sqrt(D[2]*D[2]+D[6]*D[6]+D[10]*D[10]));return k};b.slerp=function(k,D,M,G=C.create()){const r=Z.length(k);var y=Z.length(D),d=Z.dot(k,D)/(r*y);if(.9999999999999999>d){d=Math.acos(d);const q=((1-M)*r+M*y)/Math.sin(d);y=q/y*Math.sin(M*d);Z.scale(f,k,q/r*Math.sin((1-M)*d));Z.scale(g,D,y);return Z.add(G,f,g)}return Z.lerp(G,k,D,M)};b.slerpTangent=function(k,D,M,G=
C.create(),r=C.create()){const y=Z.length(k),d=Z.length(D);var q=Z.dot(k,D)/(y*d);if(.9999999999999999>q){q=Math.acos(q);const x=Math.sin(q),L=Math.sin(M*q),O=Math.sin((1-M)*q),P=(1-M)*y+M*d,E=P/x,t=E/d*L;Z.scale(f,k,E/y*O);Z.scale(g,D,t);Z.add(G,f,g);Z.scale(f,k,1/y*(-Math.cos((1-M)*q)*q*P+O*(-y+d)));Z.scale(g,D,1/d*(Math.cos(M*q)*q*P+L*(-y+d)));Z.add(r,f,g);Z.scale(r,r,1/x);return r}Z.lerp(G,k,D,M);Z.subtract(r,D,k);Z.normalize(r,r);return r};b.tangentFrame=function(k,D,M){Math.abs(k[0])>Math.abs(k[1])?
Z.set(D,0,1,0):Z.set(D,1,0,0);Z.cross(M,k,D);Z.normalize(D,D);Z.cross(D,M,k);Z.normalize(M,M)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../chunks/vec2f64","../../../../chunks/vec4","../../../../chunks/vec4f64"],function(b,e,Z,C){function B(f,g){if(!f)throw g=g||"Assertion",new p(`${g} at ${Error(g).stack}`);}const v=C.create();let p=function(){function f(g){this.message=g}f.prototype.toString=function(){return`AssertException: ${this.message}`};
return f}();b.assert=B;b.isTranslationMatrix=function(f){return 1===f[0]&&0===f[1]&&0===f[2]&&0===f[3]&&0===f[4]&&1===f[5]&&0===f[6]&&0===f[7]&&0===f[8]&&0===f[9]&&1===f[10]&&0===f[11]&&1===f[15]};b.logWithBase=function(f,g){return Math.log(f)/Math.log(g)};b.project=function(f,g,k,D,M){v[0]=f[0];v[1]=f[1];v[2]=f[2];v[3]=1;Z.transformMat4(v,v,g);2<M.length&&(M[2]=-v[2]);Z.transformMat4(v,v,k);B(0!==v[3]);M[0]=v[0]/v[3];M[1]=v[1]/v[3];M[2]=v[2]/v[3];M[0]=(.5*M[0]+.5)*D[2]+D[0];M[1]=(.5*M[1]+.5)*D[3]+
D[1]};b.rayBoxTest=function(f,g,k,D){let M,G=(k[0]-f[0])/g[0],r=(D[0]-f[0])/g[0];G>r&&(M=G,G=r,r=M);let y=(k[1]-f[1])/g[1],d=(D[1]-f[1])/g[1];y>d&&(M=y,y=d,d=M);if(G>d||y>r)return!1;y>G&&(G=y);d<r&&(r=d);k=(k[2]-f[2])/g[2];f=(D[2]-f[2])/g[2];k>f&&(M=k,k=f,f=M);if(G>f||k>r)return!1;f<r&&(r=f);return 0>r?!1:!0};b.rayRay2D=function(f,g,k,D,M,G=e.create()){const r=(D[M]-k[M])*(g[0]-f[0])-(D[0]-k[0])*(g[M]-f[M]);if(0===r)return!1;k=((D[0]-k[0])*(f[M]-k[M])-(D[M]-k[M])*(f[0]-k[0]))/r;G[0]=f[0]+k*(g[0]-
f[0]);G[1]=f[M]+k*(g[M]-f[M]);return!0};b.setMatrixTranslation3=function(f,g,k,D){f[12]=g;f[13]=k;f[14]=D};b.verify=function(f,g){f||console.warn("Verify failed: "+(g||"")+"\n"+Error("verify").stack)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeProcessing":function(){define("exports ../../../../../geometry/support/meshUtils/deduplicate ../../../support/meshProcessing ../../../support/buffer/InterleavedLayout ../VertexAttribute ./bufferLayouts ./edgeBufferWriters ./edgePreprocessing".split(" "),
function(b,e,Z,C,B,v,p,f){function g(G,r,y,d){if(r)return r=Z.computeNeighbors(y,d,G.count),new k(y,d,r,G);G=e.deduplicate(G.buffer,G.stride/4,{originalIndices:y,originalIndicesLength:d});d=Z.computeNeighbors(G.indices,d,G.uniqueCount);return{faces:G.indices,facesLength:G.indices.length,neighbors:d,vertices:v.EdgeInputBufferLayout.createView(G.buffer)}}let k=function(G,r,y,d){this.faces=G;this.facesLength=r;this.neighbors=y;this.vertices=d};const D=new p.RegularEdgeBufferWriter,M=new p.SilhouetteEdgeBufferWriter;
p=C.newLayout().vec3f(B.VertexAttribute.POSITION0).vec3f(B.VertexAttribute.POSITION1);C=C.newLayout().vec3f(B.VertexAttribute.POSITION0).vec3f(B.VertexAttribute.POSITION1).u16(B.VertexAttribute.COMPONENTINDEX).u16(B.VertexAttribute.U16PADDING,{glPadding:!0});b.extract=function(G){const r=g(G.data,G.skipDeduplicate,G.indices,G.indicesLength);D.updateSettings(G.writerSettings);M.updateSettings(G.writerSettings);return f.extractEdges(r,D,M)};b.extractComponentsEdgeLocationsLayout=C;b.extractEdgeInformation=
g;b.extractEdgeLocationsLayout=p;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/deduplicate":function(){define(["exports","../../../core/mathUtils","../../../views/3d/webgl-engine/lib/Indices"],function(b,e,Z){let C=null;b.deduplicate=function(B,v,p){var f=Array.isArray(B),g=f?B.length/v:B.byteLength/(4*v),k=f?B:new Uint32Array(B,0,g*v),D=p?.minReduction??0;const M=(B=p?.originalIndices||null)?B.length:0;var G=p?.componentOffsets||null;p=0;if(G)for(var r=
0;r<G.length-1;r++){var y=G[r+1]-G[r];y>p&&(p=y)}else p=g;var d=Math.floor(1.1*p)+1;if(null==C||C.length<2*d)C=new Uint32Array(e.nextHighestPowerOfTwo(2*d));for(p=0;p<2*d;p++)C[p]=0;p=0;const q=(y=!!G&&!!B)?M:g;r=Z.newIndexArray(g/3);var x=new Uint32Array(M),L=0!==D?Math.ceil(7.84*1.96/(D*D)*D*(1-D)):q,O=1,P=G?G[1]:q;for(let la=0;la<q;la++){if(la===L){var E=1-p/la;if(E+1.96*Math.sqrt(E*(1-E)/la)<D)return null;L*=2}if(la===P){for(P=0;P<2*d;P++)C[P]=0;if(B)for(P=G[O-1];P<G[O];P++)x[P]=r[B[P]];P=G[++O]}E=
y?B[la]:la;const aa=E*v;var t=0;for(var A=0;A<v;A++)t=k[aa+A]+t|0,t=t+(t<<11)+(t>>>2)|0;t>>>=0;A=t%d;let I=p;for(;0!==C[2*A+1];){if(C[2*A]===t){const K=C[2*A+1]-1;var N=K*v;a:{for(let U=0;U<v;U++)if(k[aa+U]!==k[N+U]){N=!1;break a}N=!0}if(N){I=r[K];break}}A++;A>=d&&(A-=d)}I===p&&(C[2*A]=t,C[2*A+1]=E+1,p++);r[E]=I}if(0!==D&&1-p/g<D)return null;if(y){for(g=G[O-1];g<x.length;g++)x[g]=r[B[g]];r=Z.compactIndices(x)}f=f?Array(p):new Uint32Array(p*v);p=0;for(L=0;L<q;L++)if(r[L]===p){g=k;D=(y?B[L]:L)*v;G=
f;d=p*v;x=v;for(O=0;O<x;O++)G[d+O]=g[D+O];p++}if(B&&!y){v=new Uint32Array(M);for(k=0;k<v.length;k++)v[k]=r[B[k]];r=Z.compactIndices(v)}return{buffer:Array.isArray(f)?f:f.buffer,indices:r,uniqueCount:p}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Indices":function(){define(["exports","../../../../core/typedArrayUtil"],function(b,e){let Z=(()=>{const v=new Uint32Array(131072);for(let p=0;p<v.length;++p)v[p]=p;return v})();const C=[0],B=(()=>{const v=
new Uint16Array(65536);for(let p=0;p<v.length;++p)v[p]=p;return v})();b.compactIndices=function(v){if(Array.isArray(v)){if(v.length<e.NATIVE_ARRAY_MAX_SIZE)return v;for(const p of v)if(65536<=p)return new Uint32Array(v);return new Uint16Array(v)}if(v.length<e.NATIVE_ARRAY_MAX_SIZE)return Array.from(v);if(v.BYTES_PER_ELEMENT===Uint16Array.BYTES_PER_ELEMENT)return v;for(const p of v)if(65536<=p)return v;return new Uint16Array(v)};b.generateDefaultIndexArray=function(v){if(1===v)return C;if(v<e.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(B.buffer,
0,v));if(v<B.length)return new Uint16Array(B.buffer,0,v);if(v>Z.length){Z=new Uint32Array(Math.max(2*Z.length,v));for(let p=0;p<Z.length;p++)Z[p]=p}return new Uint32Array(Z.buffer,0,v)};b.generateIndexArray=function(v){if(1===v)return C;if(v<e.NATIVE_ARRAY_MAX_SIZE)return Array.from(new Uint16Array(B.buffer,0,v));if(v<B.length)return new Uint16Array(B.slice(0,v));if(v>Z.length){v=new Uint32Array(v);for(let p=0;p<v.length;p++)v[p]=p;return v}return new Uint32Array(Z.slice(0,v))};b.newIndexArray=function(v){v*=
3;return v<=e.NATIVE_ARRAY_MAX_SIZE?Array(v):65536>=v?new Uint16Array(v):new Uint32Array(v)};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/meshProcessing":function(){define(["exports"],function(b){b.computeNeighbors=function(e,Z,C){Z/=3;const B=new Uint32Array(C+1),v=new Uint32Array(C+1);var p=(d,q)=>{d<q?B[d+1]++:v[q+1]++};for(var f=0;f<Z;f++){var g=e[3*f],k=e[3*f+1],D=e[3*f+2];p(g,k);p(k,D);p(D,g)}f=p=0;for(g=0;g<C;g++)k=B[g+1],D=v[g+1],B[g+1]=p,v[g+1]=f,
p+=k,f+=D;const M=new Uint32Array(6*Z),G=B[C];p=(d,q,x)=>{d<q?(d=B[d+1]++,M[2*d]=q,M[2*d+1]=x):(q=v[q+1]++,M[2*G+2*q]=d,M[2*G+2*q+1]=x)};for(f=0;f<Z;f++)g=e[3*f],k=e[3*f+1],D=e[3*f+2],p(g,k,f),p(k,D,f),p(D,g,f);p=(d,q)=>{const x=2*d;d=q-d;for(q=1;q<d;q++){const L=M[x+2*q],O=M[x+2*q+1];let P=q-1;for(P;0<=P&&M[x+2*P]>L;P--)M[x+2*P+2]=M[x+2*P],M[x+2*P+3]=M[x+2*P+1];M[x+2*P+2]=L;M[x+2*P+3]=O}};for(f=0;f<C;f++)p(B[f],B[f+1]),p(G+v[f],G+v[f+1]);const r=new Int32Array(3*Z),y=(d,q)=>d===e[3*q]?0:d===e[3*
q+1]?1:d===e[3*q+2]?2:-1;Z=(d,q)=>{d=y(d,q);r[3*q+d]=-1};p=(d,q,x,L)=>{d=y(d,q);r[3*q+d]=L;x=y(x,L);r[3*L+x]=q};for(f=0;f<C;f++){g=B[f];k=B[f+1];D=v[f];const d=v[f+1];for(;g<k&&D<d;){const q=M[2*g],x=M[2*G+2*D];q===x?(p(f,M[2*g+1],x,M[2*G+2*D+1]),g++,D++):q<x?(Z(f,M[2*g+1]),g++):(Z(x,M[2*G+2*D+1]),D++)}for(;g<k;)Z(f,M[2*g+1]),g++;for(;D<d;)Z(M[2*G+2*D],M[2*G+2*D+1]),D++}return r};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/InterleavedLayout":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","../../../../geometry/support/buffer/BufferView","../../../../geometry/support/buffer/types"],function(b,e,Z,C){let B=function(){function p(g,k){this.layout=g;this.buffer="number"===typeof k?new ArrayBuffer(k*g.stride):k;for(const D of g.fieldNames)k=g.fields.get(D),this[D]=new k.constructor(this.buffer,k.offset,this.stride)}var f=p.prototype;f.getField=function(g,k){return(g=this[g])&&g.elementCount===k.ElementCount&&g.elementType===k.ElementType?g:
null};f.slice=function(g,k){return new p(this.layout,this.buffer.slice(g*this.stride,k*this.stride))};f.copyFrom=function(g,k,D,M){const G=this.stride;0===G%4?(g=new Uint32Array(g.buffer,k*G,M*G/4),(new Uint32Array(this.buffer,D*G,M*G/4)).set(g)):(g=new Uint8Array(g.buffer,k*G,M*G),(new Uint8Array(this.buffer,D*G,M*G)).set(g))};e._createClass(p,[{key:"stride",get:function(){return this.layout.stride}},{key:"count",get:function(){return this.buffer.byteLength/this.stride}},{key:"byteLength",get:function(){return this.buffer.byteLength}}]);
return p}(),v=function(){function p(){this.stride=0;this.fields=new Map;this.fieldNames=[]}var f=p.prototype;f.vec2f=function(g,k){this._appendField(g,Z.BufferViewVec2f,k);return this};f.vec2f64=function(g,k){this._appendField(g,Z.BufferViewVec2f64,k);return this};f.vec3f=function(g,k){this._appendField(g,Z.BufferViewVec3f,k);return this};f.vec3f64=function(g,k){this._appendField(g,Z.BufferViewVec3f64,k);return this};f.vec4f=function(g,k){this._appendField(g,Z.BufferViewVec4f,k);return this};f.vec4f64=
function(g,k){this._appendField(g,Z.BufferViewVec4f64,k);return this};f.mat3f=function(g,k){this._appendField(g,Z.BufferViewMat3f,k);return this};f.mat3f64=function(g,k){this._appendField(g,Z.BufferViewMat3f64,k);return this};f.mat4f=function(g,k){this._appendField(g,Z.BufferViewMat4f,k);return this};f.mat4f64=function(g,k){this._appendField(g,Z.BufferViewMat4f64,k);return this};f.vec4u8=function(g,k){this._appendField(g,Z.BufferViewVec4u8,k);return this};f.f32=function(g,k){this._appendField(g,Z.BufferViewFloat,
k);return this};f.f64=function(g,k){this._appendField(g,Z.BufferViewFloat64,k);return this};f.u8=function(g,k){this._appendField(g,Z.BufferViewUint8,k);return this};f.u16=function(g,k){this._appendField(g,Z.BufferViewUint16,k);return this};f.i8=function(g,k){this._appendField(g,Z.BufferViewInt8,k);return this};f.vec2i8=function(g,k){this._appendField(g,Z.BufferViewVec2i8,k);return this};f.vec2i16=function(g,k){this._appendField(g,Z.BufferViewVec2i16,k);return this};f.vec2u8=function(g,k){this._appendField(g,
Z.BufferViewVec2u8,k);return this};f.vec4u16=function(g,k){this._appendField(g,Z.BufferViewVec4u16,k);return this};f.u32=function(g,k){this._appendField(g,Z.BufferViewUint32,k);return this};f._appendField=function(g,k,D){const M=k.ElementCount*C.elementTypeSize(k.ElementType);this.fields.set(g,{size:M,constructor:k,offset:this.stride,optional:D});this.stride+=M;this.fieldNames.push(g)};f.alignTo=function(g){this.stride=Math.floor((this.stride+g-1)/g)*g;return this};f.hasField=function(g){return this.fieldNames.includes(g)};
f.createBuffer=function(g){return new B(this,g)};f.createView=function(g){return new B(this,g)};f.clone=function(){const g=new p;g.stride=this.stride;g.fields=new Map;this.fields.forEach((k,D)=>g.fields.set(D,k));g.fieldNames=this.fieldNames.slice();g.BufferType=this.BufferType;return g};return p}();b.InterleavedBuffer=B;b.InterleavedLayout=v;b.newLayout=function(){return new v};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),
function(b,e,Z,C,B,v,p,f){let g=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float32Array,n,W,za,Ea)||this;n.elementType="f32";return n}e._inheritsLoose(F,R);F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(B.BufferViewScalarImpl);g.ElementType="f32";let k=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float32Array,n,W,za,Ea)||this;n.elementType="f32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,
n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);k.ElementType="f32";let D=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float32Array,n,W,za,Ea)||this;n.elementType="f32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);D.ElementType="f32";
let M=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float32Array,n,W,za,Ea)||this;n.elementType="f32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);M.ElementType="f32";let G=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float32Array,n,W,za,Ea)||this;n.elementType="f32";return n}e._inheritsLoose(F,R);F.prototype.slice=
function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(Z.BufferViewMat3Impl);G.ElementType="f32";Z=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float64Array,n,W,za,Ea)||this;n.elementType="f64";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(Z.BufferViewMat3Impl);
Z.ElementType="f64";let r=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float32Array,n,W,za,Ea)||this;n.elementType="f32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(C.BufferViewMat4Impl);r.ElementType="f32";C=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float64Array,n,W,za,Ea)||this;n.elementType="f64";return n}e._inheritsLoose(F,R);
F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(C.BufferViewMat4Impl);C.ElementType="f64";let y=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float64Array,n,W,za,Ea)||this;n.elementType="f64";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};
return F}(B.BufferViewScalarImpl);y.ElementType="f64";let d=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float64Array,n,W,za,Ea)||this;n.elementType="f64";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);d.ElementType="f64";let q=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float64Array,n,W,za,Ea)||this;n.elementType=
"f64";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);q.ElementType="f64";let x=function(R){function F(n,W=0,za,Ea){n=R.call(this,Float64Array,n,W,za,Ea)||this;n.elementType="f64";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,
n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);x.ElementType="f64";let L=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint8Array,n,W,za,Ea)||this;n.elementType="u8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(B.BufferViewScalarImpl);L.ElementType="u8";let O=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint8Array,
n,W,za,Ea)||this;n.elementType="u8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);O.ElementType="u8";let P=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint8Array,n,W,za,Ea)||this;n.elementType="u8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,
W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);P.ElementType="u8";let E=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint8Array,n,W,za,Ea)||this;n.elementType="u8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);E.ElementType="u8";let t=function(R){function F(n,W=0,za,
Ea){n=R.call(this,Uint16Array,n,W,za,Ea)||this;n.elementType="u16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(B.BufferViewScalarImpl);t.ElementType="u16";let A=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint16Array,n,W,za,Ea)||this;n.elementType="u16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,
n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);A.ElementType="u16";let N=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint16Array,n,W,za,Ea)||this;n.elementType="u16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);N.ElementType="u16";
let la=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint16Array,n,W,za,Ea)||this;n.elementType="u16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);la.ElementType="u16";let aa=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint32Array,n,W,za,Ea)||this;n.elementType="u32";return n}e._inheritsLoose(F,R);F.prototype.slice=
function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(B.BufferViewScalarImpl);aa.ElementType="u32";let I=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint32Array,n,W,za,Ea)||this;n.elementType="u32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);
I.ElementType="u32";let K=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint32Array,n,W,za,Ea)||this;n.elementType="u32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);K.ElementType="u32";let U=function(R){function F(n,W=0,za,Ea){n=R.call(this,Uint32Array,n,W,za,Ea)||this;n.elementType="u32";return n}e._inheritsLoose(F,
R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);U.ElementType="u32";let T=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int8Array,n,W,za,Ea)||this;n.elementType="i8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};
return F}(B.BufferViewScalarImpl);T.ElementType="i8";let ca=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int8Array,n,W,za,Ea)||this;n.elementType="i8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);ca.ElementType="i8";let J=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int8Array,n,W,za,Ea)||this;n.elementType="i8";
return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);J.ElementType="i8";let oa=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int8Array,n,W,za,Ea)||this;n.elementType="i8";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,
W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);oa.ElementType="i8";let ra=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int16Array,n,W,za,Ea)||this;n.elementType="i16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(B.BufferViewScalarImpl);ra.ElementType="i16";let xa=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int16Array,
n,W,za,Ea)||this;n.elementType="i16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);xa.ElementType="i16";let ka=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int16Array,n,W,za,Ea)||this;n.elementType="i16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,
W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);ka.ElementType="i16";let V=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int16Array,n,W,za,Ea)||this;n.elementType="i16";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);V.ElementType="i16";B=function(R){function F(n,W=0,za,
Ea){n=R.call(this,Int32Array,n,W,za,Ea)||this;n.elementType="i32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(B.BufferViewScalarImpl);B.ElementType="i32";v=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int32Array,n,W,za,Ea)||this;n.elementType="i32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,
W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(v.BufferViewVec2Impl);v.ElementType="i32";p=function(R){function F(n,W=0,za,Ea){n=R.call(this,Int32Array,n,W,za,Ea)||this;n.elementType="i32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(p.BufferViewVec3Impl);p.ElementType="i32";f=function(R){function F(n,
W=0,za,Ea){n=R.call(this,Int32Array,n,W,za,Ea)||this;n.elementType="i32";return n}e._inheritsLoose(F,R);F.prototype.slice=function(n,W){return this.sliceBuffer(F,n,W)};F.fromTypedArray=function(n,W){return new F(n.buffer,n.byteOffset,W,n.byteOffset+n.byteLength)};return F}(f.BufferViewVec4Impl);f.ElementType="i32";b.BufferViewFloat=g;b.BufferViewFloat64=y;b.BufferViewInt16=ra;b.BufferViewInt32=B;b.BufferViewInt8=T;b.BufferViewMat3f=G;b.BufferViewMat3f64=Z;b.BufferViewMat4f=r;b.BufferViewMat4f64=C;
b.BufferViewUint16=t;b.BufferViewUint32=aa;b.BufferViewUint8=L;b.BufferViewVec2f=k;b.BufferViewVec2f64=d;b.BufferViewVec2i16=xa;b.BufferViewVec2i32=v;b.BufferViewVec2i8=ca;b.BufferViewVec2u16=A;b.BufferViewVec2u32=I;b.BufferViewVec2u8=O;b.BufferViewVec3f=D;b.BufferViewVec3f64=q;b.BufferViewVec3i16=ka;b.BufferViewVec3i32=p;b.BufferViewVec3i8=J;b.BufferViewVec3u16=N;b.BufferViewVec3u32=K;b.BufferViewVec3u8=P;b.BufferViewVec4f=M;b.BufferViewVec4f64=x;b.BufferViewVec4i16=V;b.BufferViewVec4i32=f;b.BufferViewVec4i8=
oa;b.BufferViewVec4u16=la;b.BufferViewVec4u32=U;b.BufferViewVec4u8=E;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(b,e){let Z=function(){function C(v,p,f=0,g,k){this.TypedArrayConstructor=v;this.elementCount=9;v=this.TypedArrayConstructor;void 0===g&&(g=9*v.BYTES_PER_ELEMENT);const D=0===p.byteLength?0:f;this.typedBuffer=null==k?new v(p,D):new v(p,D,
(k-f)/v.BYTES_PER_ELEMENT);this.typedBufferStride=g/v.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var B=C.prototype;B.sliceBuffer=function(v,p,f=this.count-p){p=this.typedBuffer.byteOffset+p*this.stride;return new v(this.buffer,p,this.stride,p+f*this.stride)};B.getMat=function(v,p){v*=this.typedBufferStride;for(let f=0;9>f;f++)p[f]=this.typedBuffer[v++];return p};B.setMat=function(v,
p){v*=this.typedBufferStride;for(let f=0;9>f;f++)this.typedBuffer[v++]=p[f]};B.get=function(v,p){return this.typedBuffer[v*this.typedBufferStride+p]};B.set=function(v,p,f){this.typedBuffer[v*this.typedBufferStride+p]=f};B.copyFrom=function(v,p,f){const g=this.typedBuffer,k=p.typedBuffer;v*=this.typedBufferStride;p=f*p.typedBufferStride;for(f=0;9>f;++f)g[v++]=k[p++]};e._createClass(C,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return C}();Z.ElementCount=9;b.BufferViewMat3Impl=
Z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(b,e){let Z=function(){function C(v,p,f=0,g,k){this.TypedArrayConstructor=v;this.elementCount=16;v=this.TypedArrayConstructor;void 0===g&&(g=16*v.BYTES_PER_ELEMENT);const D=0===p.byteLength?0:f;this.typedBuffer=null==k?new v(p,D):new v(p,D,(k-f)/v.BYTES_PER_ELEMENT);this.typedBufferStride=g/v.BYTES_PER_ELEMENT;
this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var B=C.prototype;B.sliceBuffer=function(v,p,f=this.count-p){p=this.typedBuffer.byteOffset+p*this.stride;return new v(this.buffer,p,this.stride,p+f*this.stride)};B.getMat=function(v,p){v*=this.typedBufferStride;for(let f=0;16>f;f++)p[f]=this.typedBuffer[v++];return p};B.setMat=function(v,p){v*=this.typedBufferStride;for(let f=0;16>f;f++)this.typedBuffer[v++]=
p[f]};B.get=function(v,p){return this.typedBuffer[v*this.typedBufferStride+p]};B.set=function(v,p,f){this.typedBuffer[v*this.typedBufferStride+p]=f};B.copyFrom=function(v,p,f){const g=this.typedBuffer,k=p.typedBuffer;v*=this.typedBufferStride;p=f*p.typedBufferStride;for(f=0;16>f;++f)g[v++]=k[p++]};e._createClass(C,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return C}();Z.ElementCount=16;b.BufferViewMat4Impl=Z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers"],function(b,e){let Z=function(){function C(v,p,f=0,g,k){this.TypedArrayConstructor=v;this.elementCount=1;v=this.TypedArrayConstructor;void 0===g&&(g=v.BYTES_PER_ELEMENT);const D=0===p.byteLength?0:f;this.typedBuffer=null==k?new v(p,D):new v(p,D,(k-f)/v.BYTES_PER_ELEMENT);this.stride=g;this.typedBufferStride=g/v.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}var B=C.prototype;B.sliceBuffer=function(v,p,f=this.count-
p){p=this.typedBuffer.byteOffset+p*this.stride;return new v(this.buffer,p,this.stride,p+f*this.stride)};B.get=function(v){return this.typedBuffer[v*this.typedBufferStride]};B.set=function(v,p){this.typedBuffer[v*this.typedBufferStride]=p};e._createClass(C,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return C}();Z.ElementCount=1;b.BufferViewScalarImpl=Z;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2"],function(b,e,Z){let C=function(){function B(p,f,g=0,k,D){this.TypedArrayConstructor=p;this.elementCount=2;p=this.TypedArrayConstructor;void 0===k&&(k=2*p.BYTES_PER_ELEMENT);const M=0===f.byteLength?0:g;this.typedBuffer=null==D?new p(f,M):new p(f,M,(D-g)/p.BYTES_PER_ELEMENT);this.typedBufferStride=k/p.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}
var v=B.prototype;v.sliceBuffer=function(p,f,g=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new p(this.buffer,f,this.stride,f+g*this.stride)};v.getVec=function(p,f){p*=this.typedBufferStride;return Z.set(f,this.typedBuffer[p],this.typedBuffer[p+1])};v.setVec=function(p,f){p*=this.typedBufferStride;this.typedBuffer[p++]=f[0];this.typedBuffer[p]=f[1]};v.get=function(p,f){return this.typedBuffer[p*this.typedBufferStride+f]};v.set=function(p,f,g){this.typedBuffer[p*this.typedBufferStride+
f]=g};v.setValues=function(p,f,g){p*=this.typedBufferStride;this.typedBuffer[p++]=f;this.typedBuffer[p]=g};v.copyFrom=function(p,f,g){const k=this.typedBuffer,D=f.typedBuffer;p*=this.typedBufferStride;f=g*f.typedBufferStride;k[p++]=D[f++];k[p]=D[f]};e._createClass(B,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return B}();C.ElementCount=2;b.BufferViewVec2Impl=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports","./common"],
function(b,e){function Z(V,R){V[0]=R[0];V[1]=R[1];return V}function C(V,R,F){V[0]=R;V[1]=F;return V}function B(V,R,F){V[0]=R[0]+F[0];V[1]=R[1]+F[1];return V}function v(V,R,F){V[0]=R[0]-F[0];V[1]=R[1]-F[1];return V}function p(V,R,F){V[0]=R[0]*F[0];V[1]=R[1]*F[1];return V}function f(V,R,F){V[0]=R[0]/F[0];V[1]=R[1]/F[1];return V}function g(V,R){V[0]=Math.ceil(R[0]);V[1]=Math.ceil(R[1]);return V}function k(V,R){V[0]=Math.floor(R[0]);V[1]=Math.floor(R[1]);return V}function D(V,R,F){V[0]=Math.min(R[0],
F[0]);V[1]=Math.min(R[1],F[1]);return V}function M(V,R,F){V[0]=Math.max(R[0],F[0]);V[1]=Math.max(R[1],F[1]);return V}function G(V,R){V[0]=Math.round(R[0]);V[1]=Math.round(R[1]);return V}function r(V,R,F){V[0]=R[0]*F;V[1]=R[1]*F;return V}function y(V,R,F,n){V[0]=R[0]+F[0]*n;V[1]=R[1]+F[1]*n;return V}function d(V,R){const F=R[0]-V[0];V=R[1]-V[1];return Math.sqrt(F*F+V*V)}function q(V,R){const F=R[0]-V[0];V=R[1]-V[1];return F*F+V*V}function x(V){const R=V[0];V=V[1];return Math.sqrt(R*R+V*V)}function L(V){const R=
V[0];V=V[1];return R*R+V*V}function O(V,R){V[0]=-R[0];V[1]=-R[1];return V}function P(V,R){V[0]=1/R[0];V[1]=1/R[1];return V}function E(V,R){var F=R[0];const n=R[1];F=F*F+n*n;0<F&&(F=1/Math.sqrt(F),V[0]=R[0]*F,V[1]=R[1]*F);return V}function t(V,R){return V[0]*R[0]+V[1]*R[1]}function A(V,R,F){R=R[0]*F[1]-R[1]*F[0];V[0]=V[1]=0;V[2]=R;return V}function N(V,R,F,n){const W=R[0];R=R[1];V[0]=W+n*(F[0]-W);V[1]=R+n*(F[1]-R);return V}function la(V,R){R=R||1;const F=2*e.RANDOM()*Math.PI;V[0]=Math.cos(F)*R;V[1]=
Math.sin(F)*R;return V}function aa(V,R,F){const n=R[0];R=R[1];V[0]=F[0]*n+F[2]*R;V[1]=F[1]*n+F[3]*R;return V}function I(V,R,F){const n=R[0];R=R[1];V[0]=F[0]*n+F[2]*R+F[4];V[1]=F[1]*n+F[3]*R+F[5];return V}function K(V,R,F){const n=R[0];R=R[1];V[0]=F[0]*n+F[3]*R+F[6];V[1]=F[1]*n+F[4]*R+F[7];return V}function U(V,R,F){const n=R[0];R=R[1];V[0]=F[0]*n+F[4]*R+F[12];V[1]=F[1]*n+F[5]*R+F[13];return V}function T(V,R,F,n){const W=R[0]-F[0];R=R[1]-F[1];const za=Math.sin(n);n=Math.cos(n);V[0]=W*n-R*za+F[0];V[1]=
W*za+R*n+F[1];return V}function ca(V,R){var F=V[0];V=V[1];const n=R[0];R=R[1];let W=F*F+V*V;0<W&&(W=1/Math.sqrt(W));let za=n*n+R*R;0<za&&(za=1/Math.sqrt(za));F=(F*n+V*R)*W*za;return 1<F?0:-1>F?Math.PI:Math.acos(F)}function J(V){return"vec2("+V[0]+", "+V[1]+")"}function oa(V,R){return V[0]===R[0]&&V[1]===R[1]}function ra(V,R){const F=V[0];V=V[1];const n=R[0];R=R[1];const W=e.getEpsilon();return Math.abs(F-n)<=W*Math.max(1,Math.abs(F),Math.abs(n))&&Math.abs(V-R)<=W*Math.max(1,Math.abs(V),Math.abs(R))}
function xa(V,R,F,n,W){let za=R[0]-F[0];F=R[1]-F[1];W=(n[0]*za+n[1]*F)*(W-1);za=n[0]*W;F=n[1]*W;V[0]=R[0]+za;V[1]=R[1]+F;return V}const ka=Object.freeze(Object.defineProperty({__proto__:null,add:B,angle:ca,ceil:g,copy:Z,cross:A,dist:d,distance:d,div:f,divide:f,dot:t,equals:ra,exactEquals:oa,floor:k,inverse:P,len:x,length:x,lerp:N,max:M,min:D,mul:p,multiply:p,negate:O,normalize:E,projectAndScale:xa,random:la,rotate:T,round:G,scale:r,scaleAndAdd:y,set:C,sqrDist:q,sqrLen:L,squaredDistance:q,squaredLength:L,
str:J,sub:v,subtract:v,transformMat2:aa,transformMat2d:I,transformMat3:K,transformMat4:U},Symbol.toStringTag,{value:"Module"}));b.add=B;b.angle=ca;b.ceil=g;b.copy=Z;b.cross=A;b.dist=d;b.distance=d;b.div=f;b.divide=f;b.dot=t;b.equals=ra;b.exactEquals=oa;b.floor=k;b.inverse=P;b.len=x;b.length=x;b.lerp=N;b.max=M;b.min=D;b.mul=p;b.multiply=p;b.negate=O;b.normalize=E;b.projectAndScale=xa;b.random=la;b.rotate=T;b.round=G;b.scale=r;b.scaleAndAdd=y;b.set=C;b.sqrDist=q;b.sqrLen=L;b.squaredDistance=q;b.squaredLength=
L;b.str=J;b.sub=v;b.subtract=v;b.transformMat2=aa;b.transformMat2d=I;b.transformMat3=K;b.transformMat4=U;b.vec2=ka})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3"],function(b,e,Z){let C=function(){function B(p,f,g=0,k,D){this.TypedArrayConstructor=p;this.elementCount=3;p=this.TypedArrayConstructor;void 0===k&&(k=3*p.BYTES_PER_ELEMENT);const M=0===f.byteLength?0:g;this.typedBuffer=null==D?new p(f,
M):new p(f,M,(D-g)/p.BYTES_PER_ELEMENT);this.typedBufferStride=k/p.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var v=B.prototype;v.sliceBuffer=function(p,f,g=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new p(this.buffer,f,this.stride,f+g*this.stride)};v.getVec=function(p,f){p*=this.typedBufferStride;return Z.set(f,this.typedBuffer[p],this.typedBuffer[p+1],
this.typedBuffer[p+2])};v.setVec=function(p,f){p*=this.typedBufferStride;this.typedBuffer[p++]=f[0];this.typedBuffer[p++]=f[1];this.typedBuffer[p]=f[2]};v.get=function(p,f){return this.typedBuffer[p*this.typedBufferStride+f]};v.set=function(p,f,g){this.typedBuffer[p*this.typedBufferStride+f]=g};v.setValues=function(p,f,g,k){p*=this.typedBufferStride;this.typedBuffer[p++]=f;this.typedBuffer[p++]=g;this.typedBuffer[p]=k};v.copyFrom=function(p,f,g){const k=this.typedBuffer,D=f.typedBuffer;p*=this.typedBufferStride;
f=g*f.typedBufferStride;k[p++]=D[f++];k[p++]=D[f++];k[p]=D[f]};e._createClass(B,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return B}();C.ElementCount=3;b.BufferViewVec3Impl=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec4"],function(b,e,Z){let C=function(){function B(p,f,g=0,k,D){this.TypedArrayConstructor=p;this.start=
g;this.elementCount=4;p=this.TypedArrayConstructor;void 0===k&&(k=4*p.BYTES_PER_ELEMENT);const M=0===f.byteLength?0:g;this.typedBuffer=null==D?new p(f,M):new p(f,M,(D-g)/p.BYTES_PER_ELEMENT);this.typedBufferStride=k/p.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var v=B.prototype;v.sliceBuffer=function(p,f,g=this.count-f){f=this.typedBuffer.byteOffset+f*this.stride;return new p(this.buffer,
f,this.stride,f+g*this.stride)};v.getVec=function(p,f){p*=this.typedBufferStride;return Z.set(f,this.typedBuffer[p++],this.typedBuffer[p++],this.typedBuffer[p++],this.typedBuffer[p])};v.setVec=function(p,f){p*=this.typedBufferStride;this.typedBuffer[p++]=f[0];this.typedBuffer[p++]=f[1];this.typedBuffer[p++]=f[2];this.typedBuffer[p]=f[3]};v.get=function(p,f){return this.typedBuffer[p*this.typedBufferStride+f]};v.set=function(p,f,g){this.typedBuffer[p*this.typedBufferStride+f]=g};v.setValues=function(p,
f,g,k,D){p*=this.typedBufferStride;this.typedBuffer[p++]=f;this.typedBuffer[p++]=g;this.typedBuffer[p++]=k;this.typedBuffer[p]=D};v.copyFrom=function(p,f,g){const k=this.typedBuffer,D=f.typedBuffer;p*=this.typedBufferStride;f=g*f.typedBufferStride;k[p++]=D[f++];k[p++]=D[f++];k[p++]=D[f++];k[p]=D[f]};e._createClass(B,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return B}();C.ElementCount=4;b.BufferViewVec4Impl=C;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/types":function(){define(["exports"],
function(b){b.elementTypeSize=function(e){switch(e){case "u8":return 1;case "u16":return 2;case "u32":return 4;case "i8":return 1;case "i16":return 2;case "i32":return 4;case "f32":return 4;case "f64":return 8}};b.isInteger=function(e){switch(e){case "u8":case "u16":case "u32":case "i8":case "i16":case "i32":return!0;case "f32":case "f64":return!1}};b.isSigned=function(e){switch(e){case "u8":case "u16":case "u32":return!1;case "i8":case "i16":case "i32":case "f32":case "f64":return!0}};b.maximumValue=
function(e){switch(e){case "u8":return 255;case "u16":return 65535;case "u32":return 4294967295;case "i8":return 127;case "i16":return 32767;case "i32":return 2147483647;case "f32":return 3.402823E38;case "f64":return 1.79769E308}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/VertexAttribute":function(){define(["exports"],function(b){b.VertexAttribute=void 0;var e=b.VertexAttribute||(b.VertexAttribute={});e.POSITION="position";e.NORMAL="normal";e.UV0=
"uv0";e.AUXPOS1="auxpos1";e.AUXPOS2="auxpos2";e.COLOR="color";e.SYMBOLCOLOR="symbolColor";e.SIZE="size";e.TANGENT="tangent";e.OFFSET="offset";e.SUBDIVISIONFACTOR="subdivisionFactor";e.COLORFEATUREATTRIBUTE="colorFeatureAttribute";e.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute";e.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute";e.DISTANCETOSTART="distanceToStart";e.UVMAPSPACE="uvMapSpace";e.BOUNDINGRECT="boundingRect";e.UVREGION="uvRegion";e.NORMALCOMPRESSED="normalCompressed";e.PROFILERIGHT="profileRight";
e.PROFILEUP="profileUp";e.PROFILEVERTEXANDNORMAL="profileVertexAndNormal";e.FEATUREVALUE="featureValue";e.MODELORIGINHI="modelOriginHi";e.MODELORIGINLO="modelOriginLo";e.MODEL="model";e.MODELNORMAL="modelNormal";e.INSTANCECOLOR="instanceColor";e.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute";e.LOCALTRANSFORM="localTransform";e.GLOBALTRANSFORM="globalTransform";e.BOUNDINGSPHERE="boundingSphere";e.MODELORIGIN="modelOrigin";e.MODELSCALEFACTORS="modelScaleFactors";e.FEATUREATTRIBUTE="featureAttribute";
e.STATE="state";e.LODLEVEL="lodLevel";e.POSITION0="position0";e.POSITION1="position1";e.NORMALA="normalA";e.NORMALB="normalB";e.COMPONENTINDEX="componentIndex";e.VARIANTOFFSET="variantOffset";e.VARIANTSTROKE="variantStroke";e.VARIANTEXTENSION="variantExtension";e.U8PADDING="u8padding";e.U16PADDING="u16padding";e.SIDENESS="sideness";e.START="start";e.END="end";e.UP="up";e.EXTRUDE="extrude";e.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor";e.OBJECTANDLAYERIDCOLOR_INSTANCED="objectAndLayerIdColor_instanced";
Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":function(){define(["exports","../../../support/buffer/glUtil","../../../support/buffer/InterleavedLayout","../VertexAttribute"],function(b,e,Z,C){const B=Z.newLayout().vec3f(C.VertexAttribute.POSITION).u16(C.VertexAttribute.COMPONENTINDEX).u16(C.VertexAttribute.U16PADDING),v=Z.newLayout().vec2u8(C.VertexAttribute.SIDENESS);e=e.glLayout(v);Z=Z.newLayout().vec3f(C.VertexAttribute.POSITION0).vec3f(C.VertexAttribute.POSITION1).u16(C.VertexAttribute.COMPONENTINDEX).u8(C.VertexAttribute.VARIANTOFFSET,
{glNormalized:!0}).u8(C.VertexAttribute.VARIANTSTROKE).u8(C.VertexAttribute.VARIANTEXTENSION,{glNormalized:!0}).u8(C.VertexAttribute.U8PADDING,{glPadding:!0}).u16(C.VertexAttribute.U16PADDING,{glPadding:!0});const p=Z.clone().vec3f(C.VertexAttribute.NORMAL),f=Z.clone().vec3f(C.VertexAttribute.NORMALA).vec3f(C.VertexAttribute.NORMALB);C=new Map([[C.VertexAttribute.POSITION0,0],[C.VertexAttribute.POSITION1,1],[C.VertexAttribute.COMPONENTINDEX,2],[C.VertexAttribute.VARIANTOFFSET,3],[C.VertexAttribute.VARIANTSTROKE,
4],[C.VertexAttribute.VARIANTEXTENSION,5],[C.VertexAttribute.NORMAL,6],[C.VertexAttribute.NORMALA,6],[C.VertexAttribute.NORMALB,7],[C.VertexAttribute.SIDENESS,8]]);b.CommonInstancesLayout=Z;b.EdgeInputBufferLayout=B;b.EdgeShaderAttributeLocations=C;b.RegularEdgeInstancesLayout=p;b.SilhouetteEdgeInstancesLayout=f;b.VertexLayout=v;b.glVertexLayout=e;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/support/buffer/glUtil":function(){define(["exports","../../../webgl/enums",
"../../../webgl/VertexElementDescriptor"],function(b,e,Z){const C={u8:e.DataType.UNSIGNED_BYTE,u16:e.DataType.UNSIGNED_SHORT,u32:e.DataType.UNSIGNED_INT,i8:e.DataType.BYTE,i16:e.DataType.SHORT,i32:e.DataType.INT,f32:e.DataType.FLOAT};b.glLayout=function(B,v=0){const p=B.stride;return B.fieldNames.filter(f=>{f=B.fields.get(f).optional;return!(f&&f.glPadding)}).map(f=>{const g=B.fields.get(f),k=g.constructor.ElementCount;var D=C[g.constructor.ElementType];if(!D)throw Error("BufferType not supported in WebGL");
return new Z.VertexElementDescriptor(f,k,D,g.offset,p,!(!g.optional||!g.optional.glNormalized),v)})};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":function(){define("exports ../../../../../core/RandomLCG ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../support/buffer/glUtil ./bufferLayouts".split(" "),function(b,e,Z,C,B,v){function p(x){const L=D;L[0]=x.position0[0];L[1]=x.position0[1];L[2]=x.position0[2];
L[3]=x.position1[0];L[4]=x.position1[1];L[5]=x.position1[2];G[0]=5381;for(x=0;x<M.length;x++)G[0]=31*G[0]+M[x];return G[0]}function f(x){const L=D;L[0]=g(x.position0[0]);L[1]=g(x.position0[1]);L[2]=g(x.position0[2]);L[3]=g(x.position1[0]);L[4]=g(x.position1[1]);L[5]=g(x.position1[2]);G[0]=5381;for(x=0;x<M.length;x++)G[0]=31*G[0]+M[x];return G[0]}function g(x){return Math.round(1E4*x)/1E4}let k=function(){function x(){}var L=x.prototype;L.updateSettings=function(O){this.settings=O;this._edgeHashFunction=
O.reducedPrecision?f:p};L.write=function(O,P,E){var t=this._edgeHashFunction(E);q.seed=t;t=q.getIntRange(0,255);const A=q.getIntRange(0,this.settings.variants-1);var N=q.getFloat();N=-(1-Math.min(N/.7,1))+Math.max(0,N-.7)/(1-.7);N=255*(Math.abs(N)**1.2*(0>N?-1:1)*.5+.5);O.position0.setVec(P,E.position0);O.position1.setVec(P,E.position1);O.componentIndex.set(P,E.componentIndex);O.variantOffset.set(P,t);O.variantStroke.set(P,A);O.variantExtension.set(P,N)};L.trim=function(O,P){return O.slice(0,P)};
return x}();const D=new Float32Array(6),M=new Uint32Array(D.buffer),G=new Uint32Array(1);let r=function(){function x(){this._commonWriter=new k}var L=x.prototype;L.updateSettings=function(O){this._commonWriter.updateSettings(O)};L.allocate=function(O){return v.RegularEdgeInstancesLayout.createBuffer(O)};L.write=function(O,P,E){this._commonWriter.write(O,P,E);Z.add(d,E.faceNormal0,E.faceNormal1);Z.normalize(d,d);O.normal.setVec(P,d)};L.trim=function(O,P){return this._commonWriter.trim(O,P)};return x}();
r.Layout=v.RegularEdgeInstancesLayout;r.glLayout=B.glLayout(v.RegularEdgeInstancesLayout,1);let y=function(){function x(){this._commonWriter=new k}var L=x.prototype;L.updateSettings=function(O){this._commonWriter.updateSettings(O)};L.allocate=function(O){return v.SilhouetteEdgeInstancesLayout.createBuffer(O)};L.write=function(O,P,E){this._commonWriter.write(O,P,E);O.normalA.setVec(P,E.faceNormal0);O.normalB.setVec(P,E.faceNormal1)};L.trim=function(O,P){return this._commonWriter.trim(O,P)};return x}();
y.Layout=v.SilhouetteEdgeInstancesLayout;y.glLayout=B.glLayout(v.SilhouetteEdgeInstancesLayout,1);const d=C.create(),q=new e;b.CommonBufferWriter=k;b.RegularEdgeBufferWriter=r;b.SilhouetteEdgeBufferWriter=y;Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":function(){define(["exports","../../../../../core/arrayUtils","../../../../../core/mathUtils","../../../../../chunks/vec3","../../../../../chunks/vec3f64"],function(b,
e,Z,C,B){function v(M,G){const r=Z.acosClamped(M.cosAngle),y=g.fwd,d=g.ortho;C.direction(y,M.position1,M.position0);M=0<C.dot(C.cross(d,M.faceNormal0,M.faceNormal1),y)?-1:1;return r*M>G}function p(M){const G=M.faces.length/3,r=M.faces;M=M.neighbors;var y=0;for(var d=0;d<G;d++){var q=M[3*d+1],x=M[3*d+2],L=r[3*d],O=r[3*d+1],P=r[3*d+2];y+=-1===M[3*d]||L<O?1:0;y+=-1===q||O<P?1:0;y+=-1===x||P<L?1:0}y=new Int32Array(4*y);d=0;for(q=0;q<G;q++){x=M[3*q];L=M[3*q+1];O=M[3*q+2];P=r[3*q];const E=r[3*q+1],t=r[3*
q+2];if(-1===x||P<E)y[d++]=P,y[d++]=E,y[d++]=q,y[d++]=x;if(-1===L||E<t)y[d++]=E,y[d++]=t,y[d++]=q,y[d++]=L;if(-1===O||t<P)y[d++]=t,y[d++]=P,y[d++]=q,y[d++]=O}return y}function f(M){const G=M.faces.length/3,r=M.vertices.position;M=M.faces;const y=k.v0,d=k.v1,q=k.v2,x=new Float32Array(3*G);for(let L=0;L<G;L++){const O=M[3*L+1],P=M[3*L+2];r.getVec(M[3*L],y);r.getVec(O,d);r.getVec(P,q);C.subtract(d,d,y);C.subtract(q,q,y);C.cross(y,d,q);C.normalize(y,y);x[3*L]=y[0];x[3*L+1]=y[1];x[3*L+2]=y[2]}return x}
b.EdgeType=void 0;(function(M){M[M.SOLID=0]="SOLID";M[M.SKETCH=1]="SKETCH"})(b.EdgeType||(b.EdgeType={}));const g={edge:{position0:B.create(),position1:B.create(),faceNormal0:B.create(),faceNormal1:B.create(),componentIndex:0,cosAngle:0},ortho:B.create(),fwd:B.create()},k={v0:B.create(),v1:B.create(),v2:B.create()},D={anglePlanar:4,angleSignificantEdge:35};b.extractEdges=function(M,G,r,y=D){const d=M.vertices.position;var q=M.vertices.componentIndex,x=Z.deg2rad(y.anglePlanar);y=Z.deg2rad(y.angleSignificantEdge);
const L=Math.cos(y),O=Math.cos(x),P=g.edge,E=P.position0,t=P.position1,A=P.faceNormal0,N=P.faceNormal1,la=f(M),aa=p(M),I=aa.length/4;M=G.allocate(I);y=0;const K=r.allocate(I);let U=0,T=0,ca=0;const J=e.range(0,I),oa=new Float32Array(I);oa.forEach((V,R,F)=>{d.getVec(aa[4*R],E);d.getVec(aa[4*R+1],t);F[R]=C.distance(E,t)});J.sort((V,R)=>oa[R]-oa[V]);const ra=[],xa=[];for(let V=0;V<I;V++){var ka=J[V];const R=oa[ka],F=aa[4*ka],n=aa[4*ka+1],W=aa[4*ka+2];ka=aa[4*ka+3];const za=-1===ka;d.getVec(F,E);d.getVec(n,
t);if(za)C.set(A,la[3*W],la[3*W+1],la[3*W+2]),C.copy(N,A),P.componentIndex=q.get(F),P.cosAngle=C.dot(A,N);else{C.set(A,la[3*W],la[3*W+1],la[3*W+2]);C.set(N,la[3*ka],la[3*ka+1],la[3*ka+2]);P.componentIndex=q.get(F);P.cosAngle=C.dot(A,N);if(P.cosAngle>O)continue;-.9999>P.cosAngle&&C.copy(N,A)}T+=R;ca++;za||P.cosAngle<L?(G.write(M,y++,P),ra.push(R)):v(P,x)&&(r.write(K,U++,P),xa.push(R))}q=new Float32Array(ra.reverse());x=new Float32Array(xa.reverse());return{regular:{instancesData:G.trim(M,y),lodInfo:{lengths:q}},
silhouette:{instancesData:r.trim(K,U),lodInfo:{lengths:x}},averageEdgeLength:T/ca}};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"esri/views/interactive/snapping/featureSources/sceneLayerSource/sceneLayerSnappingUtils":function(){define(["exports","../../../../../chunks/vec3","../../../../../chunks/sphere"],function(b,e,Z){b.MAX_CANDIDATE_COUNT=1E3;b.boundsFromEdge=function(C,B,v){const p=Z.create(),f=Z.getCenter(p);e.scaleAndAdd(f,f,C,.5);e.scaleAndAdd(f,f,B,.5);p[3]=e.distance(f,
C);e.add(f,f,v);return p};Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../core/Logger ../../../../../core/accessorSupport/ensureType ../../../../../core/arrayUtils ../../../../../core/Error ../../../../../core/has ../../../../../core/accessorSupport/decorators/subclass ../../../../../chunks/vec3 ../../../../../chunks/vec3f64 ../../../../../geometry/support/lineSegment ../../../../../chunks/sphere ../../../../../layers/graphics/data/QueryEngineResult ../../../../3d/webgl-engine/lib/Octree ../../../../3d/webgl-engine/lib/edgeRendering/edgeProcessing ./sceneLayerSnappingUtils".split(" "),function(b,
e,Z,C,B,v,p,f,g,k,D,M,G,r,y,d,q,x){B=function(){function P(){this._idToComponent=new Map;this._components=new d(t=>t.bounds);this._edges=new d(t=>t.bounds);this._tmpLineSegment=G.create();this._tmpP1=M.create();this._tmpP2=M.create();this._tmpP3=M.create();this.remoteClient=null}var E=P.prototype;E.fetchCandidates=function(){var t=b._asyncToGenerator(function*(A,N){yield Promise.resolve();C.throwIfAborted(N);yield this._ensureEdgeLocations(A,N);const la=[];this._edges.forEachNeighbor(aa=>{this._addCandidates(A,
aa,la);return la.length<x.MAX_CANDIDATE_COUNT},A.bounds);return{result:{candidates:la}}});return function(A,N){return t.apply(this,arguments)}}();E._ensureEdgeLocations=function(){var t=b._asyncToGenerator(function*(A,N){const la=[];this._components.forEachNeighbor(aa=>{if(Z.isNone(aa.info)){const {id:I,uid:K}=aa;la.push({id:I,uid:K})}return!0},A.bounds);if(la.length){A=yield this.remoteClient.invoke("fetchAllEdgeLocations",{components:la},Z.unwrapOr(N,{}));for(const aa of A.components)this._setFetchEdgeLocations(aa)}});
return function(A,N){return t.apply(this,arguments)}}();E.add=function(){var t=b._asyncToGenerator(function*(A){A=new L(A.id,A.bounds);this._idToComponent.set(A.id,A);this._components.add([A]);return{result:{}}});return function(A){return t.apply(this,arguments)}}();E.remove=function(){var t=b._asyncToGenerator(function*(A){const N=this._idToComponent.get(A.id);if(N){const la=[];this._edges.forEachNeighbor(aa=>{aa.component===N&&la.push(aa);return!0},N.bounds);this._edges.remove(la);this._components.remove([N]);
this._idToComponent.delete(N.id)}return{result:{}}});return function(A){return t.apply(this,arguments)}}();E._setFetchEdgeLocations=function(t){const A=this._idToComponent.get(t.id);if(!Z.isNone(A)&&t.uid===A.uid){var N=q.extractComponentsEdgeLocationsLayout.createView(t.locations),la=Array(N.count),aa=M.create(),I=M.create();for(let ca=0;ca<N.count;ca++){N.position0.getVec(ca,aa);N.position1.getVec(ca,I);var K=x.boundsFromEdge(aa,I,t.origin);K=new O(A,ca,K);la[ca]=K}this._edges.add(la);var {objectIds:U,
origin:T}=t;A.info={locations:N,objectIds:U,origin:T}}};E._addCandidates=function(t,A,N){var {info:la}=A.component;const {origin:aa,objectIds:I}=la,K=la.locations;la=K.position0.getVec(A.index,this._tmpP1);const U=K.position1.getVec(A.index,this._tmpP2);D.add(la,la,aa);D.add(U,U,aa);A=I[K.componentIndex.get(A.index)];this._addEdgeCandidate(t,A,la,U,N);this._addVertexCandidate(t,A,la,N);this._addVertexCandidate(t,A,U,N)};E._addEdgeCandidate=function(t,A,N,la,aa){if(t.types&y.SnappingTypes.EDGE){var I=
r.getCenter(t.bounds),K=G.fromPoints(N,la,this._tmpLineSegment);K=G.projectPoint(K,I,this._tmpP3);r.containsPoint(t.bounds,K)&&aa.push({type:"edge",objectId:A,target:M.clone(K),distance:D.distance(I,K),start:M.clone(N),end:M.clone(la)})}};E._addVertexCandidate=function(t,A,N,la){if(t.types&y.SnappingTypes.VERTEX){var aa=r.getCenter(t.bounds);r.containsPoint(t.bounds,N)&&la.push({type:"vertex",objectId:A,target:M.clone(N),distance:D.distance(aa,N)})}};return P}();B=e.__decorate([k.subclass("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],
B);let L=function A(E,t){this.id=E;this.bounds=t;this.info=null;this.uid=++A.uid};L.uid=0;let O=function(E,t,A){this.component=E;this.index=t;this.bounds=A};return B});