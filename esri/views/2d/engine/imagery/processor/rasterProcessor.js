// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
define("exports ../../../../../core/maybe ./aspectProcessor ./bandArithmeticProcessor ./compositeBandProcessor ./convolutionProcessor ./extractBandProcessor ./localProcessor ./maskProcessor ./ndviProcessor ./remapProcessor ./reprojectProcessor ./slopeProcessor ./stretchProcessor ../../../../webgl/context-util ../../../../webgl/enums ../../../../webgl/Texture".split(" "),function(h,u,v,w,x,y,z,A,B,C,D,E,F,G,n,c,H){function p(b,d,g){return new H.Texture(b,{width:d,height:g,target:c.TextureType.TEXTURE_2D,
pixelFormat:c.PixelFormat.RGBA,internalFormat:b.type===n.ContextType.WEBGL2?c.SizedPixelFormat.RGBA32F:c.PixelFormat.RGBA,samplingMode:c.TextureSamplingMode.NEAREST,dataType:c.PixelType.FLOAT,isImmutable:b.type===n.ContextType.WEBGL2,wrapMode:c.TextureWrapMode.CLAMP_TO_EDGE,flipped:!1})}const a=new Map;a.set("aspect",v);a.set("bandarithmetic",w);a.set("compositeband",x);a.set("convolution",y);a.set("extractband",z);a.set("local",A);a.set("mask",B);a.set("ndvi",C);a.set("remap",D);a.set("slope",F);
a.set("stretch",G);h.createTexture=p;h.process=function(b,d,g,e){const k=b.rasterFunction.name.toLowerCase(),l="reproject"===k?E:a.get(k.toLowerCase());if(null!=l){{const {context:m,requestRender:q,allowDelayedRender:I}=b;var f=l.createProgram(b,e);if(I&&u.isSome(q)&&!f.compiled)q(),f=null;else{var {width:J,height:K}=e;m.bindFramebuffer(g);m.setViewport(0,0,J,K);m.useProgram(f)}}if(f){l.bindTextureAndUniforms(b,f,e);d.draw();var {width:r,height:t}=e;d=p(b.context,r,t);g.copyToTexture(0,0,r,t,0,0,
d);"reproject"===k?(e.rasterTexture=d,e.projected=!0):e.functionTextures[b.hasBranches?b.rasterFunction.id:0]=d}}};Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});