// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.26/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/rbush/PooledRBush":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../arrayUtils ../../maybe ../../PooledArray ../../../chunks/quickselect".split(" "),function(k,d,ea,Q,O,x){function m(z,E){u(z,0,z.children.length,E,z)}function u(z,E,B,F,T){T||(T=new ba([]));T.minX=Infinity;T.minY=Infinity;T.maxX=-Infinity;T.maxY=-Infinity;for(let aa=E,la;aa<B;aa++)la=z.children[aa],D(T,z.leaf?F(la):la);return T}function D(z,E){z.minX=Math.min(z.minX,E.minX);
z.minY=Math.min(z.minY,E.minY);z.maxX=Math.max(z.maxX,E.maxX);z.maxY=Math.max(z.maxY,E.maxY)}function M(z,E){return z.minX-E.minX}function N(z,E){return z.minY-E.minY}function ia(z){return(z.maxX-z.minX)*(z.maxY-z.minY)}function ha(z){return z.maxX-z.minX+(z.maxY-z.minY)}function n(z,E){return z.minX<=E.minX&&z.minY<=E.minY&&E.maxX<=z.maxX&&E.maxY<=z.maxY}function C(z,E){return E.minX<=z.maxX&&E.minY<=z.maxY&&E.maxX>=z.minX&&E.maxY>=z.minY}function v(z,E,B,F,T){for(E=[E,B];E.length;){B=Q.assumeNonNull(E.pop());
const aa=Q.assumeNonNull(E.pop());if(B-aa<=F)continue;const la=aa+Math.ceil((B-aa)/F/2)*F;x.quickselect(z,la,aa,B,T);E.push(aa,la,la,B)}}let J=function(){function z(B=9,F){this._compareMinX=M;this._compareMinY=N;this._toBBox=T=>T;this._maxEntries=Math.max(4,B||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));F&&("function"===typeof F?this._toBBox=F:this._initFormat(F));this.clear()}var E=z.prototype;E.destroy=function(){this.clear();Y.prune();U.prune();R.prune();K.prune()};E.all=function(B){this._all(this._data,
B)};E.search=function(B,F){let T=this._data;const aa=this._toBBox;if(C(B,T))for(Y.clear();T;){for(let la=0,pa=T.children.length;la<pa;la++){const va=T.children[la],g=T.leaf?aa(va):va;C(B,g)&&(T.leaf?F(va):n(B,g)?this._all(va,F):Y.push(va))}T=Y.pop()}};E.collides=function(B){let F=this._data;const T=this._toBBox;if(!C(B,F))return!1;for(Y.clear();F;){for(let aa=0,la=F.children.length;aa<la;aa++){const pa=F.children[aa],va=F.leaf?T(pa):pa;if(C(B,va)){if(F.leaf||n(B,va))return!0;Y.push(pa)}}F=Y.pop()}return!1};
E.load=function(B){if(!B.length)return this;if(B.length<this._minEntries){for(let F=0,T=B.length;F<T;F++)this.insert(B[F]);return this}B=this._build(B.slice(0,B.length),0,B.length-1,0);if(this._data.children.length)if(this._data.height===B.height)this._splitRoot(this._data,B);else{if(this._data.height<B.height){const F=this._data;this._data=B;B=F}this._insert(B,this._data.height-B.height-1,!0)}else this._data=B;return this};E.insert=function(B){B&&this._insert(B,this._data.height-1);return this};
E.clear=function(){this._data=new ba([]);return this};E.remove=function(B){if(!B)return this;let F=this._data,T=null,aa=0,la=!1,pa;const va=this._toBBox(B);R.clear();for(K.clear();F||0<R.length;){F||(F=Q.assumeNonNull(R.pop()),T=R.data[R.length-1],aa=K.pop()??0,la=!0);if(F.leaf&&(pa=ea.indexOf(F.children,B,F.children.length,F.indexHint),-1!==pa)){F.children.splice(pa,1);R.push(F);this._condense(R);break}la||F.leaf||!n(F,va)?T?(aa++,F=T.children[aa],la=!1):F=null:(R.push(F),K.push(aa),aa=0,T=F,F=F.children[0])}return this};
E.toJSON=function(){return this._data};E.fromJSON=function(B){this._data=B;return this};E._all=function(B,F){for(U.clear();B;){if(!0===B.leaf)for(const T of B.children)F(T);else U.pushArray(B.children);B=U.pop()??null}};E._build=function(B,F,T,aa){var la=T-F+1,pa=this._maxEntries;if(la<=pa)return B=new ba(B.slice(F,T+1)),m(B,this._toBBox),B;aa||(aa=Math.ceil(Math.log(la)/Math.log(pa)),pa=Math.ceil(la/pa**(aa-1)));const va=new X([]);va.height=aa;la=Math.ceil(la/pa);pa=la*Math.ceil(Math.sqrt(pa));for(v(B,
F,T,pa,this._compareMinX);F<=T;F+=pa){const g=Math.min(F+pa-1,T);v(B,F,g,la,this._compareMinY);for(let r=F;r<=g;r+=la)va.children.push(this._build(B,r,Math.min(r+la-1,g),aa-1))}m(va,this._toBBox);return va};E._chooseSubtree=function(B,F,T,aa){for(;;){aa.push(F);if(!0===F.leaf||aa.length-1===T)break;let la=Infinity,pa=Infinity,va=void 0;for(let g=0,r=F.children.length;g<r;g++){const P=F.children[g],ra=ia(P),G=(Math.max(P.maxX,B.maxX)-Math.min(P.minX,B.minX))*(Math.max(P.maxY,B.maxY)-Math.min(P.minY,
B.minY))-ra;G<pa?(pa=G,la=ra<la?ra:la,va=P):G===pa&&ra<la&&(la=ra,va=P)}F=va||F.children[0]}return F};E._insert=function(B,F,T){var aa=this._toBBox;T=T?B:aa(B);R.clear();aa=this._chooseSubtree(T,this._data,F,R);aa.children.push(B);for(D(aa,T);0<=F;)if(R.data[F].children.length>this._maxEntries)this._split(R,F),F--;else break;this._adjustParentBBoxes(T,R,F)};E._split=function(B,F){const T=B.data[F];var aa=T.children.length;const la=this._minEntries;this._chooseSplitAxis(T,la,aa);(aa=this._chooseSplitIndex(T,
la,aa))?(aa=T.children.splice(aa,T.children.length-aa),aa=T.leaf?new ba(aa):new X(aa),aa.height=T.height,m(T,this._toBBox),m(aa,this._toBBox),F?B.data[F-1].children.push(aa):this._splitRoot(T,aa)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")};E._splitRoot=function(B,F){this._data=new X([B,F]);this._data.height=B.height+1;m(this._data,this._toBBox)};E._chooseSplitIndex=function(B,F,T){let aa,la,pa=void 0;aa=la=Infinity;for(let g=F;g<=T-F;g++){var va=u(B,0,g,
this._toBBox);const r=u(B,g,T,this._toBBox),P=Math.max(0,Math.min(va.maxX,r.maxX)-Math.max(va.minX,r.minX))*Math.max(0,Math.min(va.maxY,r.maxY)-Math.max(va.minY,r.minY));va=ia(va)+ia(r);P<aa?(aa=P,pa=g,la=va<la?va:la):P===aa&&va<la&&(la=va,pa=g)}return pa};E._chooseSplitAxis=function(B,F,T){const aa=B.leaf?this._compareMinX:M,la=B.leaf?this._compareMinY:N,pa=this._allDistMargin(B,F,T,aa);F=this._allDistMargin(B,F,T,la);pa<F&&B.children.sort(aa)};E._allDistMargin=function(B,F,T,aa){B.children.sort(aa);
aa=this._toBBox;var la=u(B,0,F,aa);const pa=u(B,T-F,T,aa);let va=ha(la)+ha(pa);for(let g=F;g<T-F;g++){const r=B.children[g];D(la,B.leaf?aa(r):r);va+=ha(la)}for(T=T-F-1;T>=F;T--)la=B.children[T],D(pa,B.leaf?aa(la):la),va+=ha(pa);return va};E._adjustParentBBoxes=function(B,F,T){for(;0<=T;T--)D(F.data[T],B)};E._condense=function(B){for(let F=B.length-1;0<=F;F--){const T=B.data[F];if(0===T.children.length)if(0<F){const aa=B.data[F-1],la=aa.children;la.splice(ea.indexOf(la,T,la.length,aa.indexHint),1)}else this.clear();
else m(T,this._toBBox)}};E._initFormat=function(B){const F=["return a"," - b",";"];this._compareMinX=new Function("a","b",F.join(B[0]));this._compareMinY=new Function("a","b",F.join(B[1]));this._toBBox=new Function("a","return {minX: a"+B[0]+", minY: a"+B[1]+", maxX: a"+B[2]+", maxY: a"+B[3]+"};")};return z}();const Y=new O,U=new O,R=new O,K=new O({deallocator:void 0});O=function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};let S=function(z){function E(){var B=z.apply(this,arguments)||
this;B.height=1;B.indexHint=new ea.PositionHint;return B}d._inheritsLoose(E,z);return E}(O),ba=function(z){function E(B){var F=z.call(this)||this;F.children=B;F.leaf=!0;return F}d._inheritsLoose(E,z);return E}(S),X=function(z){function E(B){var F=z.call(this)||this;F.children=B;F.leaf=!1;return F}d._inheritsLoose(E,z);return E}(S);k.BBox=O;k.PooledRBush=J;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/quickselect":function(){define(["exports"],function(k){var d={};(function(ea){(function(Q){Q=
Q();void 0!==Q&&(ea.exports=Q)})(function(){function Q(m,u,D,M,N){for(;M>D;){if(600<M-D){var ia=M-D+1,ha=u-D+1,n=Math.log(ia),C=.5*Math.exp(2*n/3);n=.5*Math.sqrt(n*C*(ia-C)/ia)*(0>ha-ia/2?-1:1);Q(m,u,Math.max(D,Math.floor(u-ha*C/ia+n)),Math.min(M,Math.floor(u+(ia-ha)*C/ia+n)),N)}ia=m[u];ha=D;C=M;O(m,D,u);for(0<N(m[M],ia)&&O(m,D,M);ha<C;){O(m,ha,C);ha++;for(C--;0>N(m[ha],ia);)ha++;for(;0<N(m[C],ia);)C--}0===N(m[D],ia)?O(m,D,C):(C++,O(m,C,M));C<=u&&(D=C+1);u<=C&&(M=C-1)}}function O(m,u,D){var M=m[u];
m[u]=m[D];m[D]=M}function x(m,u){return m<u?-1:m>u?1:0}return function(m,u,D,M,N){Q(m,u,D||0,M||m.length-1,N||x)}})})({get exports(){return d},set exports(ea){d=ea}});k.quickselect=d})},"esri/geometry/support/meshUtils/georeference":function(){define("exports ../../../core/maybe ../../../core/unitUtils ../../../chunks/mat3f64 ../../../chunks/mat4 ../../../chunks/mat4f64 ../../../chunks/mat3 ../../projection ../../spatialReferenceEllipsoidUtils ../MeshTransform ../buffer/BufferView ../../../chunks/vec32 ./geographicUtils ./projection".split(" "),
function(k,d,ea,Q,O,x,m,u,D,M,N,ia,ha,n){function C(z,E,B){if(ha.isGeographicMesh(E.spatialReference,B)){var F=E.spatialReference,T=U(E,B,K);B=new Float64Array(z.position.length);var aa=z.position,la=T;E=F;var pa=B;ia.transformMat4(N.BufferViewVec3f64.fromTypedArray(pa),N.BufferViewVec3f64.fromTypedArray(aa),la);aa=new Float64Array(aa.length);E=n.projectFromPCPF(pa,aa,E);T=m.normalFromMat4(ba,T);pa=B;aa=z.normal;la=T;var va=F;if(d.isNone(aa))pa=null;else{var g=new Float32Array(aa.length);ia.transformMat3(N.BufferViewVec3f.fromTypedArray(g),
N.BufferViewVec3f.fromTypedArray(aa),la);n.projectNormalFromPCPF(g,E,pa,va,g);pa=g}z=z.tangent;if(d.isNone(z))z=null;else{aa=new Float32Array(z.length);ia.transformMat3(N.BufferViewVec3f.fromTypedArray(aa,4*Float32Array.BYTES_PER_ELEMENT),N.BufferViewVec3f.fromTypedArray(z,4*Float32Array.BYTES_PER_ELEMENT),T);for(T=3;T<aa.length;T+=4)aa[T]=z[T];n.projectTangentFromPCPF(aa,E,B,F,aa);z=aa}z={position:E,normal:pa,tangent:z}}else{F=new Float64Array(z.position.length);T=z.position;pa=E.x;aa=E.y;la=E.z||
0;const {horizontal:r,vertical:P}=R(B?B.unit:null,E.spatialReference);for(E=0;E<T.length;E+=3)F[E+0]=T[E+0]*r+pa,F[E+1]=T[E+1]*r+aa,F[E+2]=T[E+2]*P+la;z={position:F,normal:z.normal,tangent:z.tangent}}return z}function v(z,E,B){const {position:F,normal:T,tangent:aa}=z;if(d.isNone(E))return{position:F,normal:T,tangent:aa};var la=E.localMatrix;z=n.transformPosition(F,new Float64Array(F.length),la);const pa=d.isSome(T)?n.transformNormal(T,new Float32Array(T.length),la):null;la=d.isSome(aa)?n.transformTangent(aa,
new Float32Array(aa.length),la):null;return C({position:z,normal:pa,tangent:la},E.getOriginPoint(B),{geographic:E.geographic})}function J(z,E,B){if(ha.isGeographicMesh(E.spatialReference,B)){var F=E.spatialReference;U(E,B,K);var T=O.invert(S,K);B=new Float64Array(z.position.length);E=T;var aa=n.projectToPCPF(z.position,F,B),la=N.BufferViewVec3f64.fromTypedArray(aa);aa=new Float64Array(aa.length);var pa=N.BufferViewVec3f64.fromTypedArray(aa);ia.transformMat4(pa,la,E);E=aa;T=m.normalFromMat4(ba,T);
aa=z.normal;pa=z.position;var va=B,g=F;la=T;d.isNone(aa)?la=null:(aa=n.projectNormalToPCPF(aa,pa,va,g,new Float32Array(aa.length)),pa=N.BufferViewVec3f.fromTypedArray(aa),ia.transformMat3(pa,pa,la),la=aa);aa=z.tangent;z=z.position;pa=F;F=T;d.isNone(aa)?F=null:(z=n.projectTangentToPCPF(aa,z,B,pa,new Float32Array(aa.length)),B=N.BufferViewVec3f.fromTypedArray(z,4*Float32Array.BYTES_PER_ELEMENT),ia.transformMat3(B,B,F),F=z);F={position:E,normal:la,tangent:F}}else F=Y(z,E,B);return F}function Y(z,E,B){const F=
new Float64Array(z.position.length),T=z.position,aa=E.x,la=E.y,pa=E.z||0,{horizontal:va,vertical:g}=R(B?B.unit:null,E.spatialReference);for(E=0;E<T.length;E+=3)F[E+0]=(T[E+0]-aa)/va,F[E+1]=(T[E+1]-la)/va,F[E+2]=(T[E+2]-pa)/g;return{position:F,normal:z.normal,tangent:z.tangent}}function U(z,E,B){u.computeTranslationToOriginAndRotation(z.spatialReference,[z.x,z.y,z.z||0],B,D.getSphericalPCPF(z.spatialReference));const {horizontal:F,vertical:T}=R(E?E.unit:null,z.spatialReference);O.scale(B,B,[F,F,T]);
return B}function R(z,E){if(d.isNone(z))return X;const B=E.isGeographic?1:ea.getMetersPerUnitForSR(E);E=E.isGeographic?1:ea.getMetersPerVerticalUnitForSR(E);z=ea.convertUnit(1,z,"meters");return{horizontal:z*B,vertical:z*E}}const K=x.create(),S=x.create(),ba=Q.create(),X={horizontal:1,vertical:1};k.georeference=C;k.georeferenceApplyTransform=v;k.georeferenceByTransform=function(z,E,B){if(B?.useTransform){const {position:F,normal:T,tangent:aa}=z;return{vertexAttributes:{position:F,normal:T,tangent:aa},
transform:new M({origin:[E.x,E.y,E.z??0],geographic:ha.isGeographicMesh(E.spatialReference,B)})}}return{vertexAttributes:C(z,E,B),transform:null}};k.ungeoreference=J;k.ungeoreferenceByTransform=function(z,E,B,F){if(d.isNone(E))return J(z,B,F);z=v(z,E,B.spatialReference);return B.equals(E.getOriginPoint(B.spatialReference))?Y(z,B,F):J(z,B,F)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/mat3f64":function(){define(["exports"],function(k){function d(){return[1,0,0,0,1,
0,0,0,1]}function ea(m){return[m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8]]}function Q(m,u,D,M,N,ia,ha,n,C){return[m,u,D,M,N,ia,ha,n,C]}function O(m,u){return new Float64Array(m,u,9)}const x=Object.freeze(Object.defineProperty({__proto__:null,clone:ea,create:d,createView:O,fromValues:Q},Symbol.toStringTag,{value:"Module"}));k.clone=ea;k.create=d;k.createView=O;k.fromValues=Q;k.mat3f64=x})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(k,d,ea){function Q(a,b){a[0]=
b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function O(a,b,p,y,L,V,Z,ca,W,da,ja,na,ta,sa,wa,xa,ya){a[0]=b;a[1]=p;a[2]=y;a[3]=L;a[4]=V;a[5]=Z;a[6]=ca;a[7]=W;a[8]=da;a[9]=ja;a[10]=na;a[11]=ta;a[12]=sa;a[13]=wa;a[14]=xa;a[15]=ya;return a}function x(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}
function m(a,b){if(a===b){const p=b[1],y=b[2],L=b[3],V=b[6],Z=b[7],ca=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=p;a[6]=b[9];a[7]=b[13];a[8]=y;a[9]=V;a[11]=b[14];a[12]=L;a[13]=Z;a[14]=ca}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a}function u(a,b){D(a,b)||x(a);return a}function D(a,b){const p=b[0],y=b[1],L=b[2],V=b[3],Z=b[4],ca=b[5],W=b[6],da=b[7],ja=b[8],na=
b[9],ta=b[10],sa=b[11],wa=b[12],xa=b[13],ya=b[14];b=b[15];const Ha=p*ca-y*Z,Ba=p*W-L*Z,Ea=p*da-V*Z,Fa=y*W-L*ca,Ca=y*da-V*ca,Oa=L*da-V*W,Sa=ja*xa-na*wa,Ta=ja*ya-ta*wa,Qa=ja*b-sa*wa,Ua=na*ya-ta*xa,Ra=na*b-sa*xa,Ka=ta*b-sa*ya;let Ga=Ha*Ka-Ba*Ra+Ea*Ua+Fa*Qa-Ca*Ta+Oa*Sa;if(!Ga)return null;Ga=1/Ga;a[0]=(ca*Ka-W*Ra+da*Ua)*Ga;a[1]=(L*Ra-y*Ka-V*Ua)*Ga;a[2]=(xa*Oa-ya*Ca+b*Fa)*Ga;a[3]=(ta*Ca-na*Oa-sa*Fa)*Ga;a[4]=(W*Qa-Z*Ka-da*Ta)*Ga;a[5]=(p*Ka-L*Qa+V*Ta)*Ga;a[6]=(ya*Ea-wa*Oa-b*Ba)*Ga;a[7]=(ja*Oa-ta*Ea+sa*Ba)*
Ga;a[8]=(Z*Ra-ca*Qa+da*Sa)*Ga;a[9]=(y*Qa-p*Ra-V*Sa)*Ga;a[10]=(wa*Ca-xa*Ea+b*Ha)*Ga;a[11]=(na*Ea-ja*Ca-sa*Ha)*Ga;a[12]=(ca*Ta-Z*Ua-W*Sa)*Ga;a[13]=(p*Ua-y*Ta+L*Sa)*Ga;a[14]=(xa*Ba-wa*Fa-ya*Ha)*Ga;a[15]=(ja*Fa-na*Ba+ta*Ha)*Ga;return a}function M(a,b){const p=b[0],y=b[1],L=b[2],V=b[3],Z=b[4],ca=b[5],W=b[6],da=b[7],ja=b[8],na=b[9],ta=b[10],sa=b[11],wa=b[12],xa=b[13],ya=b[14];b=b[15];a[0]=ca*(ta*b-sa*ya)-na*(W*b-da*ya)+xa*(W*sa-da*ta);a[1]=-(y*(ta*b-sa*ya)-na*(L*b-V*ya)+xa*(L*sa-V*ta));a[2]=y*(W*b-da*ya)-
ca*(L*b-V*ya)+xa*(L*da-V*W);a[3]=-(y*(W*sa-da*ta)-ca*(L*sa-V*ta)+na*(L*da-V*W));a[4]=-(Z*(ta*b-sa*ya)-ja*(W*b-da*ya)+wa*(W*sa-da*ta));a[5]=p*(ta*b-sa*ya)-ja*(L*b-V*ya)+wa*(L*sa-V*ta);a[6]=-(p*(W*b-da*ya)-Z*(L*b-V*ya)+wa*(L*da-V*W));a[7]=p*(W*sa-da*ta)-Z*(L*sa-V*ta)+ja*(L*da-V*W);a[8]=Z*(na*b-sa*xa)-ja*(ca*b-da*xa)+wa*(ca*sa-da*na);a[9]=-(p*(na*b-sa*xa)-ja*(y*b-V*xa)+wa*(y*sa-V*na));a[10]=p*(ca*b-da*xa)-Z*(y*b-V*xa)+wa*(y*da-V*ca);a[11]=-(p*(ca*sa-da*na)-Z*(y*sa-V*na)+ja*(y*da-V*ca));a[12]=-(Z*(na*
ya-ta*xa)-ja*(ca*ya-W*xa)+wa*(ca*ta-W*na));a[13]=p*(na*ya-ta*xa)-ja*(y*ya-L*xa)+wa*(y*ta-L*na);a[14]=-(p*(ca*ya-W*xa)-Z*(y*ya-L*xa)+wa*(y*W-L*ca));a[15]=p*(ca*ta-W*na)-Z*(y*ta-L*na)+ja*(y*W-L*ca);return a}function N(a){const b=a[0],p=a[1],y=a[2],L=a[3],V=a[4],Z=a[5],ca=a[6],W=a[7],da=a[8],ja=a[9],na=a[10],ta=a[11],sa=a[12],wa=a[13],xa=a[14];a=a[15];return(b*Z-p*V)*(na*a-ta*xa)-(b*ca-y*V)*(ja*a-ta*wa)+(b*W-L*V)*(ja*xa-na*wa)+(p*ca-y*Z)*(da*a-ta*sa)-(p*W-L*Z)*(da*xa-na*sa)+(y*W-L*ca)*(da*wa-ja*sa)}
function ia(a,b,p){const y=b[0],L=b[1],V=b[2],Z=b[3],ca=b[4],W=b[5],da=b[6],ja=b[7],na=b[8],ta=b[9],sa=b[10],wa=b[11],xa=b[12],ya=b[13],Ha=b[14];b=b[15];let Ba=p[0],Ea=p[1],Fa=p[2],Ca=p[3];a[0]=Ba*y+Ea*ca+Fa*na+Ca*xa;a[1]=Ba*L+Ea*W+Fa*ta+Ca*ya;a[2]=Ba*V+Ea*da+Fa*sa+Ca*Ha;a[3]=Ba*Z+Ea*ja+Fa*wa+Ca*b;Ba=p[4];Ea=p[5];Fa=p[6];Ca=p[7];a[4]=Ba*y+Ea*ca+Fa*na+Ca*xa;a[5]=Ba*L+Ea*W+Fa*ta+Ca*ya;a[6]=Ba*V+Ea*da+Fa*sa+Ca*Ha;a[7]=Ba*Z+Ea*ja+Fa*wa+Ca*b;Ba=p[8];Ea=p[9];Fa=p[10];Ca=p[11];a[8]=Ba*y+Ea*ca+Fa*na+Ca*xa;
a[9]=Ba*L+Ea*W+Fa*ta+Ca*ya;a[10]=Ba*V+Ea*da+Fa*sa+Ca*Ha;a[11]=Ba*Z+Ea*ja+Fa*wa+Ca*b;Ba=p[12];Ea=p[13];Fa=p[14];Ca=p[15];a[12]=Ba*y+Ea*ca+Fa*na+Ca*xa;a[13]=Ba*L+Ea*W+Fa*ta+Ca*ya;a[14]=Ba*V+Ea*da+Fa*sa+Ca*Ha;a[15]=Ba*Z+Ea*ja+Fa*wa+Ca*b;return a}function ha(a,b,p){const y=p[0],L=p[1];p=p[2];if(b===a)a[12]=b[0]*y+b[4]*L+b[8]*p+b[12],a[13]=b[1]*y+b[5]*L+b[9]*p+b[13],a[14]=b[2]*y+b[6]*L+b[10]*p+b[14],a[15]=b[3]*y+b[7]*L+b[11]*p+b[15];else{const V=b[0],Z=b[1],ca=b[2],W=b[3],da=b[4],ja=b[5],na=b[6],ta=b[7],
sa=b[8],wa=b[9],xa=b[10],ya=b[11];a[0]=V;a[1]=Z;a[2]=ca;a[3]=W;a[4]=da;a[5]=ja;a[6]=na;a[7]=ta;a[8]=sa;a[9]=wa;a[10]=xa;a[11]=ya;a[12]=V*y+da*L+sa*p+b[12];a[13]=Z*y+ja*L+wa*p+b[13];a[14]=ca*y+na*L+xa*p+b[14];a[15]=W*y+ta*L+ya*p+b[15]}return a}function n(a,b,p){const y=p[0],L=p[1];p=p[2];a[0]=b[0]*y;a[1]=b[1]*y;a[2]=b[2]*y;a[3]=b[3]*y;a[4]=b[4]*L;a[5]=b[5]*L;a[6]=b[6]*L;a[7]=b[7]*L;a[8]=b[8]*p;a[9]=b[9]*p;a[10]=b[10]*p;a[11]=b[11]*p;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a}function C(a,
b,p,y){let L=y[0],V=y[1];y=y[2];let Z=Math.sqrt(L*L+V*V+y*y);var ca=void 0,W=void 0;let da=void 0,ja=void 0,na=void 0,ta=void 0,sa=void 0,wa=void 0,xa=void 0,ya=void 0,Ha=void 0,Ba=void 0,Ea=void 0,Fa=void 0,Ca=void 0,Oa=void 0,Sa=void 0,Ta=void 0,Qa=void 0,Ua=void 0,Ra=void 0,Ka=void 0;W=ca=void 0;if(Z<ea.getEpsilon())return null;Z=1/Z;L*=Z;V*=Z;y*=Z;ca=Math.sin(p);W=Math.cos(p);da=1-W;ja=b[0];na=b[1];ta=b[2];sa=b[3];wa=b[4];xa=b[5];ya=b[6];Ha=b[7];Ba=b[8];Ea=b[9];Fa=b[10];Ca=b[11];Oa=L*L*da+W;Sa=
V*L*da+y*ca;Ta=y*L*da-V*ca;Qa=L*V*da-y*ca;Ua=V*V*da+W;Ra=y*V*da+L*ca;Ka=L*y*da+V*ca;ca=V*y*da-L*ca;W=y*y*da+W;a[0]=ja*Oa+wa*Sa+Ba*Ta;a[1]=na*Oa+xa*Sa+Ea*Ta;a[2]=ta*Oa+ya*Sa+Fa*Ta;a[3]=sa*Oa+Ha*Sa+Ca*Ta;a[4]=ja*Qa+wa*Ua+Ba*Ra;a[5]=na*Qa+xa*Ua+Ea*Ra;a[6]=ta*Qa+ya*Ua+Fa*Ra;a[7]=sa*Qa+Ha*Ua+Ca*Ra;a[8]=ja*Ka+wa*ca+Ba*W;a[9]=na*Ka+xa*ca+Ea*W;a[10]=ta*Ka+ya*ca+Fa*W;a[11]=sa*Ka+Ha*ca+Ca*W;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a}function v(a,b,p){const y=Math.sin(p);p=Math.cos(p);
const L=b[4],V=b[5],Z=b[6],ca=b[7],W=b[8],da=b[9],ja=b[10],na=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=L*p+W*y;a[5]=V*p+da*y;a[6]=Z*p+ja*y;a[7]=ca*p+na*y;a[8]=W*p-L*y;a[9]=da*p-V*y;a[10]=ja*p-Z*y;a[11]=na*p-ca*y;return a}function J(a,b,p){const y=Math.sin(p);p=Math.cos(p);const L=b[0],V=b[1],Z=b[2],ca=b[3],W=b[8],da=b[9],ja=b[10],na=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);
a[0]=L*p-W*y;a[1]=V*p-da*y;a[2]=Z*p-ja*y;a[3]=ca*p-na*y;a[8]=L*y+W*p;a[9]=V*y+da*p;a[10]=Z*y+ja*p;a[11]=ca*y+na*p;return a}function Y(a,b,p){const y=Math.sin(p);p=Math.cos(p);const L=b[0],V=b[1],Z=b[2],ca=b[3],W=b[4],da=b[5],ja=b[6],na=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=L*p+W*y;a[1]=V*p+da*y;a[2]=Z*p+ja*y;a[3]=ca*p+na*y;a[4]=W*p-L*y;a[5]=da*p-V*y;a[6]=ja*p-Z*y;a[7]=na*p-ca*y;return a}function U(a,b){a[0]=1;a[1]=0;a[2]=0;a[3]=
0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=b[0];a[13]=b[1];a[14]=b[2];a[15]=1;return a}function R(a,b){a[0]=b[0];a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b[1];a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=b[2];a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function K(a,b,p){if(0===b)return x(a);let y=p[0],L=p[1];p=p[2];let V=Math.sqrt(y*y+L*L+p*p),Z=void 0,ca=void 0,W=void 0;if(V<ea.getEpsilon())return null;V=1/V;y*=V;L*=V;p*=V;Z=Math.sin(b);ca=Math.cos(b);W=1-ca;a[0]=y*y*W+ca;a[1]=L*y*W+p*Z;
a[2]=p*y*W-L*Z;a[3]=0;a[4]=y*L*W-p*Z;a[5]=L*L*W+ca;a[6]=p*L*W+y*Z;a[7]=0;a[8]=y*p*W+L*Z;a[9]=L*p*W-y*Z;a[10]=p*p*W+ca;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function S(a,b){const p=Math.sin(b);b=Math.cos(b);a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=p;a[7]=0;a[8]=0;a[9]=-p;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function ba(a,b){const p=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=0;a[2]=-p;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=p;a[9]=0;a[10]=b;a[11]=0;a[12]=0;a[13]=0;a[14]=
0;a[15]=1;return a}function X(a,b){const p=Math.sin(b);b=Math.cos(b);a[0]=b;a[1]=p;a[2]=0;a[3]=0;a[4]=-p;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function z(a,b,p){var y=b[0],L=b[1],V=b[2],Z=b[3],ca=y+y,W=L+L;const da=V+V;b=y*ca;const ja=y*W;y*=da;const na=L*W;L*=da;V*=da;ca*=Z;W*=Z;Z*=da;a[0]=1-(na+V);a[1]=ja+Z;a[2]=y-W;a[3]=0;a[4]=ja-Z;a[5]=1-(b+V);a[6]=L+ca;a[7]=0;a[8]=y+W;a[9]=L-ca;a[10]=1-(b+na);a[11]=0;a[12]=p[0];a[13]=p[1];a[14]=p[2];a[15]=
1;return a}function E(a,b){const p=Ia,y=-b[0],L=-b[1],V=-b[2],Z=b[3],ca=b[4],W=b[5],da=b[6],ja=b[7],na=y*y+L*L+V*V+Z*Z;0<na?(p[0]=2*(ca*Z+ja*y+W*V-da*L)/na,p[1]=2*(W*Z+ja*L+da*y-ca*V)/na,p[2]=2*(da*Z+ja*V+ca*L-W*y)/na):(p[0]=2*(ca*Z+ja*y+W*V-da*L),p[1]=2*(W*Z+ja*L+da*y-ca*V),p[2]=2*(da*Z+ja*V+ca*L-W*y));z(a,b,p);return a}function B(a,b){a[0]=b[12];a[1]=b[13];a[2]=b[14];return a}function F(a,b){const p=b[0],y=b[1],L=b[2],V=b[4],Z=b[5],ca=b[6],W=b[8],da=b[9];b=b[10];a[0]=Math.sqrt(p*p+y*y+L*L);a[1]=
Math.sqrt(V*V+Z*Z+ca*ca);a[2]=Math.sqrt(W*W+da*da+b*b);return a}function T(a,b){const p=b[0]+b[5]+b[10];let y=0;0<p?(y=2*Math.sqrt(p+1),a[3]=.25*y,a[0]=(b[6]-b[9])/y,a[1]=(b[8]-b[2])/y,a[2]=(b[1]-b[4])/y):b[0]>b[5]&&b[0]>b[10]?(y=2*Math.sqrt(1+b[0]-b[5]-b[10]),a[3]=(b[6]-b[9])/y,a[0]=.25*y,a[1]=(b[1]+b[4])/y,a[2]=(b[8]+b[2])/y):b[5]>b[10]?(y=2*Math.sqrt(1+b[5]-b[0]-b[10]),a[3]=(b[8]-b[2])/y,a[0]=(b[1]+b[4])/y,a[1]=.25*y,a[2]=(b[6]+b[9])/y):(y=2*Math.sqrt(1+b[10]-b[0]-b[5]),a[3]=(b[1]-b[4])/y,a[0]=
(b[8]+b[2])/y,a[1]=(b[6]+b[9])/y,a[2]=.25*y);return a}function aa(a,b,p,y){var L=b[0],V=b[1],Z=b[2],ca=b[3],W=L+L,da=V+V,ja=Z+Z;b=L*W;const na=L*da;L*=ja;const ta=V*da;V*=ja;Z*=ja;W*=ca;da*=ca;ca*=ja;ja=y[0];const sa=y[1];y=y[2];a[0]=(1-(ta+Z))*ja;a[1]=(na+ca)*ja;a[2]=(L-da)*ja;a[3]=0;a[4]=(na-ca)*sa;a[5]=(1-(b+Z))*sa;a[6]=(V+W)*sa;a[7]=0;a[8]=(L+da)*y;a[9]=(V-W)*y;a[10]=(1-(b+ta))*y;a[11]=0;a[12]=p[0];a[13]=p[1];a[14]=p[2];a[15]=1;return a}function la(a,b,p,y,L){var V=b[0],Z=b[1],ca=b[2],W=b[3],
da=V+V,ja=Z+Z,na=ca+ca;b=V*da;var ta=V*ja,sa=V*na;V=Z*ja;Z*=na;var wa=ca*na;ca=W*da;ja*=W;const xa=W*na;var ya=y[0],Ha=y[1];na=y[2];y=L[0];W=L[1];L=L[2];da=(1-(V+wa))*ya;const Ba=(ta+xa)*ya;ya*=sa-ja;ta=(ta-xa)*Ha;wa=(1-(b+wa))*Ha;Ha*=Z+ca;sa=(sa+ja)*na;Z=(Z-ca)*na;b=(1-(b+V))*na;a[0]=da;a[1]=Ba;a[2]=ya;a[3]=0;a[4]=ta;a[5]=wa;a[6]=Ha;a[7]=0;a[8]=sa;a[9]=Z;a[10]=b;a[11]=0;a[12]=p[0]+y-(da*y+ta*W+sa*L);a[13]=p[1]+W-(Ba*y+wa*W+Z*L);a[14]=p[2]+L-(ya*y+Ha*W+b*L);a[15]=1;return a}function pa(a,b){var p=
b[0],y=b[1],L=b[2];b=b[3];var V=p+p,Z=y+y;const ca=L+L;p*=V;const W=y*V;y*=Z;const da=L*V,ja=L*Z;L*=ca;V*=b;Z*=b;b*=ca;a[0]=1-y-L;a[1]=W+b;a[2]=da-Z;a[3]=0;a[4]=W-b;a[5]=1-p-L;a[6]=ja+V;a[7]=0;a[8]=da+Z;a[9]=ja-V;a[10]=1-p-y;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a}function va(a,b,p,y,L,V,Z){const ca=1/(p-b),W=1/(L-y),da=1/(V-Z);a[0]=2*V*ca;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*V*W;a[6]=0;a[7]=0;a[8]=(p+b)*ca;a[9]=(L+y)*W;a[10]=(Z+V)*da;a[11]=-1;a[12]=0;a[13]=0;a[14]=Z*V*2*da;a[15]=0;return a}
function g(a,b,p,y,L){b=1/Math.tan(b/2);let V=void 0;a[0]=b/p;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[11]=-1;a[12]=0;a[13]=0;a[15]=0;null!=L&&Infinity!==L?(V=1/(y-L),a[10]=(L+y)*V,a[14]=2*L*y*V):(a[10]=-1,a[14]=-2*y);return a}function r(a,b,p,y){const L=Math.tan(b.upDegrees*Math.PI/180),V=Math.tan(b.downDegrees*Math.PI/180),Z=Math.tan(b.leftDegrees*Math.PI/180);b=Math.tan(b.rightDegrees*Math.PI/180);const ca=2/(Z+b),W=2/(L+V);a[0]=ca;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=W;a[6]=
0;a[7]=0;a[8]=-((Z-b)*ca*.5);a[9]=(L-V)*W*.5;a[10]=y/(p-y);a[11]=-1;a[12]=0;a[13]=0;a[14]=y*p/(p-y);a[15]=0;return a}function P(a,b,p,y,L,V,Z){const ca=1/(b-p),W=1/(y-L),da=1/(V-Z);a[0]=-2*ca;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*W;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*da;a[11]=0;a[12]=(b+p)*ca;a[13]=(L+y)*W;a[14]=(Z+V)*da;a[15]=1;return a}function ra(a,b,p,y){var L=void 0;let V=void 0;var Z=void 0,ca=void 0;let W=void 0,da=void 0;var ja=void 0,na=void 0;let ta=void 0,sa=void 0;const wa=b[0],xa=b[1];
b=b[2];Z=y[0];ca=y[1];y=y[2];ja=p[0];na=p[1];p=p[2];L=ea.getEpsilon();if(Math.abs(wa-ja)<L&&Math.abs(xa-na)<L&&Math.abs(b-p)<L)return x(a);ja=wa-ja;na=xa-na;ta=b-p;sa=1/Math.sqrt(ja*ja+na*na+ta*ta);ja*=sa;na*=sa;ta*=sa;L=ca*ta-y*na;V=y*ja-Z*ta;Z=Z*na-ca*ja;(sa=Math.sqrt(L*L+V*V+Z*Z))?(sa=1/sa,L*=sa,V*=sa,Z*=sa):Z=V=L=0;ca=na*Z-ta*V;W=ta*L-ja*Z;da=ja*V-na*L;(sa=Math.sqrt(ca*ca+W*W+da*da))?(sa=1/sa,ca*=sa,W*=sa,da*=sa):da=W=ca=0;a[0]=L;a[1]=ca;a[2]=ja;a[3]=0;a[4]=V;a[5]=W;a[6]=na;a[7]=0;a[8]=Z;a[9]=
da;a[10]=ta;a[11]=0;a[12]=-(L*wa+V*xa+Z*b);a[13]=-(ca*wa+W*xa+da*b);a[14]=-(ja*wa+na*xa+ta*b);a[15]=1;return a}function G(a,b,p,y){const L=b[0],V=b[1];b=b[2];var Z=y[0];const ca=y[1];var W=y[2];y=L-p[0];let da=V-p[1];p=b-p[2];let ja=y*y+da*da+p*p;0<ja&&(ja=1/Math.sqrt(ja),y*=ja,da*=ja,p*=ja);let na=ca*p-W*da;W=W*y-Z*p;Z=Z*da-ca*y;ja=na*na+W*W+Z*Z;0<ja&&(ja=1/Math.sqrt(ja),na*=ja,W*=ja,Z*=ja);a[0]=na;a[1]=W;a[2]=Z;a[3]=0;a[4]=da*Z-p*W;a[5]=p*na-y*Z;a[6]=y*W-da*na;a[7]=0;a[8]=y;a[9]=da;a[10]=p;a[11]=
0;a[12]=L;a[13]=V;a[14]=b;a[15]=1;return a}function t(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"}function e(a){return Math.sqrt(a[0]**2+a[1]**2+a[2]**2+a[3]**2+a[4]**2+a[5]**2+a[6]**2+a[7]**2+a[8]**2+a[9]**2+a[10]**2+a[11]**2+a[12]**2+a[13]**2+a[14]**2+a[15]**2)}function c(a,b,p){a[0]=b[0]+p[0];a[1]=b[1]+p[1];a[2]=b[2]+p[2];a[3]=b[3]+p[3];a[4]=b[4]+p[4];a[5]=b[5]+
p[5];a[6]=b[6]+p[6];a[7]=b[7]+p[7];a[8]=b[8]+p[8];a[9]=b[9]+p[9];a[10]=b[10]+p[10];a[11]=b[11]+p[11];a[12]=b[12]+p[12];a[13]=b[13]+p[13];a[14]=b[14]+p[14];a[15]=b[15]+p[15];return a}function f(a,b,p){a[0]=b[0]-p[0];a[1]=b[1]-p[1];a[2]=b[2]-p[2];a[3]=b[3]-p[3];a[4]=b[4]-p[4];a[5]=b[5]-p[5];a[6]=b[6]-p[6];a[7]=b[7]-p[7];a[8]=b[8]-p[8];a[9]=b[9]-p[9];a[10]=b[10]-p[10];a[11]=b[11]-p[11];a[12]=b[12]-p[12];a[13]=b[13]-p[13];a[14]=b[14]-p[14];a[15]=b[15]-p[15];return a}function w(a,b,p){a[0]=b[0]*p;a[1]=
b[1]*p;a[2]=b[2]*p;a[3]=b[3]*p;a[4]=b[4]*p;a[5]=b[5]*p;a[6]=b[6]*p;a[7]=b[7]*p;a[8]=b[8]*p;a[9]=b[9]*p;a[10]=b[10]*p;a[11]=b[11]*p;a[12]=b[12]*p;a[13]=b[13]*p;a[14]=b[14]*p;a[15]=b[15]*p;return a}function I(a,b,p,y){a[0]=b[0]+p[0]*y;a[1]=b[1]+p[1]*y;a[2]=b[2]+p[2]*y;a[3]=b[3]+p[3]*y;a[4]=b[4]+p[4]*y;a[5]=b[5]+p[5]*y;a[6]=b[6]+p[6]*y;a[7]=b[7]+p[7]*y;a[8]=b[8]+p[8]*y;a[9]=b[9]+p[9]*y;a[10]=b[10]+p[10]*y;a[11]=b[11]+p[11]*y;a[12]=b[12]+p[12]*y;a[13]=b[13]+p[13]*y;a[14]=b[14]+p[14]*y;a[15]=b[15]+p[15]*
y;return a}function fa(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===b[15]}function qa(a,b){if(a===b)return!0;const p=a[0],y=a[1],L=a[2],V=a[3],Z=a[4],ca=a[5],W=a[6],da=a[7],ja=a[8],na=a[9],ta=a[10],sa=a[11],wa=a[12],xa=a[13],ya=a[14];a=a[15];const Ha=b[0],Ba=b[1],Ea=b[2],Fa=b[3],Ca=b[4],Oa=b[5],Sa=b[6],Ta=b[7],Qa=b[8],Ua=
b[9],Ra=b[10],Ka=b[11],Ga=b[12],$a=b[13],bb=b[14];b=b[15];const Pa=ea.getEpsilon();return Math.abs(p-Ha)<=Pa*Math.max(1,Math.abs(p),Math.abs(Ha))&&Math.abs(y-Ba)<=Pa*Math.max(1,Math.abs(y),Math.abs(Ba))&&Math.abs(L-Ea)<=Pa*Math.max(1,Math.abs(L),Math.abs(Ea))&&Math.abs(V-Fa)<=Pa*Math.max(1,Math.abs(V),Math.abs(Fa))&&Math.abs(Z-Ca)<=Pa*Math.max(1,Math.abs(Z),Math.abs(Ca))&&Math.abs(ca-Oa)<=Pa*Math.max(1,Math.abs(ca),Math.abs(Oa))&&Math.abs(W-Sa)<=Pa*Math.max(1,Math.abs(W),Math.abs(Sa))&&Math.abs(da-
Ta)<=Pa*Math.max(1,Math.abs(da),Math.abs(Ta))&&Math.abs(ja-Qa)<=Pa*Math.max(1,Math.abs(ja),Math.abs(Qa))&&Math.abs(na-Ua)<=Pa*Math.max(1,Math.abs(na),Math.abs(Ua))&&Math.abs(ta-Ra)<=Pa*Math.max(1,Math.abs(ta),Math.abs(Ra))&&Math.abs(sa-Ka)<=Pa*Math.max(1,Math.abs(sa),Math.abs(Ka))&&Math.abs(wa-Ga)<=Pa*Math.max(1,Math.abs(wa),Math.abs(Ga))&&Math.abs(xa-$a)<=Pa*Math.max(1,Math.abs(xa),Math.abs($a))&&Math.abs(ya-bb)<=Pa*Math.max(1,Math.abs(ya),Math.abs(bb))&&Math.abs(a-b)<=Pa*Math.max(1,Math.abs(a),
Math.abs(b))}function oa(a){const b=ea.getEpsilon(),p=a[0],y=a[1],L=a[2],V=a[4],Z=a[5],ca=a[6],W=a[8],da=a[9];a=a[10];return Math.abs(1-(p*p+V*V+W*W))<=b&&Math.abs(1-(y*y+Z*Z+da*da))<=b&&Math.abs(1-(L*L+ca*ca+a*a))<=b}function Aa(a){return 1===a[0]&&0===a[1]&&0===a[2]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[8]&&0===a[9]&&1===a[10]}const Ia=d.create();d=Object.freeze(Object.defineProperty({__proto__:null,add:c,adjoint:M,copy:Q,determinant:N,equals:qa,exactEquals:fa,frob:e,fromQuat:pa,fromQuat2:E,fromRotation:K,
fromRotationTranslation:z,fromRotationTranslationScale:aa,fromRotationTranslationScaleOrigin:la,fromScaling:R,fromTranslation:U,fromXRotation:S,fromYRotation:ba,fromZRotation:X,frustum:va,getRotation:T,getScaling:F,getTranslation:B,hasIdentityRotation:Aa,identity:x,invert:D,invertOrIdentity:u,isOrthoNormal:oa,lookAt:ra,mul:ia,multiply:ia,multiplyScalar:w,multiplyScalarAndAdd:I,ortho:P,perspective:g,perspectiveFromFieldOfView:r,rotate:C,rotateX:v,rotateY:J,rotateZ:Y,scale:n,set:O,str:t,sub:f,subtract:f,
targetTo:G,translate:ha,transpose:m},Symbol.toStringTag,{value:"Module"}));k.add=c;k.adjoint=M;k.copy=Q;k.determinant=N;k.equals=qa;k.exactEquals=fa;k.frob=e;k.fromQuat=pa;k.fromQuat2=E;k.fromRotation=K;k.fromRotationTranslation=z;k.fromRotationTranslationScale=aa;k.fromRotationTranslationScaleOrigin=la;k.fromScaling=R;k.fromTranslation=U;k.fromXRotation=S;k.fromYRotation=ba;k.fromZRotation=X;k.frustum=va;k.getRotation=T;k.getScaling=F;k.getTranslation=B;k.hasIdentityRotation=Aa;k.identity=x;k.invert=
D;k.invertOrIdentity=u;k.isOrthoNormal=oa;k.lookAt=ra;k.mat4=d;k.mul=ia;k.multiply=ia;k.multiplyScalar=w;k.multiplyScalarAndAdd=I;k.ortho=P;k.perspective=g;k.perspectiveFromFieldOfView=r;k.rotate=C;k.rotateX=v;k.rotateY=J;k.rotateZ=Y;k.scale=n;k.set=O;k.str=t;k.sub=f;k.subtract=f;k.targetTo=G;k.translate=ha;k.transpose=m})},"esri/chunks/mat4f64":function(){define(["exports"],function(k){function d(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function ea(u){return[u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],
u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15]]}function Q(u,D,M,N,ia,ha,n,C,v,J,Y,U,R,K,S,ba){return[u,D,M,N,ia,ha,n,C,v,J,Y,U,R,K,S,ba]}function O(u,D){return new Float64Array(u,D,16)}const x=d(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:ea,create:d,createView:O,fromValues:Q},Symbol.toStringTag,{value:"Module"}));k.IDENTITY=x;k.clone=ea;k.create=d;k.createView=O;k.fromValues=Q;k.mat4f64=m})},"esri/chunks/mat3":function(){define(["exports","./common"],function(k,d){function ea(g,
r){g[0]=r[0];g[1]=r[1];g[2]=r[2];g[3]=r[4];g[4]=r[5];g[5]=r[6];g[6]=r[8];g[7]=r[9];g[8]=r[10];return g}function Q(g,r){g[0]=r[0];g[1]=r[1];g[2]=r[2];g[3]=r[3];g[4]=r[4];g[5]=r[5];g[6]=r[6];g[7]=r[7];g[8]=r[8];return g}function O(g,r,P,ra,G,t,e,c,f,w){g[0]=r;g[1]=P;g[2]=ra;g[3]=G;g[4]=t;g[5]=e;g[6]=c;g[7]=f;g[8]=w;return g}function x(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g}function m(g,r){if(g===r){const P=r[1],ra=r[2],G=r[5];g[1]=r[3];g[2]=r[6];g[3]=P;g[5]=r[7];
g[6]=ra;g[7]=G}else g[0]=r[0],g[1]=r[3],g[2]=r[6],g[3]=r[1],g[4]=r[4],g[5]=r[7],g[6]=r[2],g[7]=r[5],g[8]=r[8];return g}function u(g,r){const P=r[0],ra=r[1],G=r[2],t=r[3],e=r[4],c=r[5],f=r[6],w=r[7];r=r[8];const I=r*e-c*w,fa=-r*t+c*f,qa=w*t-e*f;let oa=P*I+ra*fa+G*qa;if(!oa)return null;oa=1/oa;g[0]=I*oa;g[1]=(-r*ra+G*w)*oa;g[2]=(c*ra-G*e)*oa;g[3]=fa*oa;g[4]=(r*P-G*f)*oa;g[5]=(-c*P+G*t)*oa;g[6]=qa*oa;g[7]=(-w*P+ra*f)*oa;g[8]=(e*P-ra*t)*oa;return g}function D(g,r){const P=r[0],ra=r[1],G=r[2],t=r[3],e=
r[4],c=r[5],f=r[6],w=r[7];r=r[8];g[0]=e*r-c*w;g[1]=G*w-ra*r;g[2]=ra*c-G*e;g[3]=c*f-t*r;g[4]=P*r-G*f;g[5]=G*t-P*c;g[6]=t*w-e*f;g[7]=ra*f-P*w;g[8]=P*e-ra*t;return g}function M(g){const r=g[3],P=g[4],ra=g[5],G=g[6],t=g[7],e=g[8];return g[0]*(e*P-ra*t)+g[1]*(-e*r+ra*G)+g[2]*(t*r-P*G)}function N(g,r,P){const ra=r[0],G=r[1],t=r[2],e=r[3],c=r[4],f=r[5],w=r[6],I=r[7];r=r[8];const fa=P[0],qa=P[1],oa=P[2],Aa=P[3],Ia=P[4],a=P[5],b=P[6],p=P[7];P=P[8];g[0]=fa*ra+qa*e+oa*w;g[1]=fa*G+qa*c+oa*I;g[2]=fa*t+qa*f+oa*
r;g[3]=Aa*ra+Ia*e+a*w;g[4]=Aa*G+Ia*c+a*I;g[5]=Aa*t+Ia*f+a*r;g[6]=b*ra+p*e+P*w;g[7]=b*G+p*c+P*I;g[8]=b*t+p*f+P*r;return g}function ia(g,r,P){const ra=r[0],G=r[1],t=r[2],e=r[3],c=r[4],f=r[5],w=r[6],I=r[7];r=r[8];const fa=P[0];P=P[1];g[0]=ra;g[1]=G;g[2]=t;g[3]=e;g[4]=c;g[5]=f;g[6]=fa*ra+P*e+w;g[7]=fa*G+P*c+I;g[8]=fa*t+P*f+r;return g}function ha(g,r,P){const ra=r[0],G=r[1],t=r[2],e=r[3],c=r[4],f=r[5],w=r[6],I=r[7];r=r[8];const fa=Math.sin(P);P=Math.cos(P);g[0]=P*ra+fa*e;g[1]=P*G+fa*c;g[2]=P*t+fa*f;g[3]=
P*e-fa*ra;g[4]=P*c-fa*G;g[5]=P*f-fa*t;g[6]=w;g[7]=I;g[8]=r;return g}function n(g,r,P){const ra=P[0],G=P[1];P=P[2];g[0]=ra*r[0];g[1]=ra*r[1];g[2]=ra*r[2];g[3]=G*r[3];g[4]=G*r[4];g[5]=G*r[5];g[6]=P*r[6];g[7]=P*r[7];g[8]=P*r[8];return g}function C(g,r,P){const ra=P[0];P=P[1];g[0]=ra*r[0];g[1]=ra*r[1];g[2]=ra*r[2];g[3]=P*r[3];g[4]=P*r[4];g[5]=P*r[5];return g}function v(g,r){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=1;g[5]=0;g[6]=r[0];g[7]=r[1];g[8]=1;return g}function J(g,r){const P=Math.sin(r);r=Math.cos(r);
g[0]=r;g[1]=P;g[2]=0;g[3]=-P;g[4]=r;g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g}function Y(g,r){g[0]=r[0];g[1]=0;g[2]=0;g[3]=0;g[4]=r[1];g[5]=0;g[6]=0;g[7]=0;g[8]=1;return g}function U(g,r){g[0]=r[0];g[1]=r[1];g[2]=0;g[3]=r[2];g[4]=r[3];g[5]=0;g[6]=r[4];g[7]=r[5];g[8]=1;return g}function R(g,r){var P=r[0],ra=r[1],G=r[2];r=r[3];var t=P+P,e=ra+ra;const c=G+G;P*=t;const f=ra*t;ra*=e;const w=G*t,I=G*e;G*=c;t*=r;e*=r;r*=c;g[0]=1-ra-G;g[3]=f-r;g[6]=w+e;g[1]=f+r;g[4]=1-P-G;g[7]=I-t;g[2]=w-e;g[5]=I+t;g[8]=1-P-ra;
return g}function K(g,r){const P=r[0],ra=r[1],G=r[2],t=r[4],e=r[5],c=r[6],f=r[8],w=r[9];r=r[10];const I=r*e-c*w,fa=-r*t+c*f,qa=w*t-e*f;var oa=P*I+ra*fa+G*qa;if(!oa)return null;oa=1/oa;g[0]=I*oa;g[1]=(-r*ra+G*w)*oa;g[2]=(c*ra-G*e)*oa;g[3]=fa*oa;g[4]=(r*P-G*f)*oa;g[5]=(-c*P+G*t)*oa;g[6]=qa*oa;g[7]=(-w*P+ra*f)*oa;g[8]=(e*P-ra*t)*oa;return g}function S(g,r){const P=r[0],ra=r[1],G=r[2],t=r[3],e=r[4],c=r[5],f=r[6],w=r[7];var I=r[8],fa=r[9],qa=r[10],oa=r[11];const Aa=r[12],Ia=r[13],a=r[14];r=r[15];const b=
P*c-ra*e,p=P*f-G*e,y=P*w-t*e,L=ra*f-G*c,V=ra*w-t*c,Z=G*w-t*f,ca=I*Ia-fa*Aa,W=I*a-qa*Aa;I=I*r-oa*Aa;const da=fa*a-qa*Ia;fa=fa*r-oa*Ia;qa=qa*r-oa*a;oa=b*qa-p*fa+y*da+L*I-V*W+Z*ca;if(!oa)return null;oa=1/oa;g[0]=(c*qa-f*fa+w*da)*oa;g[1]=(f*I-e*qa-w*W)*oa;g[2]=(e*fa-c*I+w*ca)*oa;g[3]=(G*fa-ra*qa-t*da)*oa;g[4]=(P*qa-G*I+t*W)*oa;g[5]=(ra*I-P*fa-t*ca)*oa;g[6]=(Ia*Z-a*V+r*L)*oa;g[7]=(a*y-Aa*Z-r*p)*oa;g[8]=(Aa*V-Ia*y+r*b)*oa;return g}function ba(g,r,P){g[0]=2/r;g[1]=0;g[2]=0;g[3]=0;g[4]=-2/P;g[5]=0;g[6]=-1;
g[7]=1;g[8]=1;return g}function X(g){return"mat3("+g[0]+", "+g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+")"}function z(g){return Math.sqrt(g[0]**2+g[1]**2+g[2]**2+g[3]**2+g[4]**2+g[5]**2+g[6]**2+g[7]**2+g[8]**2)}function E(g,r,P){g[0]=r[0]+P[0];g[1]=r[1]+P[1];g[2]=r[2]+P[2];g[3]=r[3]+P[3];g[4]=r[4]+P[4];g[5]=r[5]+P[5];g[6]=r[6]+P[6];g[7]=r[7]+P[7];g[8]=r[8]+P[8];return g}function B(g,r,P){g[0]=r[0]-P[0];g[1]=r[1]-P[1];g[2]=r[2]-P[2];g[3]=r[3]-P[3];g[4]=r[4]-P[4];g[5]=
r[5]-P[5];g[6]=r[6]-P[6];g[7]=r[7]-P[7];g[8]=r[8]-P[8];return g}function F(g,r,P){g[0]=r[0]*P;g[1]=r[1]*P;g[2]=r[2]*P;g[3]=r[3]*P;g[4]=r[4]*P;g[5]=r[5]*P;g[6]=r[6]*P;g[7]=r[7]*P;g[8]=r[8]*P;return g}function T(g,r,P,ra){g[0]=r[0]+P[0]*ra;g[1]=r[1]+P[1]*ra;g[2]=r[2]+P[2]*ra;g[3]=r[3]+P[3]*ra;g[4]=r[4]+P[4]*ra;g[5]=r[5]+P[5]*ra;g[6]=r[6]+P[6]*ra;g[7]=r[7]+P[7]*ra;g[8]=r[8]+P[8]*ra;return g}function aa(g,r){return g[0]===r[0]&&g[1]===r[1]&&g[2]===r[2]&&g[3]===r[3]&&g[4]===r[4]&&g[5]===r[5]&&g[6]===r[6]&&
g[7]===r[7]&&g[8]===r[8]}function la(g,r){const P=g[0],ra=g[1],G=g[2],t=g[3],e=g[4],c=g[5],f=g[6],w=g[7];g=g[8];const I=r[0],fa=r[1],qa=r[2],oa=r[3],Aa=r[4],Ia=r[5],a=r[6],b=r[7];r=r[8];const p=d.getEpsilon();return Math.abs(P-I)<=p*Math.max(1,Math.abs(P),Math.abs(I))&&Math.abs(ra-fa)<=p*Math.max(1,Math.abs(ra),Math.abs(fa))&&Math.abs(G-qa)<=p*Math.max(1,Math.abs(G),Math.abs(qa))&&Math.abs(t-oa)<=p*Math.max(1,Math.abs(t),Math.abs(oa))&&Math.abs(e-Aa)<=p*Math.max(1,Math.abs(e),Math.abs(Aa))&&Math.abs(c-
Ia)<=p*Math.max(1,Math.abs(c),Math.abs(Ia))&&Math.abs(f-a)<=p*Math.max(1,Math.abs(f),Math.abs(a))&&Math.abs(w-b)<=p*Math.max(1,Math.abs(w),Math.abs(b))&&Math.abs(g-r)<=p*Math.max(1,Math.abs(g),Math.abs(r))}function pa(g){const r=d.getEpsilon(),P=g[0],ra=g[1],G=g[2],t=g[3],e=g[4],c=g[5],f=g[6],w=g[7];g=g[8];return Math.abs(1-(P*P+t*t+f*f))<=r&&Math.abs(1-(ra*ra+e*e+w*w))<=r&&Math.abs(1-(G*G+c*c+g*g))<=r}const va=Object.freeze(Object.defineProperty({__proto__:null,add:E,adjoint:D,copy:Q,determinant:M,
equals:la,exactEquals:aa,frob:z,fromMat2d:U,fromMat4:ea,fromQuat:R,fromRotation:J,fromScaling:Y,fromTranslation:v,identity:x,invert:u,isOrthoNormal:pa,mul:N,multiply:N,multiplyScalar:F,multiplyScalarAndAdd:T,normalFromMat4:S,normalFromMat4Legacy:K,projection:ba,rotate:ha,scale:n,scaleByVec2:C,set:O,str:X,sub:B,subtract:B,translate:ia,transpose:m},Symbol.toStringTag,{value:"Module"}));k.add=E;k.adjoint=D;k.copy=Q;k.determinant=M;k.equals=la;k.exactEquals=aa;k.frob=z;k.fromMat2d=U;k.fromMat4=ea;k.fromQuat=
R;k.fromRotation=J;k.fromScaling=Y;k.fromTranslation=v;k.identity=x;k.invert=u;k.isOrthoNormal=pa;k.mat3=va;k.mul=N;k.multiply=N;k.multiplyScalar=F;k.multiplyScalarAndAdd=T;k.normalFromMat4=S;k.normalFromMat4Legacy=K;k.projection=ba;k.rotate=ha;k.scale=n;k.scaleByVec2=C;k.set=O;k.str=X;k.sub=B;k.subtract=B;k.translate=ia;k.transpose=m})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../core/accessorSupport/tracking ../core/accessorSupport/tracking/SimpleObservable ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./ellipsoidUtils ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(k,d,ea,Q,O,x,m,u,D,M,N,ia,ha,n,C,v,J,Y,U,R,K,S,ba,X,z,E,B){function F(){return!!Ka&&J.isLoaded()}function T(h){x.isNone($a)&&($a=Promise.all([J.load(),(new Promise((q,l)=>k(["../chunks/geometryEngineBase"],q,l))).then(q=>q.geometryEngineBase),new Promise((q,l)=>k(["./geometryAdapters/hydrated"],q,l))]));return $a.then(([,q,{hydratedAdapter:l}])=>{m.throwIfAborted(h);Ga=l;Ka=q.default;Ka._enableProjection(J.pe);Pa.notify()})}function aa(h,q,l=null,H=null){return Array.isArray(h)?0===h.length?
[]:la(Ga,h,h[0].spatialReference,q,l,H):la(Ga,[h],h.spatialReference,q,l,H)[0]}function la(h,q,l,H,ka=null,ma=null){if(x.isNone(l)||x.isNone(H))return q;if(r(l,H,ka))return q.map(ua=>x.unwrap(ra(ua,l,H)));if(x.isNone(ka)){const ua=X.cacheKey(l,H);void 0!==bb[ua]?ka=bb[ua]:(ka=va(l,H,void 0),x.isNone(ka)&&(ka=new X),bb[ua]=ka)}if(x.isNone(Ka)||x.isNone(h))throw new fb;return x.isSome(ma)?Ka._project(h,q,l,H,ka,ma):Ka._project(h,q,l,H,ka)}function pa(h,q){if(!F())for(const l of h)if(x.isSome(l)&&!z.equals(l.spatialReference,
q)&&z.isValid(l.spatialReference)&&z.isValid(q)&&!r(l.spatialReference,q))return D.trackAccess(Pa),{pending:T(),geometries:null};return{pending:null,geometries:h.map(l=>x.isNone(l)?null:z.equals(l.spatialReference,q)?l:z.isValid(l.spatialReference)&&z.isValid(q)?g(l,q):null)}}function va(h,q,l=null){if(x.isNone(h)||x.isNone(q))return null;if(x.isNone(Ka)||x.isNone(Ga))throw new fb;h=Ka._getTransformation(Ga,h,q,l,l?.spatialReference);return null!==h?X.fromGE(h):null}function g(h,q){try{const l=aa(h,
q);if(null==l)return null;"xmin"in h&&"xmin"in l&&(l.zmin=h.zmin,l.zmax=h.zmax);const H=B.getGeometryZScaler(l.type,h.spatialReference,q);x.isSome(H)&&H(l);return l}catch(l){if(!(l instanceof fb))throw l;return null}}function r(h,q,l){return l?!1:z.equals(h,q)?!0:z.isValid(h)&&z.isValid(q)&&!!Qa(h,q,hb)}function P(){P=ea._asyncToGenerator(function*(h,q,l,H){if(F())return m.waitTick(H);if(Array.isArray(h))for(const {source:ka,dest:ma,geographicTransformation:ua}of h){if(!r(ka,ma,ua))return T(H)}else if(!r(h,
q,l))return T(H);return m.waitTick(H)});return P.apply(this,arguments)}function ra(h,q,l){return h?"x"in h?G(h,q,new Y,l,0):"xmin"in h?f(h,q,new C,l,0):"rings"in h?c(h,q,new U,l,0):"paths"in h?e(h,q,new R,l,0):"points"in h?t(h,q,new v,l,0):null:null}function G(h,q,l,H,ka){Da[0]=h.x;Da[1]=h.y;const ma=h.z;Da[2]=void 0!==ma?ma:ka;if(!qa(Da,q,0,Da,H,0,1))return null;l.x=Da[0];l.y=Da[1];l.spatialReference=H;void 0===ma?(l.z=void 0,l.hasZ=!1):(l.z=Da[2],l.hasZ=!0);void 0===h.m?(l.m=void 0,l.hasM=!1):(l.m=
h.m,l.hasM=!0);return l}function t(h,q,l,H,ka){const {points:ma,hasZ:ua,hasM:za}=h;h=[];const Na=ma.length,Ma=[];for(var La of ma)Ma.push(La[0],La[1],ua?La[2]:ka);if(!qa(Ma,q,0,Ma,H,0,Na))return null;for(q=0;q<Na;++q){ka=3*q;La=Ma[ka];const Va=Ma[ka+1];ua&&za?h.push([La,Va,Ma[ka+2],ma[q][3]]):ua?h.push([La,Va,Ma[ka+2]]):za?h.push([La,Va,ma[q][2]]):h.push([La,Va])}l.points=h;l.spatialReference=H;l.hasZ=ua;l.hasM=za;return l}function e(h,q,l,H,ka){const {paths:ma,hasZ:ua,hasM:za}=h;h=[];if(!oa(ma,ua??
!1,za??!1,q,h,H,ka))return null;l.paths=h;l.spatialReference=H;l.hasZ=ua;l.hasM=za;return l}function c(h,q,l,H,ka){const {rings:ma,hasZ:ua,hasM:za}=h;h=[];if(!oa(ma,ua??!1,za??!1,q,h,H,ka))return null;l.rings=h;l.spatialReference=H;l.hasZ=ua;l.hasM=za;return l}function f(h,q,l,H,ka){const {xmin:ma,ymin:ua,xmax:za,ymax:Na,hasZ:Ma,hasM:La}=h;if(!w(ma,ua,Ma?h.zmin:ka,q,Da,H))return null;l.xmin=Da[0];l.ymin=Da[1];Ma&&(l.zmin=Da[2]);if(!w(za,Na,Ma?h.zmax:ka,q,Da,H))return null;l.xmax=Da[0];l.ymax=Da[1];
Ma&&(l.zmax=Da[2]);La&&(l.mmin=h.mmin,l.mmax=h.mmax);l.spatialReference=H;return l}function w(h,q,l,H,ka,ma){Ja[0]=h;Ja[1]=q;Ja[2]=l;return qa(Ja,H,0,ka,ma,0,1)}function I(h,q,l,H){if(x.isNone(q)||x.isNone(H)||2>h.length)return!1;2===h.length&&(Ja[0]=h[0],Ja[1]=h[1],Ja[2]=0,h=Ja);return qa(h,q,0,l,H,0,1)}function fa(h,q,l){if(x.isNone(q))return!1;q=b(q,cb);q=Wa[q][A.WGS84_COMPARABLE_LON_LAT];if(x.isNone(q))return!1;q(h,0,Ja,0);l!==Ja&&(l[0]=Ja[0],l[1]=Ja[1],2<l.length&&(l[2]=Ja[2]));return!0}function qa(h,
q,l,H,ka,ma,ua=1){q=Qa(q,ka,hb);if(x.isNone(q))return!1;if(q===p){if(h===H&&l===ma)return!0;ua=l+3*ua;for(let za=l,Na=ma;za<ua;za++,Na++)H[Na]=h[za];return!0}ua=l+3*ua;for(let za=l,Na=ma;za<ua;za+=3,Na+=3)q(h,za,H,Na);return!0}function oa(h,q,l,H,ka,ma,ua=0){const za=[];for(const Na of h)for(const Ma of Na)za.push(Ma[0],Ma[1],q?Ma[2]:ua);if(!qa(za,H,0,za,ma,0,za.length/3))return!1;H=0;ka.length=0;for(const Na of h){h=[];for(const Ma of Na)q&&l?h.push([za[H++],za[H++],za[H++],Ma[3]]):q?h.push([za[H++],
za[H++],za[H++]]):(l?h.push([za[H++],za[H++],Ma[2]]):h.push([za[H++],za[H++]]),H++);ka.push(h)}return!0}function Aa(h,q,l,H){q=H+q;if(q<H/2||l>q)return Number.MAX_VALUE;h=Math.abs(Xa*h)+Math.asin(l/q);return h>=Math.PI/2?Number.MAX_VALUE:l/Math.cos(h)}function Ia(h,q,l){const H=Math.sin(h);h=Math.cos(h);const ka=Math.sin(q);q=Math.cos(q);l[0]=-H;l[4]=-ka*h;l[8]=q*h;l[12]=0;l[1]=h;l[5]=-ka*H;l[9]=q*H;l[13]=0;l[2]=0;l[6]=q;l[10]=ka;l[14]=0;l[3]=0;l[7]=0;l[11]=0;l[15]=1;return l}function a(h,q,l){Ia(h,
q,l);N.transpose(l,l);return l}function b(h,q){if(!h)return A.UNKNOWN;if(q.spatialReference===h)return q.spatialReferenceId;q.spatialReference=h;"metersPerUnit"in q&&(q.metersPerUnit=u.getMetersPerUnitForSR(h,1));return h.wkt===n.SphericalECEFSpatialReferenceLike.wkt?q.spatialReferenceId=A.SPHERICAL_ECEF:z.isWGS84(h)?q.spatialReferenceId=A.WGS84:z.isWebMercator(h)?q.spatialReferenceId=A.WEB_MERCATOR:z.isPlateCarree(h)?q.spatialReferenceId=A.PLATE_CARREE:h.wkt===n.WGS84ECEFSpatialReferenceLike.wkt?
q.spatialReferenceId=A.WGS84_ECEF:h.wkid===E.SupportedGCSWkids.CGCS2000?q.spatialReferenceId=A.CGCS2000:h.wkt===n.SphericalPCPFMarsLike.wkt?q.spatialReferenceId=A.SPHERICAL_MARS_PCPF:h.wkt===n.SphericalPCPFMoonLike.wkt?q.spatialReferenceId=A.SPHERICAL_MOON_PCPF:z.isMars(h)?q.spatialReferenceId=A.GCSMARS2000:z.isMoon(h)?q.spatialReferenceId=A.GCSMOON2000:q.spatialReferenceId=A.UNKNOWN}function p(h,q,l,H){h!==l&&(l[H++]=h[q++],l[H++]=h[q++],l[H]=h[q])}function y(h,q,l,H){l[H++]=db*(h[q++]/S.earth.radius);
l[H++]=db*(Math.PI/2-2*Math.atan(Math.exp(-h[q++]/S.earth.radius)));l[H]=h[q]}function L(h,q,l,H){y(h,q,l,H);wa(l,H,l,H)}function V(h,q,l,H){y(h,q,l,H);Ca(l,H,l,H)}function Z(h,q,l,H,ka){var ma=.4999999*Math.PI;ma=O.clamp(Xa*h[q+1],-ma,ma);ma=Math.sin(ma);l[H++]=Xa*h[q]*ka.radius;l[H++]=ka.halfSemiMajorAxis*Math.log((1+ma)/(1-ma));l[H]=h[q+2]}function ca(h,q,l,H){Z(h,q,l,H,S.earth)}function W(h,q,l,H){l[H]=h[q]*ib;l[H+1]=h[q+1]*ib;l[H+2]=h[q+2]}function da(h,q,l,H){l[H]=h[q]*eb;l[H+1]=h[q+1]*eb;l[H+
2]=h[q+2]}function ja(h,q,l,H){y(h,q,l,H);W(l,H,l,H)}function na(h,q,l,H,ka){ka+=h[q+2];const ma=Xa*h[q+1];h=Xa*h[q];q=Math.cos(ma);l[H++]=Math.cos(h)*q*ka;l[H++]=Math.sin(h)*q*ka;l[H]=Math.sin(ma)*ka}function ta(h,q,l,H){na(h,q,l,H,S.moon.radius)}function sa(h,q,l,H){na(h,q,l,H,S.mars.radius)}function wa(h,q,l,H){na(h,q,l,H,S.earth.radius)}function xa(h,q,l,H,ka){var ma=h[q];const ua=h[q+1];q=h[q+2];h=Math.sqrt(ma*ma+ua*ua+q*q);q=O.asinClamped(q/(0===h?1:h));ma=Math.atan2(ua,ma);l[H++]=db*ma;l[H++]=
db*q;l[H]=h-ka}function ya(h,q,l,H){xa(h,q,l,H,S.moon.radius)}function Ha(h,q,l,H){xa(h,q,l,H,S.mars.radius)}function Ba(h,q,l,H){xa(h,q,l,H,S.earth.radius)}function Ea(h,q,l,H){Ba(h,q,l,H);ca(l,H,l,H)}function Fa(h,q,l,H){Ba(h,q,l,H);Ca(l,H,l,H)}function Ca(h,q,l,H){var ka=S.earth;const ma=Xa*h[q];var ua=Xa*h[q+1];h=h[q+2];q=Math.sin(ua);ua=Math.cos(ua);const za=ka.radius/Math.sqrt(1-ka.eccentricitySquared*q*q);l[H++]=(za+h)*ua*Math.cos(ma);l[H++]=(za+h)*ua*Math.sin(ma);l[H++]=(za*(1-ka.eccentricitySquared)+
h)*q}function Oa(h,q,l,H){var ka=ba.earthEllipsoidConstants,ma=h[q],ua=h[q+1];h=h[q+2];let za;q=Math.abs(h);var Na=ma*ma+ua*ua;var Ma=Math.sqrt(Na);var La=Na+h*h;var Va=Math.sqrt(La);ma=Math.atan2(ua,ma);var Za=h*h/La;La=Na/La;ua=ka.a2/Va;Na=ka.a3-ka.a4/Va;.3<La?(Za=q/Va*(1+La*(ka.a1+ua+Za*Na)/Va),Va=Math.asin(Za),ua=Za*Za,La=Math.sqrt(1-ua)):(La=Ma/Va*(1-Za*(ka.a5-ua-La*Na)/Va),Va=Math.acos(La),ua=1-La*La,Za=Math.sqrt(ua));za=1-S.earth.eccentricitySquared*ua;ua=S.earth.radius/Math.sqrt(za);ka=ka.a6*
ua;ua=Ma-ua*La;Na=q-ka*Za;q=La*ua+Za*Na;Ma=La*Na-Za*ua;ka=Ma/(ka/za+q);Va+=ka;0>h&&(Va=-Va);l[H++]=db*ma;l[H++]=db*Va;l[H]=q+Ma*ka/2}function Sa(h,q,l,H){Oa(h,q,l,H);wa(l,H,l,H)}function Ta(h,q,l,H){Oa(h,q,l,H);ca(l,H,l,H)}function Qa(h,q,l=Ra()){return x.isNone(h)||x.isNone(q)?null:Ua(h,q,l).projector}function Ua(h,q,l){if(x.isNone(h)||x.isNone(q)||l.source.spatialReference===h&&l.dest.spatialReference===q)return l;const H=b(h,l.source),ka=b(q,l.dest);H===A.UNKNOWN&&ka===A.UNKNOWN?z.equals(h,q)?
l.projector=p:l.projector=null:l.projector=Wa[H][ka];return l}function Ra(){return{source:{spatialReference:null,spatialReferenceId:A.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:A.UNKNOWN,metersPerUnit:1},projector:p}}let Ka=null,Ga=null,$a=null,bb={};const Pa=new M.SimpleObservable;let fb=function(h){function q(){return h.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}ea._inheritsLoose(q,h);return q}(Q);var A;(function(h){h[h.UNKNOWN=
0]="UNKNOWN";h[h.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";h[h.WGS84=2]="WGS84";h[h.WEB_MERCATOR=3]="WEB_MERCATOR";h[h.WGS84_ECEF=4]="WGS84_ECEF";h[h.CGCS2000=5]="CGCS2000";h[h.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";h[h.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";h[h.GCSMARS2000=8]="GCSMARS2000";h[h.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";h[h.GCSMOON2000=10]="GCSMOON2000";h[h.LON_LAT=11]="LON_LAT";h[h.PLATE_CARREE=12]="PLATE_CARREE"})(A||(A={}));const ib=S.earth.radius*Math.PI/180,
eb=180/(S.earth.radius*Math.PI),Wa={[A.WGS84]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:p,[A.WGS84_COMPARABLE_LON_LAT]:p,[A.SPHERICAL_ECEF]:wa,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:ca,[A.PLATE_CARREE]:W,[A.WGS84]:p,[A.WGS84_ECEF]:Ca},[A.CGCS2000]:{[A.CGCS2000]:p,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:p,[A.WGS84_COMPARABLE_LON_LAT]:p,[A.SPHERICAL_ECEF]:wa,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,
[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:W,[A.WGS84]:null,[A.WGS84_ECEF]:Ca},[A.GCSMARS2000]:{[A.CGCS2000]:null,[A.GCSMARS2000]:p,[A.GCSMOON2000]:null,[A.LON_LAT]:p,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:sa,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.GCSMOON2000]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:p,[A.LON_LAT]:p,[A.WGS84_COMPARABLE_LON_LAT]:null,
[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:ta,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.WEB_MERCATOR]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:y,[A.WGS84_COMPARABLE_LON_LAT]:y,[A.SPHERICAL_ECEF]:L,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:p,[A.PLATE_CARREE]:ja,[A.WGS84]:y,[A.WGS84_ECEF]:V},[A.WGS84_ECEF]:{[A.CGCS2000]:Oa,[A.GCSMARS2000]:null,
[A.GCSMOON2000]:null,[A.LON_LAT]:Oa,[A.WGS84_COMPARABLE_LON_LAT]:Oa,[A.SPHERICAL_ECEF]:Sa,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Ta,[A.PLATE_CARREE]:function(h,q,l,H){Oa(h,q,l,H);W(l,H,l,H)},[A.WGS84]:Oa,[A.WGS84_ECEF]:p},[A.SPHERICAL_ECEF]:{[A.CGCS2000]:Ba,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:Ba,[A.WGS84_COMPARABLE_LON_LAT]:Ba,[A.SPHERICAL_ECEF]:p,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:Ea,
[A.PLATE_CARREE]:function(h,q,l,H){Ba(h,q,l,H);W(l,H,l,H)},[A.WGS84]:Ba,[A.WGS84_ECEF]:Fa},[A.SPHERICAL_MARS_PCPF]:{[A.CGCS2000]:null,[A.GCSMARS2000]:Ha,[A.GCSMOON2000]:null,[A.LON_LAT]:Ha,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:p,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.SPHERICAL_MOON_PCPF]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:ya,[A.LON_LAT]:ya,[A.WGS84_COMPARABLE_LON_LAT]:null,
[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:p,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.UNKNOWN]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:null,[A.WGS84_COMPARABLE_LON_LAT]:null,[A.SPHERICAL_ECEF]:null,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:p,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:null,[A.WGS84]:null,[A.WGS84_ECEF]:null},[A.LON_LAT]:{[A.CGCS2000]:p,
[A.GCSMARS2000]:p,[A.GCSMOON2000]:p,[A.LON_LAT]:p,[A.WGS84_COMPARABLE_LON_LAT]:p,[A.SPHERICAL_ECEF]:wa,[A.SPHERICAL_MARS_PCPF]:sa,[A.SPHERICAL_MOON_PCPF]:ta,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:ca,[A.PLATE_CARREE]:W,[A.WGS84]:p,[A.WGS84_ECEF]:Ca},[A.WGS84_COMPARABLE_LON_LAT]:{[A.CGCS2000]:null,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:p,[A.WGS84_COMPARABLE_LON_LAT]:p,[A.SPHERICAL_ECEF]:wa,[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:null,[A.PLATE_CARREE]:W,
[A.WGS84]:p,[A.WGS84_ECEF]:Ca},[A.PLATE_CARREE]:{[A.CGCS2000]:da,[A.GCSMARS2000]:null,[A.GCSMOON2000]:null,[A.LON_LAT]:da,[A.WGS84_COMPARABLE_LON_LAT]:da,[A.SPHERICAL_ECEF]:function(h,q,l,H){da(h,q,l,H);wa(l,H,l,H)},[A.SPHERICAL_MARS_PCPF]:null,[A.SPHERICAL_MOON_PCPF]:null,[A.UNKNOWN]:null,[A.WEB_MERCATOR]:function(h,q,l,H){da(h,q,l,H);ca(l,H,l,H)},[A.PLATE_CARREE]:p,[A.WGS84]:da,[A.WGS84_ECEF]:function(h,q,l,H){da(h,q,l,H);Ca(l,H,l,H)}}},cb={spatialReference:null,spatialReferenceId:A.UNKNOWN},jb=
{spatialReference:null,spatialReferenceId:A.UNKNOWN},hb=Ra(),kb=Ra(),Xa=O.deg2rad(1),db=O.rad2deg(1),Ja=ha.create(),Ya=ha.create(),ab=ha.create(),Da=ha.create(),gb=ha.create();d.canProjectToWGS84ComparableLonLat=function(h){if(x.isNone(h))return!1;h=b(h,cb);return!!Wa[h][A.WGS84_COMPARABLE_LON_LAT]};d.canProjectWithoutEngine=r;d.computeENUToSphericalPCPFLocalRotation=Ia;d.computeSphericalPCPFToENULocalRotation=a;d.computeTranslationToOriginAndRotation=function(h,q,l,H){if(x.isNone(h)||x.isNone(H))return!1;
var ka=b(h,cb),ma=b(H,jb);if(ka===ma&&ma!==A.SPHERICAL_ECEF&&ma!==A.SPHERICAL_MARS_PCPF&&ma!==A.SPHERICAL_MOON_PCPF&&(ka!==A.UNKNOWN||z.equals(h,H)))return N.fromTranslation(l,q),!0;if(ma===A.SPHERICAL_ECEF||ma===A.SPHERICAL_MARS_PCPF||ma===A.SPHERICAL_MOON_PCPF){ka=Wa[ka][A.LON_LAT];ma=Wa[A.LON_LAT][ma];if(x.isNone(ka)||x.isNone(ma))return!1;ka(q,0,Ya,0);ma(Ya,0,ab,0);Ia(Xa*Ya[0],Xa*Ya[1],l);l[12]=ab[0];l[13]=ab[1];l[14]=ab[2];return!0}if((ma===A.WEB_MERCATOR||ma===A.PLATE_CARREE)&&(ka===A.WGS84||
ka===A.CGCS2000&&ma===A.PLATE_CARREE||ka===A.SPHERICAL_ECEF||ka===A.WEB_MERCATOR)){h=Wa[ka][A.LON_LAT];ma=Wa[A.LON_LAT][ma];if(x.isNone(h)||x.isNone(ma))return!1;h(q,0,Ya,0);ma(Ya,0,ab,0);ka===A.SPHERICAL_ECEF?a(Xa*Ya[0],Xa*Ya[1],l):N.identity(l);l[12]=ab[0];l[13]=ab[1];l[14]=ab[2];return!0}return!1};d.getProjectorName=function(h,q){switch(Qa(h,q,hb)){case p:return"copy3";case wa:return"wgs84ToSphericalECEF";case ca:return"wgs84ToWebMercator";case W:return"wgs84ToPlateCarree";case Ca:return"wgs84ToWGS84ECEF";
case y:return"webMercatorToWGS84";case L:return"webMercatorToSphericalECEF";case V:return"webMercatorToWGS84ECEF";case ja:return"webMercatorToPlateCarree";case Oa:return"wgs84ECEFToWGS84";case Sa:return"wgs84ECEFToSphericalECEF";case Ta:return"wgs84ECEFToWebMercator";case Ba:return"sphericalECEFToWGS84";case Ea:return"sphericalECEFToWebMercator";case Ha:return"sphericalMarsPCPFToMars2000";case ya:return"sphericalMoonPCPFToMoon2000";case Fa:return"sphericalECEFToWGS84ECEF";case sa:return"mars2000ToSphericalPCPF";
case ta:return"moon2000ToSphericalPCPF";default:return null}};d.getTransformation=va;d.getTransformations=function(h,q,l=null){if(x.isNone(Ka)||x.isNone(Ga))throw new fb;h=Ka._getTransformationBySuitability(Ga,h,q,l,l?.spatialReference);if(null!==h){q=[];for(const H of h)q.push(X.fromGE(H));return q}return[]};d.initializeProjection=function(h,q,l,H){return P.apply(this,arguments)};d.isLoaded=F;d.load=T;d.localLinearScaleFactors=function(h,q,l,H){if(x.isNone(q)||x.isNone(H))return!1;const ka=b(q,cb);
var ma=b(H,jb);if(ka===ma&&ka!==A.UNKNOWN||z.equals(q,H))return l[0]=1,l[1]=1,l[2]=1,!0;if(ka===A.SPHERICAL_ECEF){q=ia.length(h);h=q/Math.sqrt(h[0]*h[0]+h[1]*h[1]);q/=S.earth.radius;if(ma===A.WEB_MERCATOR)return l[0]=h*q,l[1]=h*q,l[2]=1,!0;if(ma===A.WGS84||ma===A.CGCS2000)return ma=eb,l[0]=ma*h*q,l[1]=ma*q,l[2]=1,!0}else if(ka===A.PLATE_CARREE){if(ma===A.WGS84||ma===A.CGCS2000)return l[0]=eb,l[1]=eb,l[2]=1,!0;if(ma===A.WEB_MERCATOR)return ma=h[1]/S.earth.radius,l[0]=1,l[1]=1/Math.cos(ma),l[2]=1,!0}return!1};
d.lonLatToSphericalPCPF=function(h,q,l,H){const ka=Math.cos(l);h[0]=Math.cos(q)*ka*H;h[1]=Math.sin(q)*ka*H;h[2]=Math.sin(l)*H};d.lonLatToWebMercatorComparable=Z;d.project=aa;d.projectBoundingRect=function(h,q,l,H){if(null==h)return!1;if(z.equals(q,H))return K.copy(l,h),!0;Ja[0]=h[0];Ja[1]=h[1];Ja[2]=0;if(!qa(Ja,q,0,Ja,H,0,1))return!1;l[0]=Ja[0];l[1]=Ja[1];Ja[0]=h[2];Ja[1]=h[3];Ja[2]=0;if(!qa(Ja,q,0,Ja,H,0,1))return!1;l[2]=Ja[0];l[3]=Ja[1];return!0};d.projectBoundingSphere=function(h,q,l,H){if(x.isNone(q)||
x.isNone(H))return!1;q=Ua(q,H,kb);if(q.projector===p)return l[0]=h[0],l[1]=h[1],l[2]=h[2],l[3]=h[3],!0;if(x.isNone(q.projector))return!1;const {source:ka,dest:ma}=q;if(ma.spatialReferenceId===A.WEB_MERCATOR){q=Wa[ka.spatialReferenceId][A.WGS84];if(x.isNone(q))return!1;q(h,0,Ya,0);ca(Ya,0,l,0);l[3]=Aa(Ya[1],h[2],h[3],S.earth.radius);return!0}if(ka.spatialReferenceId!==A.WGS84&&ka.spatialReferenceId!==A.CGCS2000||ma.spatialReferenceId!==A.PLATE_CARREE)q.projector(h,0,l,0),l[3]=h[3]*(ka.metersPerUnit??
1)/(ma.metersPerUnit??1);else{H=Wa[A.SPHERICAL_ECEF][A.PLATE_CARREE];let ua=h[3];x.isSome(Wa[ka.spatialReferenceId][A.SPHERICAL_ECEF])&&x.isSome(H)&&(ua=Aa(h[1],h[2],h[3],S.earth.radius));q.projector(h,0,l,0);l[3]=ua}return!0};d.projectBuffer=qa;d.projectDirection=function(h,q,l,H,ka){ia.copy(Da,h);ia.add(gb,h,q);I(Da,l,Da,ka);I(gb,l,gb,ka);ia.subtract(H,gb,Da);ia.normalize(H,H)};d.projectExtent=function(h,q,l=q.spatialReference,H=0){return x.isSome(h.spatialReference)&&x.isSome(l)&&x.isSome(f(h,
h.spatialReference,q,l,H))};d.projectMany=la;d.projectMultipoint=function(h,q,l=q.spatialReference,H=0){return x.isSome(h.spatialReference)&&x.isSome(l)&&x.isSome(t(h,h.spatialReference,q,l,H))};d.projectOrLoad=function(h,q){h=pa([h],q);return x.isSome(h.pending)?{pending:h.pending,geometry:null}:x.isSome(h.geometries)?{pending:null,geometry:h.geometries[0]}:{pending:null,geometry:null}};d.projectOrLoadMany=pa;d.projectPoint=function(h,q,l=q.spatialReference,H=0){return x.isSome(l)&&x.isSome(h.spatialReference)&&
x.isSome(G(h,h.spatialReference,q,l,H))};d.projectPointToVector=function(h,q,l,H=0){Da[0]=h.x;Da[1]=h.y;const ka=h.z;Da[2]=void 0!==ka?ka:H;return qa(Da,h.spatialReference,0,q,l,0,1)};d.projectPointToWGS84ComparableLonLat=function(h,q){Da[0]=h.x;Da[1]=h.y;const l=h.z;Da[2]=void 0!==l?l:0;return fa(Da,h.spatialReference,q)};d.projectPolygon=function(h,q,l=q.spatialReference,H=0){return x.isSome(h.spatialReference)&&x.isSome(l)&&x.isSome(c(h,h.spatialReference,q,l,H))};d.projectPolygonToWGS84ComparableLonLat=
function({hasZ:h,spatialReference:q,rings:l},H,ka=0){q=b(q,cb);q=Wa[q][A.WGS84_COMPARABLE_LON_LAT];if(x.isNone(q))return!1;h=h?ma=>ma:ma=>ia.set(Da,ma[0],ma[1],ka);for(const ma of l){l=[];for(const ua of ma){const za=[0,0,ka];q(h(ua),0,za,0);l.push(za)}H.push(l)}return!0};d.projectPolyline=function(h,q,l=q.spatialReference,H=0){return x.isSome(h.spatialReference)&&x.isSome(l)&&x.isSome(e(h,h.spatialReference,q,l,H))};d.projectPolylineToWGS84ComparableLonLat=function({hasZ:h,spatialReference:q,paths:l},
H,ka=0){q=b(q,cb);q=Wa[q][A.WGS84_COMPARABLE_LON_LAT];if(x.isNone(q))return!1;h=h?ma=>ma:ma=>ia.set(Da,ma[0],ma[1],ka);for(const ma of l){l=[];for(const ua of ma){const za=[0,0,ka];q(h(ua),0,za,0);l.push(za)}H.push(l)}return!0};d.projectVectorToDehydratedPoint=function(h,q,l){return qa(h,q,0,Da,l.spatialReference,0,1)?(l.x=Da[0],l.y=Da[1],l.z=Da[2],l):null};d.projectVectorToPoint=function(h,q,l){if(x.isNone(q)||x.isNone(l))return null;const H=new Y({spatialReference:l});return qa(h,q,0,Da,l,0,1)?
(H.x=Da[0],H.y=Da[1],H.z=Da[2],H):null};d.projectVectorToVector=I;d.projectVectorToWGS84ComparableLonLat=function(h,q,l){return fa(h,q,l)};d.projectWithoutEngine=ra;d.projectXYZToVector=w;d.sphericalPCPFtoLonLatElevation=xa;d.test={get loadPromise(){return $a}};d.tryProjectWithZConversion=g;d.unload=function(){$a=Ga=Ka=null;bb={}};Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../../../chunks/_rollupPluginBabelHelpers",
"../ObservableBase"],function(k,d,ea){ea=function(Q){function O(){return Q.apply(this,arguments)||this}d._inheritsLoose(O,Q);O.prototype.notify=function(){var x=this._observers;if(x&&0<x.length){x=x.slice();for(const m of x)m.onInvalidated(),m.onCommitted()}};return O}(ea.ObservableBase);k.SimpleObservable=ea;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(k,d,
ea,Q,O){function x(){return!!d._pe}function m(){return!!O("esri-wasm")}function u(){return n?n:n=(new Promise((v,J)=>k(["./pe-wasm"],v,J))).then(v=>v.peWasm).then(({default:v})=>v({locateFile:J=>Q.getAssetUrl(`esri/geometry/support/${J}`)})).then(v=>{D(v)})}function D(v){function J(R,K,S){R[K]=S(R[K])}d._pe=v;d.PeDefs.init();d.PeGTlistExtended.init();d.PeNotationMgrs.init();d.PeNotationUtm.init();d.PePCSInfo.init();d.PeGCSExtent=function(R){function K(){return R.apply(this,arguments)||this}ea._inheritsLoose(K,
R);K.prototype.destroy=function(){d._pe.destroy(this)};return K}(d._pe.PeGCSExtent);v=[d._pe.PeDatum,d._pe.PeGeogcs,d._pe.PeGeogtran,d._pe.PeObject,d._pe.PeParameter,d._pe.PePrimem,d._pe.PeProjcs,d._pe.PeSpheroid,d._pe.PeUnit];for(var Y of v)J(Y.prototype,"getName",R=>function(){return R.call(this,Array(d.PeDefs.PE_NAME_MAX))});for(const R of[d._pe.PeGeogtran,d._pe.PeProjcs])J(R.prototype,"getParameters",K=>function(){const S=Array(d.PeDefs.PE_PARM_MAX);let ba=K.call(this);for(let X=0;X<S.length;X++){const z=
d._pe.getValue(ba,"*");S[X]=z?d._pe.wrapPointer(z,d._pe.PeParameter):null;ba+=Int32Array.BYTES_PER_ELEMENT}return S});J(d._pe.PeHorizon.prototype,"getCoord",R=>function(){const K=this.getSize();if(!K)return null;const S=[],ba=R.call(this);ha(S,K,ba);return S});J(d._pe.PeGTlistExtendedEntry.prototype,"getEntries",R=>{const K=d._pe._pe_getPeGTlistExtendedGTsSize();return function(){let S=null;var ba=R.call(this);if(!d._pe.compare(ba,d._pe.NULL)){S=[ba];const X=this.getSteps();if(1<X){ba=d._pe.getPointer(ba);
for(let z=1;z<X;z++)S.push(d._pe.wrapPointer(ba+K*z,d._pe.PeGTlistExtendedGTs))}}return S}});const U=d._pe._pe_getPeHorizonSize();Y=R=>function(){let K=this._cache;K||(this._cache=K=new Map);if(K.has(R))return K.get(R);let S=null;var ba=R.call(this);if(!d._pe.compare(ba,d._pe.NULL)){S=[ba];const X=ba.getNump();if(1<X){ba=d._pe.getPointer(ba);for(let z=1;z<X;z++)S.push(d._pe.wrapPointer(ba+U*z,d._pe.PeHorizon))}}K.set(R,S);return S};J(d._pe.PeProjcs.prototype,"horizonGcsGenerate",Y);J(d._pe.PeProjcs.prototype,
"horizonPcsGenerate",Y);d._pe.PeObject.prototype.toString=function(R=d.PeDefs.PE_STR_OPTS_NONE){d._pe.ensureCache.prepare();const K=d._pe.getPointer(this),S=d._pe.ensureInt8(Array(d.PeDefs.PE_BUFFER_MAX));return d._pe.UTF8ToString(d._pe._pe_object_to_string_ext(K,R,S))}}function M(v){if(v){var J=d._pe.getClass(v);J&&(J=d._pe.getCache(J))&&(v=d._pe.getPointer(v))&&delete J[v]}}function N(v,J){const Y=[];J=Array(J);for(let U=0;U<v;U++)Y.push(d._pe.ensureInt8(J));return Y}function ia(v){let J;Array.isArray(v[0])?
(J=[],v.forEach(Y=>{J.push(Y[0],Y[1])})):J=v;return J}function ha(v,J,Y,U=!1){if(U)for(U=0;U<2*J;U++)v[U]=d._pe.getValue(Y+U*Float64Array.BYTES_PER_ELEMENT,"double");else{U=0===v.length;for(let R=0;R<J;R++)U&&(v[R]=Array(2)),v[R][0]=d._pe.getValue(Y,"double"),v[R][1]=d._pe.getValue(Y+Float64Array.BYTES_PER_ELEMENT,"double"),Y+=2*Float64Array.BYTES_PER_ELEMENT}}let n;d._pe=null;d.PeCSTransformations=void 0;(function(v){function J(R,K,S){d._pe.ensureCache.prepare();var ba=ia(S);const X=S===ba;ba=d._pe.ensureFloat64(ba);
(R=d._pe._pe_geog_to_proj(d._pe.getPointer(R),K,ba))&&ha(S,K,ba,X);return R}function Y(R,K,S){return U(R,K,S,0)}function U(R,K,S,ba){d._pe.ensureCache.prepare();var X=ia(S);const z=S===X;X=d._pe.ensureFloat64(X);(R=d._pe._pe_proj_to_geog_center(d._pe.getPointer(R),K,X,ba))&&ha(S,K,X,z);return R}v.geogToProj=J;v.projGeog=function(R,K,S,ba){switch(ba){case d.PeDefs.PE_TRANSFORM_P_TO_G:return Y(R,K,S);case d.PeDefs.PE_TRANSFORM_G_TO_P:return J(R,K,S)}return 0};v.projToGeog=Y;v.projToGeogCenter=U})(d.PeCSTransformations||
(d.PeCSTransformations={}));d.PeDefs=void 0;(function(v){v.init=function(){v.PE_BUFFER_MAX=d._pe.PeDefs.prototype.PE_BUFFER_MAX;v.PE_NAME_MAX=d._pe.PeDefs.prototype.PE_NAME_MAX;v.PE_MGRS_MAX=d._pe.PeDefs.prototype.PE_MGRS_MAX;v.PE_USNG_MAX=d._pe.PeDefs.prototype.PE_USNG_MAX;v.PE_DD_MAX=d._pe.PeDefs.prototype.PE_DD_MAX;v.PE_DDM_MAX=d._pe.PeDefs.prototype.PE_DDM_MAX;v.PE_DMS_MAX=d._pe.PeDefs.prototype.PE_DMS_MAX;v.PE_UTM_MAX=d._pe.PeDefs.prototype.PE_UTM_MAX;v.PE_PARM_MAX=d._pe.PeDefs.prototype.PE_PARM_MAX;
v.PE_TYPE_NONE=d._pe.PeDefs.prototype.PE_TYPE_NONE;v.PE_TYPE_GEOGCS=d._pe.PeDefs.prototype.PE_TYPE_GEOGCS;v.PE_TYPE_PROJCS=d._pe.PeDefs.prototype.PE_TYPE_PROJCS;v.PE_TYPE_GEOGTRAN=d._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;v.PE_TYPE_COORDSYS=d._pe.PeDefs.prototype.PE_TYPE_COORDSYS;v.PE_TYPE_UNIT=d._pe.PeDefs.prototype.PE_TYPE_UNIT;v.PE_TYPE_LINUNIT=d._pe.PeDefs.prototype.PE_TYPE_LINUNIT;v.PE_STR_OPTS_NONE=d._pe.PeDefs.prototype.PE_STR_OPTS_NONE;v.PE_STR_AUTH_NONE=d._pe.PeDefs.prototype.PE_STR_AUTH_NONE;
v.PE_STR_AUTH_TOP=d._pe.PeDefs.prototype.PE_STR_AUTH_TOP;v.PE_STR_NAME_CANON=d._pe.PeDefs.prototype.PE_STR_NAME_CANON;v.PE_PARM_X0=d._pe.PeDefs.prototype.PE_PARM_X0;v.PE_PARM_ND=d._pe.PeDefs.prototype.PE_PARM_ND;v.PE_TRANSFORM_1_TO_2=d._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;v.PE_TRANSFORM_2_TO_1=d._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;v.PE_TRANSFORM_P_TO_G=d._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;v.PE_TRANSFORM_G_TO_P=d._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;v.PE_HORIZON_RECT=d._pe.PeDefs.prototype.PE_HORIZON_RECT;
v.PE_HORIZON_POLY=d._pe.PeDefs.prototype.PE_HORIZON_POLY;v.PE_HORIZON_LINE=d._pe.PeDefs.prototype.PE_HORIZON_LINE;v.PE_HORIZON_DELTA=d._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(d.PeDefs||(d.PeDefs={}));d.PeFactory=void 0;(function(v){function J(K,S){let ba=null,X=Y[K];X||(X={},Y[K]=X);X.hasOwnProperty(String(S))?ba=X[S]:(K=d._pe.PeFactory.prototype.factoryByType(K,S),d._pe.compare(K,d._pe.NULL)||(ba=K,X[S]=ba));return ba=R(ba)}const Y={},U={},R=K=>{if(K){const S=K.getType();switch(S){case d.PeDefs.PE_TYPE_GEOGCS:K=
d._pe.castObject(K,d._pe.PeGeogcs);break;case d.PeDefs.PE_TYPE_PROJCS:K=d._pe.castObject(K,d._pe.PeProjcs);break;case d.PeDefs.PE_TYPE_GEOGTRAN:K=d._pe.castObject(K,d._pe.PeGeogtran);break;default:S&d.PeDefs.PE_TYPE_UNIT&&(K=d._pe.castObject(K,d._pe.PeUnit))}}return K};v.initialize=function(){d._pe.PeFactory.prototype.initialize(null)};v.coordsys=function(K){return J(d.PeDefs.PE_TYPE_COORDSYS,K)};v.factoryByType=J;v.fromString=function(K,S){let ba=null,X=U[K];X||(X={},U[K]=X);X.hasOwnProperty(S)?
ba=X[S]:(K=d._pe.PeFactory.prototype.fromString(K,S),d._pe.compare(K,d._pe.NULL)||(ba=K,X[S]=ba));return ba=R(ba)};v.geogcs=function(K){return J(d.PeDefs.PE_TYPE_GEOGCS,K)};v.geogtran=function(K){return J(d.PeDefs.PE_TYPE_GEOGTRAN,K)};v.getCode=function(K){return d._pe.PeFactory.prototype.getCode(K)};v.projcs=function(K){return J(d.PeDefs.PE_TYPE_PROJCS,K)};v.unit=function(K){return J(d.PeDefs.PE_TYPE_UNIT,K)}})(d.PeFactory||(d.PeFactory={}));d.PeGCSExtent=null;d.PeGTlistExtended=void 0;(function(v){let J;
v.init=function(){v.PE_GTLIST_OPTS_COMMON=d._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;J=d._pe._pe_getPeGTlistExtendedEntrySize()};v.getGTlist=function(Y,U,R,K,S,ba){let X=null;const z=new d._pe.PeInteger(ba);try{const E=d._pe.PeGTlistExtended.prototype.getGTlist(Y,U,R,K,S,z);if(ba=z.val)if(X=[E],1<ba){const B=d._pe.getPointer(E);for(Y=1;Y<ba;Y++)X.push(d._pe.wrapPointer(B+J*Y,d._pe.PeGTlistExtendedEntry))}}finally{d._pe.destroy(z)}return X}})(d.PeGTlistExtended||(d.PeGTlistExtended={}));
d.PeGTlistExtendedEntry=void 0;(function(v){v.destroy=function(J){if(J&&J.length){for(const Y of J)M(Y),Y.getEntries().forEach(U=>{M(U);U=U.getGeogtran();M(U);U.getParameters().forEach(M);[U.getGeogcs1(),U.getGeogcs2()].forEach(R=>{M(R);const K=R.getDatum();M(K);M(K.getSpheroid());M(R.getPrimem());M(R.getUnit())})});d._pe.PeGTlistExtendedEntry.prototype.Delete(J[0])}}})(d.PeGTlistExtendedEntry||(d.PeGTlistExtendedEntry={}));d.PeGTTransformations=void 0;(function(v){v.geogToGeog=function(J,Y,U,R,K){d._pe.ensureCache.prepare();
var S=ia(U);const ba=U===S;S=d._pe.ensureFloat64(S);let X=0;R&&(X=d._pe.ensureFloat64(R));(J=d._pe._pe_geog_to_geog(d._pe.getPointer(J),Y,S,X,K))&&ha(U,Y,S,ba);return J}})(d.PeGTTransformations||(d.PeGTTransformations={}));d.PeNotationDms=void 0;(function(v){const J=(U,R,K,S,ba,X)=>{d._pe.ensureCache.prepare();switch(U){case "dd":var z=d._pe._pe_geog_to_dd;var E=d.PeDefs.PE_DD_MAX;break;case "ddm":z=d._pe._pe_geog_to_ddm;E=d.PeDefs.PE_DDM_MAX;break;case "dms":z=d._pe._pe_geog_to_dms,E=d.PeDefs.PE_DMS_MAX}U=
0;R&&(U=d._pe.getPointer(R));R=ia(S);R=d._pe.ensureFloat64(R);E=N(K,E);S=d._pe.ensureInt32(E);if(ba=z(U,K,R,ba,S))for(z=0;z<K;z++)X[z]=d._pe.UTF8ToString(E[z]);return ba},Y=(U,R,K,S,ba)=>{d._pe.ensureCache.prepare();switch(U){case "dd":var X=d._pe._pe_dd_to_geog;break;case "ddm":X=d._pe._pe_ddm_to_geog;break;case "dms":X=d._pe._pe_dms_to_geog}U=0;R&&(U=d._pe.getPointer(R));R=S.map(z=>d._pe.ensureString(z));S=d._pe.ensureInt32(R);R=d._pe.ensureFloat64(Array(2*K));(X=X(U,K,S,R))&&ha(ba,K,R);return X};
v.geogToDms=function(U,R,K,S,ba){return J("dms",U,R,K,S,ba)};v.dmsToGeog=function(U,R,K,S){return Y("dms",U,R,K,S)};v.geogToDdm=function(U,R,K,S,ba){return J("ddm",U,R,K,S,ba)};v.ddmToGeog=function(U,R,K,S){return Y("ddm",U,R,K,S)};v.geogToDd=function(U,R,K,S,ba){return J("dd",U,R,K,S,ba)};v.ddToGeog=function(U,R,K,S){return Y("dd",U,R,K,S)}})(d.PeNotationDms||(d.PeNotationDms={}));d.PeNotationMgrs=void 0;(function(v){v.init=function(){v.PE_MGRS_STYLE_NEW=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;
v.PE_MGRS_STYLE_OLD=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;v.PE_MGRS_STYLE_AUTO=d._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;v.PE_MGRS_180_ZONE_1_PLUS=d._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;v.PE_MGRS_ADD_SPACES=d._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};v.geogToMgrsExtended=function(J,Y,U,R,K,S,ba){d._pe.ensureCache.prepare();let X=0;J&&(X=d._pe.getPointer(J));J=ia(U);U=d._pe.ensureFloat64(J);J=N(Y,d.PeDefs.PE_MGRS_MAX);const z=d._pe.ensureInt32(J);if(R=d._pe._pe_geog_to_mgrs_extended(X,
Y,U,R,K,S,z))for(K=0;K<Y;K++)ba[K]=d._pe.UTF8ToString(J[K]);return R};v.mgrsToGeogExtended=function(J,Y,U,R,K){d._pe.ensureCache.prepare();let S=0;J&&(S=d._pe.getPointer(J));J=U.map(ba=>d._pe.ensureString(ba));U=d._pe.ensureInt32(J);J=d._pe.ensureFloat64(Array(2*Y));(R=d._pe._pe_mgrs_to_geog_extended(S,Y,U,R,J))&&ha(K,Y,J);return R}})(d.PeNotationMgrs||(d.PeNotationMgrs={}));d.PeNotationUsng=void 0;(function(v){v.geogToUsng=function(J,Y,U,R,K,S,ba){d._pe.ensureCache.prepare();let X=0;J&&(X=d._pe.getPointer(J));
J=ia(U);U=d._pe.ensureFloat64(J);J=N(Y,d.PeDefs.PE_MGRS_MAX);const z=d._pe.ensureInt32(J);if(R=d._pe._pe_geog_to_usng(X,Y,U,R,K,S,z))for(K=0;K<Y;K++)ba[K]=d._pe.UTF8ToString(J[K]);return R};v.usngToGeog=function(J,Y,U,R){d._pe.ensureCache.prepare();var K=0;J&&(K=d._pe.getPointer(J));J=U.map(S=>d._pe.ensureString(S));U=d._pe.ensureInt32(J);J=d._pe.ensureFloat64(Array(2*Y));(K=d._pe._pe_usng_to_geog(K,Y,U,J))&&ha(R,Y,J);return K}})(d.PeNotationUsng||(d.PeNotationUsng={}));d.PeNotationUtm=void 0;(function(v){v.init=
function(){v.PE_UTM_OPTS_NONE=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;v.PE_UTM_OPTS_ADD_SPACES=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;v.PE_UTM_OPTS_NS=d._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};v.geogToUtm=function(J,Y,U,R,K){d._pe.ensureCache.prepare();var S=0;J&&(S=d._pe.getPointer(J));J=ia(U);U=d._pe.ensureFloat64(J);J=N(Y,d.PeDefs.PE_UTM_MAX);const ba=d._pe.ensureInt32(J);if(R=d._pe._pe_geog_to_utm(S,Y,U,R,ba))for(S=0;S<Y;S++)K[S]=d._pe.UTF8ToString(J[S]);return R};v.utmToGeog=
function(J,Y,U,R,K){d._pe.ensureCache.prepare();let S=0;J&&(S=d._pe.getPointer(J));J=U.map(ba=>d._pe.ensureString(ba));U=d._pe.ensureInt32(J);J=d._pe.ensureFloat64(Array(2*Y));(R=d._pe._pe_utm_to_geog(S,Y,U,R,J))&&ha(K,Y,J);return R}})(d.PeNotationUtm||(d.PeNotationUtm={}));d.PePCSInfo=void 0;(function(v){const J=new Map;v.init=function(){v.PE_PCSINFO_OPTION_NONE=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;v.PE_PCSINFO_OPTION_DOMAIN=d._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;v.PE_POLE_OUTSIDE_BOUNDARY=
d._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;v.PE_POLE_POINT=d._pe.PePCSInfo.prototype.PE_POLE_POINT};v.generate=function(Y,U=v.PE_PCSINFO_OPTION_DOMAIN){let R=null,K=null;J.has(Y)&&(K=J.get(Y),K[U]&&(R=K[U]));R||(R=d._pe.PePCSInfo.prototype.generate(Y,U),K||(K=[],J.set(Y,K)),K[U]=R);return R}})(d.PePCSInfo||(d.PePCSInfo={}));d.PeVersion=void 0;(function(v){v.versionString=function(){return d._pe.PeVersion.prototype.version_string()}})(d.PeVersion||(d.PeVersion={}));const C=Object.freeze(Object.defineProperty({__proto__:null,
get PeCSTransformations(){return d.PeCSTransformations},get PeDefs(){return d.PeDefs},get PeFactory(){return d.PeFactory},get PeGCSExtent(){return d.PeGCSExtent},get PeGTTransformations(){return d.PeGTTransformations},get PeGTlistExtended(){return d.PeGTlistExtended},get PeGTlistExtendedEntry(){return d.PeGTlistExtendedEntry},get PeNotationDms(){return d.PeNotationDms},get PeNotationMgrs(){return d.PeNotationMgrs},get PeNotationUsng(){return d.PeNotationUsng},get PeNotationUtm(){return d.PeNotationUtm},
get PePCSInfo(){return d.PePCSInfo},get PeVersion(){return d.PeVersion},_init:D,get _pe(){return d._pe},isLoaded:x,isSupported:m,load:u},Symbol.toStringTag,{value:"Module"}));d._init=D;d.isLoaded=x;d.isSupported=m;d.load=u;d.pe=C})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],function(k,d,ea,Q,O){function x(n=ha){return[n[0],n[1],n[2],n[3]]}function m(n,C){n!==C&&(n[0]=C[0],n[1]=C[1],n[2]=C[2],n[3]=C[3]);
return n}function u(n){return Q.isNone(n)||n[0]>=n[2]?0:n[2]-n[0]}function D(n){return n[1]>=n[3]?0:n[3]-n[1]}function M(n,C,v){return C>=n[0]&&v>=n[1]&&C<=n[2]&&v<=n[3]}function N(n){return null!=n&&4===n.length}const ia=[Infinity,Infinity,-Infinity,-Infinity],ha=[0,0,0,0];k.NEGATIVE_INFINITY=ia;k.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];k.UNIT=[0,0,1,1];k.ZERO=ha;k.allFinite=function(n){for(let C=0;4>C;C++)if(!isFinite(n[C]))return!1;return!0};k.area=function(n){return u(n)*D(n)};
k.center=function(n,C=[0,0]){C[0]=(n[0]+n[2])/2;C[1]=(n[1]+n[3])/2;return C};k.clone=function(n){return[n[0],n[1],n[2],n[3]]};k.contains=function(n,C){return C[0]>=n[0]&&C[2]<=n[2]&&C[1]>=n[1]&&C[3]<=n[3]};k.containsPoint=function(n,C){return M(n,C[0],C[1])};k.containsPointObject=function(n,C){return M(n,C.x,C.y)};k.containsPointWithMargin=function(n,C,v){return C[0]>=n[0]-v&&C[1]>=n[1]-v&&C[0]<=n[2]+v&&C[1]<=n[3]+v};k.containsXY=M;k.containsXYWithMargin=function(n,C,v,J){return C>=n[0]-J&&v>=n[1]-
J&&C<=n[2]+J&&v<=n[3]+J};k.copy=m;k.create=x;k.distance=function(n,C){const v=(n[1]+n[3])/2,J=Math.max(Math.abs(C[0]-(n[0]+n[2])/2)-u(n)/2,0);n=Math.max(Math.abs(C[1]-v)-D(n)/2,0);return Math.sqrt(J*J+n*n)};k.empty=function(n){return n?m(n,ia):x(ia)};k.equals=function(n,C){return N(n)&&N(C)?n[0]===C[0]&&n[1]===C[1]&&n[2]===C[2]&&n[3]===C[3]:n===C};k.expand=function(n,C,v){if(Q.isNone(C))m(v,n);else if("length"in C)if(N(C))v[0]=Math.min(n[0],C[0]),v[1]=Math.min(n[1],C[1]),v[2]=Math.max(n[2],C[2]),
v[3]=Math.max(n[3],C[3]);else{if(2===C.length||3===C.length)v[0]=Math.min(n[0],C[0]),v[1]=Math.min(n[1],C[1]),v[2]=Math.max(n[2],C[0]),v[3]=Math.max(n[3],C[1])}else switch(C.type){case "extent":v[0]=Math.min(n[0],C.xmin);v[1]=Math.min(n[1],C.ymin);v[2]=Math.max(n[2],C.xmax);v[3]=Math.max(n[3],C.ymax);break;case "point":v[0]=Math.min(n[0],C.x),v[1]=Math.min(n[1],C.y),v[2]=Math.max(n[2],C.x),v[3]=Math.max(n[3],C.y)}};k.expandPointInPlace=function(n,C){C[0]<n[0]&&(n[0]=C[0]);C[0]>n[2]&&(n[2]=C[0]);C[1]<
n[1]&&(n[1]=C[1]);C[1]>n[3]&&(n[3]=C[1])};k.expandWithNestedArray=function(n,C,v=n){const J=C.length;let Y=n[0],U=n[1],R=n[2];n=n[3];for(let K=0;K<J;K++){const S=C[K];Y=Math.min(Y,S[0]);U=Math.min(U,S[1]);R=Math.max(R,S[0]);n=Math.max(n,S[1])}v[0]=Y;v[1]=U;v[2]=R;v[3]=n;return v};k.fromExtent=function(n,C=x()){C[0]=n.xmin;C[1]=n.ymin;C[2]=n.xmax;C[3]=n.ymax;return C};k.fromValues=function(n,C,v,J,Y=x()){Y[0]=n;Y[1]=C;Y[2]=v;Y[3]=J;return Y};k.height=D;k.intersection=function(n,C,v){if(Q.isNone(C))return m(v,
n);const J=C[0],Y=C[1],U=C[2];C=C[3];v[0]=ea.clamp(n[0],J,U);v[1]=ea.clamp(n[1],Y,C);v[2]=ea.clamp(n[2],J,U);v[3]=ea.clamp(n[3],Y,C);return v};k.intersects=function(n,C){return Math.max(C[0],n[0])<=Math.min(C[2],n[2])&&Math.max(C[1],n[1])<=Math.min(C[3],n[3])};k.intersectsSegment=function(n,C,v){const J=n[0],Y=n[1],U=n[2];n=n[3];const {x:R,y:K}=C,{x:S,y:ba}=v;var X=(E,B)=>0>(ba-K)*E+(R-S)*B+(S*K-R*ba);C=X(J,n);v=X(U,n);const z=X(U,Y);X=X(J,Y);return C===v&&v===z&&z===X&&X===C||R<J&&S<J||R>U&&S>U||
K>n&&ba>n||K<Y&&ba<Y?!1:!0};k.intersectsSphere=function(n,C){const v=C[3];var J=Math.abs(C[0]-.5*(n[0]+n[2]));const Y=.5*(n[2]-n[0]);if(J>v+Y)return!1;var U=.5*(n[3]-n[1]);n=Math.abs(C[1]-.5*(n[1]+n[3]));if(n>v+U)return!1;if(J<Y||n<U)return!0;J-=Y;U=n-U;return J*J+U*U<=v*v};k.is=N;k.isPoint=function(n){return(0===u(n)||!isFinite(n[0]))&&(0===D(n)||!isFinite(n[1]))};k.offset=function(n,C,v,J=n){J[0]=n[0]+C;J[1]=n[1]+v;J[2]=n[2]+C;J[3]=n[3]+v;return J};k.pad=function(n,C,v=n){v[0]=n[0]-C;v[1]=n[1]-
C;v[2]=n[2]+C;v[3]=n[3]+C;return v};k.setMax=function(n,C,v=n){v[2]=C[0];v[3]=C[1];v!==n&&(v[0]=n[0],v[1]=n[1]);return n};k.setMin=function(n,C,v=n){v[0]=C[0];v[1]=C[1];v!==n&&(v[2]=n[2],v[3]=n[3]);return v};k.size=function(n,C){C[0]=n[2]-n[0];C[1]=n[3]-n[1]};k.toExtent=function(n,C){return new O({xmin:n[0],ymin:n[1],xmax:n[2],ymax:n[3],spatialReference:C})};k.width=u;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports",
"./Ellipsoid"],function(k,d){const ea=Math.PI/180;var Q=d.earth.radius;const O=d.earth.eccentricitySquared;Q={a1:Q*O,a2:Q*O*Q*O,a3:Q*O*O/2,a4:Q*O*Q*O*2.5,a5:Q*O+Q*O*O/2,a6:1-O};d={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:d.earth.radius,f:d.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:d.moon.radius,f:d.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:d.mars.radius,f:d.mars.flattening},104906:{a:6200,
f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,
f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},
104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:d.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};
k.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;k.earthEllipsoidConstants=Q;k.spheroids=d;k.toRadians=ea;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(k){return function(){function d(Q){this.steps=[];this._cachedProjection={};this._chain="";this._gtlistentry=null;if(Q&&Q.steps)for(const O of Q.steps)O instanceof k?this.steps.push(O):this.steps.push(new k({wkid:O.wkid,wkt:O.wkt,
isInverse:O.isInverse}))}d.cacheKey=function(Q,O){return[void 0!==Q.wkid&&null!==Q.wkid?Q.wkid.toString():"-1",void 0!==Q.wkt&&null!==Q.wkt?Q.wkt.toString():"",void 0!==O.wkid&&null!==O.wkid?O.wkid.toString():"-1",void 0!==O.wkt&&null!==O.wkt?O.wkt.toString():""].join()};d.fromGE=function(Q){const O=new d;let x="";for(const m of Q.steps)Q=k.fromGE(m),O.steps.push(Q),x+=Q.uid.toString()+",";O._cachedProjection={};O._gtlistentry=null;O._chain=x;return O};var ea=d.prototype;ea.getInverse=function(){const Q=
new d;Q.steps=[];for(let O=this.steps.length-1;0<=O;O--)Q.steps.push(this.steps[O].getInverse());return Q};ea.getGTListEntry=function(){let Q="";for(const O of this.steps)Q+=O.uid.toString()+",";Q!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=Q);return this._gtlistentry};ea.assignCachedGe=function(Q,O,x){this._cachedProjection[d.cacheKey(Q,O)]=x};ea.getCachedGeTransformation=function(Q,O){let x="";for(const m of this.steps)x+=m.uid.toString()+",";x!==this._chain&&(this._gtlistentry=
null,this._cachedProjection={},this._chain=x);Q=this._cachedProjection[d.cacheKey(Q,O)];return void 0===Q?null:Q};return d}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(k){let d=0;return function(){function ea(Q){this.uid=d++;Q?(this._wkt=null!=Q.wkt?Q.wkt:null,this._wkid=null!=Q.wkid?Q.wkid:-1,this._isInverse=null!=Q.isInverse?!0===Q.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}ea.fromGE=function(Q){const O=
new ea;O._wkt=Q.wkt;O._wkid=Q.wkid;O._isInverse=Q.isInverse;return O};ea.prototype.getInverse=function(){const Q=new ea;Q._wkt=this.wkt;Q._wkid=this._wkid;Q._isInverse=!this.isInverse;return Q};k._createClass(ea,[{key:"wkt",get:function(){return this._wkt},set:function(Q){this._wkt=Q;this.uid=d++}},{key:"wkid",get:function(){return this._wkid},set:function(Q){this._wkid=Q;this.uid=d++}},{key:"isInverse",get:function(){return this._isInverse},set:function(Q){this._isInverse=Q;this.uid=d++}}]);return ea}()})},
"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(k,d,ea,Q){k.getGeometryZScaler=function(O,x,m){if(d.isNone(x)||d.isNone(m)||m.vcsWkid||Q.equals(x,m))return null;x=ea.getMetersPerVerticalUnitForSR(x);m=ea.getMetersPerVerticalUnitForSR(m);const u=x/m;if(1===u)return null;switch(O){case "point":case "esriGeometryPoint":return D=>{D&&null!=D.z&&(D.z*=u)};case "polyline":case "esriGeometryPolyline":return D=>{if(D)for(const M of D.paths)for(const N of M)2<
N.length&&(N[2]*=u)};case "polygon":case "esriGeometryPolygon":return D=>{if(D)for(const M of D.rings)for(const N of M)2<N.length&&(N[2]*=u)};case "multipoint":case "esriGeometryMultipoint":return D=>{if(D)for(const M of D.points)2<M.length&&(M[2]*=u)};case "extent":case "esriGeometryExtent":return D=>{D&&null!=D.zmin&&null!=D.zmax&&(D.zmin*=u,D.zmax*=u)};default:return null}};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports",
"./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(k,d,ea,Q){const O=new ea(d.SphericalECEFSpatialReferenceLike),x=new ea(d.SphericalPCPFMarsLike),m=new ea(d.SphericalPCPFMoonLike);d=new ea(d.WGS84ECEFSpatialReferenceLike);k.SphericalECEFSpatialReference=O;k.SphericalPCPFMars=x;k.SphericalPCPFMoon=m;k.WGS84ECEFSpatialReference=d;k.getSphericalPCPF=function(u){return u&&(Q.isMars(u)||Q.equals(u,x))?x:u&&(Q.isMoon(u)||Q.equals(u,m))?m:O};Object.defineProperty(k,Symbol.toStringTag,
{value:"Module"})})},"esri/geometry/support/MeshTransform":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/accessorSupport/decorators/subclass ../../chunks/mat4 ../../chunks/mat4f64 ../../chunks/quat ../../chunks/quatf64 ../../chunks/vec3 ../../chunks/vec3f64 ../Point ../projection ../spatialReferenceEllipsoidUtils ./axisAngleDegrees ./buffer/BufferView ../../chunks/vec32 ../../chunks/vec33".split(" "),
function(k,d,ea,Q,O,x,m,u,D,M,N,ia,ha,n,C,v,J,Y,U,R,K){var S;ea=S=function(X){function z(B){B=X.call(this,B)||this;B.origin=n.create();B.translation=n.create();B.rotation=Y.create();B.scale=n.fromValues(1,1,1);B.geographic=!0;return B}k._inheritsLoose(z,X);var E=z.prototype;E.applyLocal=function(B,F){return ha.transformMat4(F,B,this.localMatrix)};E.applyLocalInverse=function(B,F){return ha.transformMat4(F,B,this.localMatrixInverse)};E.project=function(B,F){const T=new Float64Array(B.length),aa=U.BufferViewVec3f64.fromTypedArray(T);
B=U.BufferViewVec3f64.fromTypedArray(B);if(this.geographic){const va=J.getSphericalPCPF(F),g=M.create();v.computeTranslationToOriginAndRotation(F,this.origin,g,va);D.multiply(g,g,this.localMatrix);R.transformMat4(aa,B,g);v.projectBuffer(T,va,0,T,F,0,T.length/3);return T}const {localMatrix:la,origin:pa}=this;D.equals(la,M.IDENTITY)?K.copy(aa,B):R.transformMat4(aa,B,la);for(F=0;F<T.length;F+=3)T[F+0]+=pa[0],T[F+1]+=pa[1],T[F+2]+=pa[2];return T};E.getOriginPoint=function(B){const [F,T,aa]=this.origin;
return new C({x:F,y:T,z:aa,spatialReference:B})};E.equals=function(B){return Q.isSome(B)&&this.geographic===B.geographic&&ha.exactEquals(this.origin,B.origin)&&D.exactEquals(this.localMatrix,B.localMatrix)};E.clone=function(){const B={origin:n.clone(this.origin),translation:n.clone(this.translation),rotation:Y.create(this.rotation),scale:n.clone(this.scale),geographic:this.geographic};return new S(B)};k._createClass(z,[{key:"localMatrix",get:function(){const B=M.create();N.setAxisAngle(ba,Y.axis(this.rotation),
Y.angleRad(this.rotation));D.fromRotationTranslationScale(B,ba,this.translation,this.scale);return B}},{key:"localMatrixInverse",get:function(){return D.invert(M.create(),this.localMatrix)}}]);return z}(ea.JSONSupport);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],ea.prototype,"origin",void 0);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],ea.prototype,"translation",void 0);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],
ea.prototype,"rotation",void 0);d.__decorate([O.property({type:[Number],nonNullable:!0,json:{write:!0}})],ea.prototype,"scale",void 0);d.__decorate([O.property({type:Boolean,nonNullable:!0,json:{write:!0}})],ea.prototype,"geographic",void 0);d.__decorate([O.property()],ea.prototype,"localMatrix",null);d.__decorate([O.property()],ea.prototype,"localMatrixInverse",null);ea=S=d.__decorate([u.subclass("esri.geometry.support.MeshTransform")],ea);const ba=ia.create();return ea})},"esri/chunks/quat":function(){define("exports ./mat3f64 ./quatf64 ./vec3f64 ./common ./vec3 ./vec4".split(" "),
function(k,d,ea,Q,O,x,m){function u(f){f[0]=0;f[1]=0;f[2]=0;f[3]=1;return f}function D(f,w,I){I*=.5;const fa=Math.sin(I);f[0]=fa*w[0];f[1]=fa*w[1];f[2]=fa*w[2];f[3]=Math.cos(I);return f}function M(f,w){const I=2*Math.acos(w[3]),fa=Math.sin(I/2);fa>O.getEpsilon()?(f[0]=w[0]/fa,f[1]=w[1]/fa,f[2]=w[2]/fa):(f[0]=1,f[1]=0,f[2]=0);return I}function N(f,w,I){const fa=w[0],qa=w[1],oa=w[2];w=w[3];const Aa=I[0],Ia=I[1],a=I[2];I=I[3];f[0]=fa*I+w*Aa+qa*a-oa*Ia;f[1]=qa*I+w*Ia+oa*Aa-fa*a;f[2]=oa*I+w*a+fa*Ia-qa*
Aa;f[3]=w*I-fa*Aa-qa*Ia-oa*a;return f}function ia(f,w,I){I*=.5;const fa=w[0],qa=w[1],oa=w[2];w=w[3];const Aa=Math.sin(I);I=Math.cos(I);f[0]=fa*I+w*Aa;f[1]=qa*I+oa*Aa;f[2]=oa*I-qa*Aa;f[3]=w*I-fa*Aa;return f}function ha(f,w,I){I*=.5;const fa=w[0],qa=w[1],oa=w[2];w=w[3];const Aa=Math.sin(I);I=Math.cos(I);f[0]=fa*I-oa*Aa;f[1]=qa*I+w*Aa;f[2]=oa*I+fa*Aa;f[3]=w*I-qa*Aa;return f}function n(f,w,I){I*=.5;const fa=w[0],qa=w[1],oa=w[2];w=w[3];const Aa=Math.sin(I);I=Math.cos(I);f[0]=fa*I+qa*Aa;f[1]=qa*I-fa*Aa;
f[2]=oa*I+w*Aa;f[3]=w*I-oa*Aa;return f}function C(f,w){const I=w[0],fa=w[1];w=w[2];f[0]=I;f[1]=fa;f[2]=w;f[3]=Math.sqrt(Math.abs(1-I*I-fa*fa-w*w));return f}function v(f,w,I,fa){const qa=w[0],oa=w[1],Aa=w[2];w=w[3];let Ia=I[0],a=I[1],b=I[2];I=I[3];let p;let y;var L=qa*Ia+oa*a+Aa*b+w*I;0>L&&(L=-L,Ia=-Ia,a=-a,b=-b,I=-I);1-L>O.getEpsilon()?(p=Math.acos(L),y=Math.sin(p),L=Math.sin((1-fa)*p)/y,fa=Math.sin(fa*p)/y):L=1-fa;f[0]=L*qa+fa*Ia;f[1]=L*oa+fa*a;f[2]=L*Aa+fa*b;f[3]=L*w+fa*I;return f}function J(f){var w=
O.RANDOM,I=w();const fa=w();w=w();const qa=Math.sqrt(1-I);I=Math.sqrt(I);f[0]=qa*Math.sin(2*Math.PI*fa);f[1]=qa*Math.cos(2*Math.PI*fa);f[2]=I*Math.sin(2*Math.PI*w);f[3]=I*Math.cos(2*Math.PI*w);return f}function Y(f,w){const I=w[0],fa=w[1],qa=w[2];w=w[3];var oa=I*I+fa*fa+qa*qa+w*w;oa=oa?1/oa:0;f[0]=-I*oa;f[1]=-fa*oa;f[2]=-qa*oa;f[3]=w*oa;return f}function U(f,w){f[0]=-w[0];f[1]=-w[1];f[2]=-w[2];f[3]=w[3];return f}function R(f,w){var I=w[0]+w[4]+w[8];if(0<I)I=Math.sqrt(I+1),f[3]=.5*I,I=.5/I,f[0]=(w[5]-
w[7])*I,f[1]=(w[6]-w[2])*I,f[2]=(w[1]-w[3])*I;else{let fa=0;w[4]>w[0]&&(fa=1);w[8]>w[3*fa+fa]&&(fa=2);const qa=(fa+1)%3,oa=(fa+2)%3;I=Math.sqrt(w[3*fa+fa]-w[3*qa+qa]-w[3*oa+oa]+1);f[fa]=.5*I;I=.5/I;f[3]=(w[3*qa+oa]-w[3*oa+qa])*I;f[qa]=(w[3*qa+fa]+w[3*fa+qa])*I;f[oa]=(w[3*oa+fa]+w[3*fa+oa])*I}return f}function K(f,w,I,fa){var qa=.5*Math.PI/180;w*=qa;I*=qa;fa*=qa;qa=Math.sin(w);w=Math.cos(w);const oa=Math.sin(I);I=Math.cos(I);const Aa=Math.sin(fa);fa=Math.cos(fa);f[0]=qa*I*fa-w*oa*Aa;f[1]=w*oa*fa+qa*
I*Aa;f[2]=w*I*Aa-qa*oa*fa;f[3]=w*I*fa+qa*oa*Aa;return f}function S(f){return"quat("+f[0]+", "+f[1]+", "+f[2]+", "+f[3]+")"}function ba(f,w,I){const fa=x.dot(w,I);if(-.999999>fa)return x.cross(P,ra,w),1E-6>x.len(P)&&x.cross(P,G,w),x.normalize(P,P),D(f,P,Math.PI),f;if(.999999<fa)return f[0]=0,f[1]=0,f[2]=0,f[3]=1,f;x.cross(P,w,I);f[0]=P[0];f[1]=P[1];f[2]=P[2];f[3]=1+fa;return g(f,f)}function X(f,w,I,fa,qa,oa){v(t,w,qa,oa);v(e,I,fa,oa);v(f,t,e,2*oa*(1-oa));return f}function z(f,w,I,fa){const qa=c;qa[0]=
I[0];qa[3]=I[1];qa[6]=I[2];qa[1]=fa[0];qa[4]=fa[1];qa[7]=fa[2];qa[2]=-w[0];qa[5]=-w[1];qa[8]=-w[2];return g(f,R(f,qa))}const E=m.copy,B=m.set,F=m.add,T=m.scale,aa=m.dot,la=m.lerp,pa=m.length,va=m.squaredLength,g=m.normalize,r=m.exactEquals;m=m.equals;const P=Q.create(),ra=Q.fromValues(1,0,0),G=Q.fromValues(0,1,0),t=ea.create(),e=ea.create(),c=d.create();d=Object.freeze(Object.defineProperty({__proto__:null,add:F,calculateW:C,conjugate:U,copy:E,dot:aa,equals:m,exactEquals:r,fromEuler:K,fromMat3:R,
getAxisAngle:M,identity:u,invert:Y,len:pa,length:pa,lerp:la,mul:N,multiply:N,normalize:g,random:J,rotateX:ia,rotateY:ha,rotateZ:n,rotationTo:ba,scale:T,set:B,setAxes:z,setAxisAngle:D,slerp:v,sqlerp:X,sqrLen:va,squaredLength:va,str:S},Symbol.toStringTag,{value:"Module"}));k.add=F;k.calculateW=C;k.conjugate=U;k.copy=E;k.dot=aa;k.equals=m;k.exactEquals=r;k.fromEuler=K;k.fromMat3=R;k.getAxisAngle=M;k.identity=u;k.invert=Y;k.len=pa;k.length=pa;k.lerp=la;k.mul=N;k.multiply=N;k.normalize=g;k.quat=d;k.random=
J;k.rotateX=ia;k.rotateY=ha;k.rotateZ=n;k.rotationTo=ba;k.scale=T;k.set=B;k.setAxes=z;k.setAxisAngle=D;k.slerp=v;k.sqlerp=X;k.sqrLen=va;k.squaredLength=va;k.str=S})},"esri/chunks/quatf64":function(){define(["exports"],function(k){function d(){return[0,0,0,1]}function ea(u){return[u[0],u[1],u[2],u[3]]}function Q(u,D,M,N){return[u,D,M,N]}function O(u,D){return new Float64Array(u,D,4)}const x=d(),m=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:x,clone:ea,create:d,createView:O,fromValues:Q},
Symbol.toStringTag,{value:"Module"}));k.IDENTITY=x;k.clone=ea;k.create=d;k.createView=O;k.fromValues=Q;k.quatf64=m})},"esri/geometry/support/axisAngleDegrees":function(){define(["exports","../../core/mathUtils","../../chunks/quat","../../chunks/quatf64","../../chunks/vec3"],function(k,d,ea,Q,O){function x(n=M){return[n[0],n[1],n[2],n[3]]}function m(n,C,v,J,Y=x()){Y[0]=n;Y[1]=C;Y[2]=v;Y[3]=J;return Y}function u(n){return d.deg2rad(n[3])}function D(n,C){n[3]=C;return n}const M=[0,0,1,0],N=Q.create(),
ia=Q.create(),ha=x();k.UP=M;k.angle=function(n){return n[3]};k.angleRad=u;k.axis=function(n){return n};k.compose=function(n,C,v=x()){ea.setAxisAngle(N,n,u(n));ea.setAxisAngle(ia,C,u(C));ea.multiply(N,ia,N);return D(v,d.rad2deg(ea.getAxisAngle(v,N)))};k.copy=function(n,C=x()){return m(n[0],n[1],n[2],n[3],C)};k.create=x;k.fromAxisAndAngle=function(n,C,v=x()){O.copy(v,n);v[3]=C;return v};k.fromPoints=function(n,C,v=x()){O.cross(v,n,C);O.normalize(v,v);v[3]=-O.angle(n,C);return v};k.fromValues=m;k.setAngle=
D;k.wrap=function(n,C,v,J){return m(n,C,v,J,ha)};k.wrapAxisAngle=function(n,C){return m(n[0],n[1],n[2],C,ha)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ./internals/Mat3 ./internals/Mat4 ./internals/Scalar ./internals/Vec2 ./internals/Vec3 ./internals/Vec4".split(" "),function(k,d,ea,Q,O,x,m,u){let D=function(t){function e(c,f=0,w,I){c=t.call(this,Float32Array,c,f,w,
I)||this;c.elementType="f32";return c}d._inheritsLoose(e,t);e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);D.ElementType="f32";let M=function(t){function e(c,f=0,w,I){c=t.call(this,Float32Array,c,f,w,I)||this;c.elementType="f32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};
return e}(x.BufferViewVec2Impl);M.ElementType="f32";let N=function(t){function e(c,f=0,w,I){c=t.call(this,Float32Array,c,f,w,I)||this;c.elementType="f32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);N.ElementType="f32";let ia=function(t){function e(c,f=0,w,I){c=t.call(this,Float32Array,c,f,w,I)||this;c.elementType="f32";return c}
d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);ia.ElementType="f32";let ha=function(t){function e(c,f=0,w,I){c=t.call(this,Float32Array,c,f,w,I)||this;c.elementType="f32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,
c.byteOffset+c.byteLength)};return e}(ea.BufferViewMat3Impl);ha.ElementType="f32";ea=function(t){function e(c,f=0,w,I){c=t.call(this,Float64Array,c,f,w,I)||this;c.elementType="f64";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(ea.BufferViewMat3Impl);ea.ElementType="f64";let n=function(t){function e(c,f=0,w,I){c=t.call(this,Float32Array,c,f,w,I)||
this;c.elementType="f32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(Q.BufferViewMat4Impl);n.ElementType="f32";Q=function(t){function e(c,f=0,w,I){c=t.call(this,Float64Array,c,f,w,I)||this;c.elementType="f64";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,
c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(Q.BufferViewMat4Impl);Q.ElementType="f64";let C=function(t){function e(c,f=0,w,I){c=t.call(this,Float64Array,c,f,w,I)||this;c.elementType="f64";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);C.ElementType="f64";let v=function(t){function e(c,f=0,w,I){c=t.call(this,Float64Array,
c,f,w,I)||this;c.elementType="f64";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);v.ElementType="f64";let J=function(t){function e(c,f=0,w,I){c=t.call(this,Float64Array,c,f,w,I)||this;c.elementType="f64";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,
f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);J.ElementType="f64";let Y=function(t){function e(c,f=0,w,I){c=t.call(this,Float64Array,c,f,w,I)||this;c.elementType="f64";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);Y.ElementType="f64";let U=function(t){function e(c,f=0,w,
I){c=t.call(this,Uint8Array,c,f,w,I)||this;c.elementType="u8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);U.ElementType="u8";let R=function(t){function e(c,f=0,w,I){c=t.call(this,Uint8Array,c,f,w,I)||this;c.elementType="u8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=
function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);R.ElementType="u8";let K=function(t){function e(c,f=0,w,I){c=t.call(this,Uint8Array,c,f,w,I)||this;c.elementType="u8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);K.ElementType="u8";let S=function(t){function e(c,
f=0,w,I){c=t.call(this,Uint8Array,c,f,w,I)||this;c.elementType="u8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);S.ElementType="u8";let ba=function(t){function e(c,f=0,w,I){c=t.call(this,Uint16Array,c,f,w,I)||this;c.elementType="u16";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,
c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);ba.ElementType="u16";let X=function(t){function e(c,f=0,w,I){c=t.call(this,Uint16Array,c,f,w,I)||this;c.elementType="u16";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);X.ElementType="u16";
let z=function(t){function e(c,f=0,w,I){c=t.call(this,Uint16Array,c,f,w,I)||this;c.elementType="u16";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);z.ElementType="u16";let E=function(t){function e(c,f=0,w,I){c=t.call(this,Uint16Array,c,f,w,I)||this;c.elementType="u16";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,
f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);E.ElementType="u16";let B=function(t){function e(c,f=0,w,I){c=t.call(this,Uint32Array,c,f,w,I)||this;c.elementType="u32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);
B.ElementType="u32";let F=function(t){function e(c,f=0,w,I){c=t.call(this,Uint32Array,c,f,w,I)||this;c.elementType="u32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);F.ElementType="u32";let T=function(t){function e(c,f=0,w,I){c=t.call(this,Uint32Array,c,f,w,I)||this;c.elementType="u32";return c}d._inheritsLoose(e,t);e.prototype.slice=
function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);T.ElementType="u32";let aa=function(t){function e(c,f=0,w,I){c=t.call(this,Uint32Array,c,f,w,I)||this;c.elementType="u32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);
aa.ElementType="u32";let la=function(t){function e(c,f=0,w,I){c=t.call(this,Int8Array,c,f,w,I)||this;c.elementType="i8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);la.ElementType="i8";let pa=function(t){function e(c,f=0,w,I){c=t.call(this,Int8Array,c,f,w,I)||this;c.elementType="i8";return c}d._inheritsLoose(e,t);e.prototype.slice=
function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);pa.ElementType="i8";let va=function(t){function e(c,f=0,w,I){c=t.call(this,Int8Array,c,f,w,I)||this;c.elementType="i8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);
va.ElementType="i8";let g=function(t){function e(c,f=0,w,I){c=t.call(this,Int8Array,c,f,w,I)||this;c.elementType="i8";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);g.ElementType="i8";let r=function(t){function e(c,f=0,w,I){c=t.call(this,Int16Array,c,f,w,I)||this;c.elementType="i16";return c}d._inheritsLoose(e,t);e.prototype.slice=
function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);r.ElementType="i16";let P=function(t){function e(c,f=0,w,I){c=t.call(this,Int16Array,c,f,w,I)||this;c.elementType="i16";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);
P.ElementType="i16";let ra=function(t){function e(c,f=0,w,I){c=t.call(this,Int16Array,c,f,w,I)||this;c.elementType="i16";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);ra.ElementType="i16";let G=function(t){function e(c,f=0,w,I){c=t.call(this,Int16Array,c,f,w,I)||this;c.elementType="i16";return c}d._inheritsLoose(e,t);e.prototype.slice=
function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);G.ElementType="i16";O=function(t){function e(c,f=0,w,I){c=t.call(this,Int32Array,c,f,w,I)||this;c.elementType="i32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(O.BufferViewScalarImpl);
O.ElementType="i32";x=function(t){function e(c,f=0,w,I){c=t.call(this,Int32Array,c,f,w,I)||this;c.elementType="i32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(x.BufferViewVec2Impl);x.ElementType="i32";m=function(t){function e(c,f=0,w,I){c=t.call(this,Int32Array,c,f,w,I)||this;c.elementType="i32";return c}d._inheritsLoose(e,t);e.prototype.slice=
function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(m.BufferViewVec3Impl);m.ElementType="i32";u=function(t){function e(c,f=0,w,I){c=t.call(this,Int32Array,c,f,w,I)||this;c.elementType="i32";return c}d._inheritsLoose(e,t);e.prototype.slice=function(c,f){return this.sliceBuffer(e,c,f)};e.fromTypedArray=function(c,f){return new e(c.buffer,c.byteOffset,f,c.byteOffset+c.byteLength)};return e}(u.BufferViewVec4Impl);
u.ElementType="i32";k.BufferViewFloat=D;k.BufferViewFloat64=C;k.BufferViewInt16=r;k.BufferViewInt32=O;k.BufferViewInt8=la;k.BufferViewMat3f=ha;k.BufferViewMat3f64=ea;k.BufferViewMat4f=n;k.BufferViewMat4f64=Q;k.BufferViewUint16=ba;k.BufferViewUint32=B;k.BufferViewUint8=U;k.BufferViewVec2f=M;k.BufferViewVec2f64=v;k.BufferViewVec2i16=P;k.BufferViewVec2i32=x;k.BufferViewVec2i8=pa;k.BufferViewVec2u16=X;k.BufferViewVec2u32=F;k.BufferViewVec2u8=R;k.BufferViewVec3f=N;k.BufferViewVec3f64=J;k.BufferViewVec3i16=
ra;k.BufferViewVec3i32=m;k.BufferViewVec3i8=va;k.BufferViewVec3u16=z;k.BufferViewVec3u32=T;k.BufferViewVec3u8=K;k.BufferViewVec4f=ia;k.BufferViewVec4f64=Y;k.BufferViewVec4i16=G;k.BufferViewVec4i32=u;k.BufferViewVec4i8=g;k.BufferViewVec4u16=E;k.BufferViewVec4u32=aa;k.BufferViewVec4u8=S;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(k,d){let ea=function(){function Q(x,
m,u=0,D,M){this.TypedArrayConstructor=x;this.elementCount=9;x=this.TypedArrayConstructor;void 0===D&&(D=9*x.BYTES_PER_ELEMENT);const N=0===m.byteLength?0:u;this.typedBuffer=null==M?new x(m,N):new x(m,N,(M-u)/x.BYTES_PER_ELEMENT);this.typedBufferStride=D/x.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var O=Q.prototype;O.sliceBuffer=function(x,m,u=this.count-m){m=this.typedBuffer.byteOffset+
m*this.stride;return new x(this.buffer,m,this.stride,m+u*this.stride)};O.getMat=function(x,m){x*=this.typedBufferStride;for(let u=0;9>u;u++)m[u]=this.typedBuffer[x++];return m};O.setMat=function(x,m){x*=this.typedBufferStride;for(let u=0;9>u;u++)this.typedBuffer[x++]=m[u]};O.get=function(x,m){return this.typedBuffer[x*this.typedBufferStride+m]};O.set=function(x,m,u){this.typedBuffer[x*this.typedBufferStride+m]=u};O.copyFrom=function(x,m,u){const D=this.typedBuffer,M=m.typedBuffer;x*=this.typedBufferStride;
m=u*m.typedBufferStride;for(u=0;9>u;++u)D[x++]=M[m++]};d._createClass(Q,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return Q}();ea.ElementCount=9;k.BufferViewMat3Impl=ea;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(k,d){let ea=function(){function Q(x,m,u=0,D,M){this.TypedArrayConstructor=x;this.elementCount=16;x=this.TypedArrayConstructor;
void 0===D&&(D=16*x.BYTES_PER_ELEMENT);const N=0===m.byteLength?0:u;this.typedBuffer=null==M?new x(m,N):new x(m,N,(M-u)/x.BYTES_PER_ELEMENT);this.typedBufferStride=D/x.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var O=Q.prototype;O.sliceBuffer=function(x,m,u=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new x(this.buffer,m,this.stride,m+u*this.stride)};O.getMat=
function(x,m){x*=this.typedBufferStride;for(let u=0;16>u;u++)m[u]=this.typedBuffer[x++];return m};O.setMat=function(x,m){x*=this.typedBufferStride;for(let u=0;16>u;u++)this.typedBuffer[x++]=m[u]};O.get=function(x,m){return this.typedBuffer[x*this.typedBufferStride+m]};O.set=function(x,m,u){this.typedBuffer[x*this.typedBufferStride+m]=u};O.copyFrom=function(x,m,u){const D=this.typedBuffer,M=m.typedBuffer;x*=this.typedBufferStride;m=u*m.typedBufferStride;for(u=0;16>u;++u)D[x++]=M[m++]};d._createClass(Q,
[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return Q}();ea.ElementCount=16;k.BufferViewMat4Impl=ea;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers"],function(k,d){let ea=function(){function Q(x,m,u=0,D,M){this.TypedArrayConstructor=x;this.elementCount=1;x=this.TypedArrayConstructor;void 0===D&&(D=x.BYTES_PER_ELEMENT);const N=0===m.byteLength?
0:u;this.typedBuffer=null==M?new x(m,N):new x(m,N,(M-u)/x.BYTES_PER_ELEMENT);this.stride=D;this.typedBufferStride=D/x.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}var O=Q.prototype;O.sliceBuffer=function(x,m,u=this.count-m){m=this.typedBuffer.byteOffset+m*this.stride;return new x(this.buffer,m,this.stride,m+u*this.stride)};O.get=function(x){return this.typedBuffer[x*this.typedBufferStride]};O.set=function(x,m){this.typedBuffer[x*this.typedBufferStride]=m};
d._createClass(Q,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return Q}();ea.ElementCount=1;k.BufferViewScalarImpl=ea;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec2"],function(k,d,ea){let Q=function(){function O(m,u,D=0,M,N){this.TypedArrayConstructor=m;this.elementCount=2;m=this.TypedArrayConstructor;void 0===M&&(M=
2*m.BYTES_PER_ELEMENT);const ia=0===u.byteLength?0:D;this.typedBuffer=null==N?new m(u,ia):new m(u,ia,(N-D)/m.BYTES_PER_ELEMENT);this.typedBufferStride=M/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var x=O.prototype;x.sliceBuffer=function(m,u,D=this.count-u){u=this.typedBuffer.byteOffset+u*this.stride;return new m(this.buffer,u,this.stride,u+D*this.stride)};x.getVec=function(m,
u){m*=this.typedBufferStride;return ea.set(u,this.typedBuffer[m],this.typedBuffer[m+1])};x.setVec=function(m,u){m*=this.typedBufferStride;this.typedBuffer[m++]=u[0];this.typedBuffer[m]=u[1]};x.get=function(m,u){return this.typedBuffer[m*this.typedBufferStride+u]};x.set=function(m,u,D){this.typedBuffer[m*this.typedBufferStride+u]=D};x.setValues=function(m,u,D){m*=this.typedBufferStride;this.typedBuffer[m++]=u;this.typedBuffer[m]=D};x.copyFrom=function(m,u,D){const M=this.typedBuffer,N=u.typedBuffer;
m*=this.typedBufferStride;u=D*u.typedBufferStride;M[m++]=N[u++];M[m]=N[u]};d._createClass(O,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return O}();Q.ElementCount=2;k.BufferViewVec2Impl=Q;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec2":function(){define(["exports","./common"],function(k,d){function ea(G,t){G[0]=t[0];G[1]=t[1];return G}function Q(G,t,e){G[0]=t;G[1]=e;return G}function O(G,t,e){G[0]=t[0]+e[0];G[1]=t[1]+e[1];return G}function x(G,
t,e){G[0]=t[0]-e[0];G[1]=t[1]-e[1];return G}function m(G,t,e){G[0]=t[0]*e[0];G[1]=t[1]*e[1];return G}function u(G,t,e){G[0]=t[0]/e[0];G[1]=t[1]/e[1];return G}function D(G,t){G[0]=Math.ceil(t[0]);G[1]=Math.ceil(t[1]);return G}function M(G,t){G[0]=Math.floor(t[0]);G[1]=Math.floor(t[1]);return G}function N(G,t,e){G[0]=Math.min(t[0],e[0]);G[1]=Math.min(t[1],e[1]);return G}function ia(G,t,e){G[0]=Math.max(t[0],e[0]);G[1]=Math.max(t[1],e[1]);return G}function ha(G,t){G[0]=Math.round(t[0]);G[1]=Math.round(t[1]);
return G}function n(G,t,e){G[0]=t[0]*e;G[1]=t[1]*e;return G}function C(G,t,e,c){G[0]=t[0]+e[0]*c;G[1]=t[1]+e[1]*c;return G}function v(G,t){const e=t[0]-G[0];G=t[1]-G[1];return Math.sqrt(e*e+G*G)}function J(G,t){const e=t[0]-G[0];G=t[1]-G[1];return e*e+G*G}function Y(G){const t=G[0];G=G[1];return Math.sqrt(t*t+G*G)}function U(G){const t=G[0];G=G[1];return t*t+G*G}function R(G,t){G[0]=-t[0];G[1]=-t[1];return G}function K(G,t){G[0]=1/t[0];G[1]=1/t[1];return G}function S(G,t){var e=t[0];const c=t[1];
e=e*e+c*c;0<e&&(e=1/Math.sqrt(e),G[0]=t[0]*e,G[1]=t[1]*e);return G}function ba(G,t){return G[0]*t[0]+G[1]*t[1]}function X(G,t,e){t=t[0]*e[1]-t[1]*e[0];G[0]=G[1]=0;G[2]=t;return G}function z(G,t,e,c){const f=t[0];t=t[1];G[0]=f+c*(e[0]-f);G[1]=t+c*(e[1]-t);return G}function E(G,t){t=t||1;const e=2*d.RANDOM()*Math.PI;G[0]=Math.cos(e)*t;G[1]=Math.sin(e)*t;return G}function B(G,t,e){const c=t[0];t=t[1];G[0]=e[0]*c+e[2]*t;G[1]=e[1]*c+e[3]*t;return G}function F(G,t,e){const c=t[0];t=t[1];G[0]=e[0]*c+e[2]*
t+e[4];G[1]=e[1]*c+e[3]*t+e[5];return G}function T(G,t,e){const c=t[0];t=t[1];G[0]=e[0]*c+e[3]*t+e[6];G[1]=e[1]*c+e[4]*t+e[7];return G}function aa(G,t,e){const c=t[0];t=t[1];G[0]=e[0]*c+e[4]*t+e[12];G[1]=e[1]*c+e[5]*t+e[13];return G}function la(G,t,e,c){const f=t[0]-e[0];t=t[1]-e[1];const w=Math.sin(c);c=Math.cos(c);G[0]=f*c-t*w+e[0];G[1]=f*w+t*c+e[1];return G}function pa(G,t){var e=G[0];G=G[1];const c=t[0];t=t[1];let f=e*e+G*G;0<f&&(f=1/Math.sqrt(f));let w=c*c+t*t;0<w&&(w=1/Math.sqrt(w));e=(e*c+
G*t)*f*w;return 1<e?0:-1>e?Math.PI:Math.acos(e)}function va(G){return"vec2("+G[0]+", "+G[1]+")"}function g(G,t){return G[0]===t[0]&&G[1]===t[1]}function r(G,t){const e=G[0];G=G[1];const c=t[0];t=t[1];const f=d.getEpsilon();return Math.abs(e-c)<=f*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(G-t)<=f*Math.max(1,Math.abs(G),Math.abs(t))}function P(G,t,e,c,f){let w=t[0]-e[0];e=t[1]-e[1];f=(c[0]*w+c[1]*e)*(f-1);w=c[0]*f;e=c[1]*f;G[0]=t[0]+w;G[1]=t[1]+e;return G}const ra=Object.freeze(Object.defineProperty({__proto__:null,
add:O,angle:pa,ceil:D,copy:ea,cross:X,dist:v,distance:v,div:u,divide:u,dot:ba,equals:r,exactEquals:g,floor:M,inverse:K,len:Y,length:Y,lerp:z,max:ia,min:N,mul:m,multiply:m,negate:R,normalize:S,projectAndScale:P,random:E,rotate:la,round:ha,scale:n,scaleAndAdd:C,set:Q,sqrDist:J,sqrLen:U,squaredDistance:J,squaredLength:U,str:va,sub:x,subtract:x,transformMat2:B,transformMat2d:F,transformMat3:T,transformMat4:aa},Symbol.toStringTag,{value:"Module"}));k.add=O;k.angle=pa;k.ceil=D;k.copy=ea;k.cross=X;k.dist=
v;k.distance=v;k.div=u;k.divide=u;k.dot=ba;k.equals=r;k.exactEquals=g;k.floor=M;k.inverse=K;k.len=Y;k.length=Y;k.lerp=z;k.max=ia;k.min=N;k.mul=m;k.multiply=m;k.negate=R;k.normalize=S;k.projectAndScale=P;k.random=E;k.rotate=la;k.round=ha;k.scale=n;k.scaleAndAdd=C;k.set=Q;k.sqrDist=J;k.sqrLen=U;k.squaredDistance=J;k.squaredLength=U;k.str=va;k.sub=x;k.subtract=x;k.transformMat2=B;k.transformMat2d=F;k.transformMat3=T;k.transformMat4=aa;k.vec2=ra})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports",
"../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec3"],function(k,d,ea){let Q=function(){function O(m,u,D=0,M,N){this.TypedArrayConstructor=m;this.elementCount=3;m=this.TypedArrayConstructor;void 0===M&&(M=3*m.BYTES_PER_ELEMENT);const ia=0===u.byteLength?0:D;this.typedBuffer=null==N?new m(u,ia):new m(u,ia,(N-D)/m.BYTES_PER_ELEMENT);this.typedBufferStride=M/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*
this.TypedArrayConstructor.BYTES_PER_ELEMENT}var x=O.prototype;x.sliceBuffer=function(m,u,D=this.count-u){u=this.typedBuffer.byteOffset+u*this.stride;return new m(this.buffer,u,this.stride,u+D*this.stride)};x.getVec=function(m,u){m*=this.typedBufferStride;return ea.set(u,this.typedBuffer[m],this.typedBuffer[m+1],this.typedBuffer[m+2])};x.setVec=function(m,u){m*=this.typedBufferStride;this.typedBuffer[m++]=u[0];this.typedBuffer[m++]=u[1];this.typedBuffer[m]=u[2]};x.get=function(m,u){return this.typedBuffer[m*
this.typedBufferStride+u]};x.set=function(m,u,D){this.typedBuffer[m*this.typedBufferStride+u]=D};x.setValues=function(m,u,D,M){m*=this.typedBufferStride;this.typedBuffer[m++]=u;this.typedBuffer[m++]=D;this.typedBuffer[m]=M};x.copyFrom=function(m,u,D){const M=this.typedBuffer,N=u.typedBuffer;m*=this.typedBufferStride;u=D*u.typedBufferStride;M[m++]=N[u++];M[m++]=N[u++];M[m]=N[u]};d._createClass(O,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return O}();Q.ElementCount=3;k.BufferViewVec3Impl=
Q;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/_rollupPluginBabelHelpers","../../../../chunks/vec4"],function(k,d,ea){let Q=function(){function O(m,u,D=0,M,N){this.TypedArrayConstructor=m;this.start=D;this.elementCount=4;m=this.TypedArrayConstructor;void 0===M&&(M=4*m.BYTES_PER_ELEMENT);const ia=0===u.byteLength?0:D;this.typedBuffer=null==N?new m(u,ia):new m(u,ia,(N-D)/m.BYTES_PER_ELEMENT);
this.typedBufferStride=M/m.BYTES_PER_ELEMENT;this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride);this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}var x=O.prototype;x.sliceBuffer=function(m,u,D=this.count-u){u=this.typedBuffer.byteOffset+u*this.stride;return new m(this.buffer,u,this.stride,u+D*this.stride)};x.getVec=function(m,u){m*=this.typedBufferStride;return ea.set(u,this.typedBuffer[m++],this.typedBuffer[m++],this.typedBuffer[m++],this.typedBuffer[m])};
x.setVec=function(m,u){m*=this.typedBufferStride;this.typedBuffer[m++]=u[0];this.typedBuffer[m++]=u[1];this.typedBuffer[m++]=u[2];this.typedBuffer[m]=u[3]};x.get=function(m,u){return this.typedBuffer[m*this.typedBufferStride+u]};x.set=function(m,u,D){this.typedBuffer[m*this.typedBufferStride+u]=D};x.setValues=function(m,u,D,M,N){m*=this.typedBufferStride;this.typedBuffer[m++]=u;this.typedBuffer[m++]=D;this.typedBuffer[m++]=M;this.typedBuffer[m]=N};x.copyFrom=function(m,u,D){const M=this.typedBuffer,
N=u.typedBuffer;m*=this.typedBufferStride;u=D*u.typedBufferStride;M[m++]=N[u++];M[m++]=N[u++];M[m++]=N[u++];M[m]=N[u]};d._createClass(O,[{key:"buffer",get:function(){return this.typedBuffer.buffer}}]);return O}();Q.ElementCount=4;k.BufferViewVec4Impl=Q;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../geometry/support/buffer/math/common"],function(k,d){function ea(D,M,N){if(D.count!==M.count)d.mathLogger.error("source and destination buffers need to have the same number of elements");
else{var ia=D.count,ha=N[0],n=N[1],C=N[2],v=N[4],J=N[5],Y=N[6],U=N[8],R=N[9],K=N[10],S=N[12],ba=N[13];N=N[14];var X=D.typedBuffer;D=D.typedBufferStride;var z=M.typedBuffer;M=M.typedBufferStride;for(let B=0;B<ia;B++){const F=B*D;var E=B*M;const T=z[E],aa=z[E+1];E=z[E+2];X[F]=ha*T+v*aa+U*E+S;X[F+1]=n*T+J*aa+R*E+ba;X[F+2]=C*T+Y*aa+K*E+N}}}function Q(D,M,N){if(D.count!==M.count)d.mathLogger.error("source and destination buffers need to have the same number of elements");else{var ia=D.count,ha=N[0],n=
N[1],C=N[2],v=N[3],J=N[4],Y=N[5],U=N[6],R=N[7];N=N[8];var K=D.typedBuffer;D=D.typedBufferStride;var S=M.typedBuffer;M=M.typedBufferStride;for(let X=0;X<ia;X++){const z=X*D;var ba=X*M;const E=S[ba],B=S[ba+1];ba=S[ba+2];K[z]=ha*E+v*B+U*ba;K[z+1]=n*E+J*B+R*ba;K[z+2]=C*E+Y*B+N*ba}}}function O(D,M,N){const ia=Math.min(D.count,M.count),ha=D.typedBuffer;D=D.typedBufferStride;const n=M.typedBuffer;M=M.typedBufferStride;for(let C=0;C<ia;C++){const v=C*D,J=C*M;ha[v]=N*n[J];ha[v+1]=N*n[J+1];ha[v+2]=N*n[J+2]}}
function x(D,M){const N=Math.min(D.count,M.count),ia=D.typedBuffer;D=D.typedBufferStride;const ha=M.typedBuffer;M=M.typedBufferStride;for(let v=0;v<N;v++){const J=v*D;var n=v*M;const Y=ha[n],U=ha[n+1];n=ha[n+2];var C=Y*Y+U*U+n*n;0<C&&(C=1/Math.sqrt(C),ia[J]=C*Y,ia[J+1]=C*U,ia[J+2]=C*n)}}function m(D,M,N){const ia=Math.min(D.count,M.count),ha=D.typedBuffer;D=D.typedBufferStride;const n=M.typedBuffer;M=M.typedBufferStride;for(let C=0;C<ia;C++){const v=C*D,J=C*M;ha[v]=n[J]>>N;ha[v+1]=n[J+1]>>N;ha[v+
2]=n[J+2]>>N}}const u=Object.freeze(Object.defineProperty({__proto__:null,normalize:x,scale:O,shiftRight:m,transformMat3:Q,transformMat4:ea},Symbol.toStringTag,{value:"Module"}));k.normalize=x;k.scale=O;k.shiftRight=m;k.transformMat3=Q;k.transformMat4=ea;k.vec3=u})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(k,d){d=d.getLogger("esri.views.3d.support.buffer.math");k.mathLogger=d;Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},
"esri/chunks/vec33":function(){define(["exports"],function(k){function d(O,x,m){const u=O.typedBuffer;O=O.typedBufferStride;const D=x.typedBuffer,M=x.typedBufferStride;x=m?m.count:x.count;let N=(m&&m.dstIndex?m.dstIndex:0)*O;m=(m&&m.srcIndex?m.srcIndex:0)*M;for(let ia=0;ia<x;++ia)u[N]=D[m],u[N+1]=D[m+1],u[N+2]=D[m+2],N+=O,m+=M}function ea(O,x,m,u,D){const M=O.typedBuffer,N=O.typedBufferStride;O=D?.count??O.count;D=(D?.dstIndex??0)*N;for(let ia=0;ia<O;++ia)M[D]=x,M[D+1]=m,M[D+2]=u,D+=N}const Q=Object.freeze(Object.defineProperty({__proto__:null,
copy:d,fill:ea},Symbol.toStringTag,{value:"Module"}));k.copy=d;k.fill=ea;k.vec3=Q})},"esri/geometry/support/meshUtils/geographicUtils":function(){define(["exports"],function(k){k.isGeographicMesh=function(d,ea){return d.isGeographic||d.isWebMercator&&(ea?.geographic??!0)};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshUtils/projection":function(){define("exports ../../../core/Logger ../../../core/maybe ../../../chunks/mat3 ../../../chunks/mat3f64 ../../../chunks/mat4f64 ../../../chunks/vec3 ../../../chunks/vec3f64 ../../projection ../../spatialReferenceEllipsoidUtils ../spatialReferenceUtils ../webMercatorUtils ../buffer/BufferView ../../../chunks/vec32".split(" "),
function(k,d,ea,Q,O,x,m,u,D,M,N,ia,ha,n){function C(X,z,E,B,F,T){if(z){var aa=E.count,la=M.getSphericalPCPF(F);if(J(F))for(E=0;E<aa;E++)B.getVec(E,R),z.getVec(E,K),D.computeTranslationToOriginAndRotation(la,R,S,la),Q.fromMat4(ba,S),X===U.FROM_PCPF&&Q.transpose(ba,ba),m.transformMat3(K,K,ba),T.setVec(E,K);else for(F=0;F<aa;F++){B.getVec(F,R);z.getVec(F,K);D.computeTranslationToOriginAndRotation(la,R,S,la);Q.fromMat4(ba,S);var pa=ia.y2lat(E.get(F,1));pa=Math.cos(pa);X===U.TO_PCPF&&(pa=1/pa);ba[0]*=
pa;ba[1]*=pa;ba[2]*=pa;ba[3]*=pa;ba[4]*=pa;ba[5]*=pa;X===U.FROM_PCPF&&Q.transpose(ba,ba);m.transformMat3(K,K,ba);m.normalize(K,K);T.setVec(F,K)}return T}}function v(X){return J(X)||X.isWebMercator}function J(X){return X.isWGS84||N.isCGCS2000(X)||N.isMars(X)||N.isMoon(X)}const Y=d.getLogger("esri.geometry.support.meshUtils.normalProjection");var U;(function(X){X[X.TO_PCPF=0]="TO_PCPF";X[X.FROM_PCPF=1]="FROM_PCPF"})(U||(U={}));const R=u.create(),K=u.create(),S=x.create(),ba=O.create();k.projectFromPCPF=
function(X,z,E){D.projectBuffer(X,M.getSphericalPCPF(E),0,z,E,0,X.length/3);return z};k.projectNormalFromPCPF=function(X,z,E,B,F){if(!v(B))return Y.error("Cannot convert to spatial reference from PCPF"),F;C(U.FROM_PCPF,ha.BufferViewVec3f.fromTypedArray(X),ha.BufferViewVec3f64.fromTypedArray(z),ha.BufferViewVec3f64.fromTypedArray(E),B,ha.BufferViewVec3f.fromTypedArray(F));return F};k.projectNormalToPCPF=function(X,z,E,B,F){if(!v(B))return Y.error("Cannot convert spatial reference to PCPF"),F;C(U.TO_PCPF,
ha.BufferViewVec3f.fromTypedArray(X),ha.BufferViewVec3f64.fromTypedArray(z),ha.BufferViewVec3f64.fromTypedArray(E),B,ha.BufferViewVec3f.fromTypedArray(F));return F};k.projectTangentFromPCPF=function(X,z,E,B,F){if(!v(B))return Y.error("Cannot convert to spatial reference from PCPF"),F;C(U.FROM_PCPF,ha.BufferViewVec3f.fromTypedArray(X,16),ha.BufferViewVec3f64.fromTypedArray(z),ha.BufferViewVec3f64.fromTypedArray(E),B,ha.BufferViewVec3f.fromTypedArray(F,16));for(z=3;z<X.length;z+=4)F[z]=X[z];return F};
k.projectTangentToPCPF=function(X,z,E,B,F){if(!v(B))return Y.error("Cannot convert spatial reference to PCPF"),F;C(U.TO_PCPF,ha.BufferViewVec3f.fromTypedArray(X,4*Float32Array.BYTES_PER_ELEMENT),ha.BufferViewVec3f64.fromTypedArray(z),ha.BufferViewVec3f64.fromTypedArray(E),B,ha.BufferViewVec3f.fromTypedArray(F,4*Float32Array.BYTES_PER_ELEMENT));for(z=3;z<X.length;z+=4)F[z]=X[z];return F};k.projectToPCPF=function(X,z,E){D.projectBuffer(X,z,0,E,M.getSphericalPCPF(z),0,X.length/3);return E};k.transformNormal=
function(X,z,E){if(ea.isNone(X))return z;Q.normalFromMat4(ba,E);X=ha.BufferViewVec3f.fromTypedArray(X);E=ha.BufferViewVec3f.fromTypedArray(z);n.transformMat3(E,X,ba);Q.isOrthoNormal(ba)||n.normalize(E,E);return z};k.transformPosition=function(X,z,E){if(ea.isNone(X))return z;X=ha.BufferViewVec3f64.fromTypedArray(X);const B=ha.BufferViewVec3f64.fromTypedArray(z);n.transformMat4(B,X,E);return z};k.transformTangent=function(X,z,E){if(ea.isNone(X))return z;Q.normalFromMat4(ba,E);E=ha.BufferViewVec3f.fromTypedArray(X,
4*Float32Array.BYTES_PER_ELEMENT);const B=ha.BufferViewVec3f.fromTypedArray(z,4*Float32Array.BYTES_PER_ELEMENT);n.transformMat3(B,E,ba);Q.isOrthoNormal(ba)||n.normalize(B,B);if(X!==z)for(E=3;E<X.length;E+=4)z[E]=X[E];return z};Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})})},"*noref":1}});
define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/has","../../../core/maybe","../../../core/libs/rbush/PooledRBush","./georeference"],function(k,d,ea,Q,O){function x(m,u,D,M){return{minX:Math.min(m[u+0],m[D+0],m[M+0]),maxX:Math.max(m[u+0],m[D+0],m[M+0]),minY:Math.min(m[u+1],m[D+1],m[M+1]),maxY:Math.max(m[u+1],m[D+1],m[M+1]),p0:[m[u+0],m[u+1],m[u+2]],p1:[m[D+0],m[D+1],m[D+2]],p2:[m[M+0],m[M+1],m[M+2]]}}return function(){function m(){}var u=m.prototype;u.createIndex=function(){var D=
k._asyncToGenerator(function*(M,N){const ia=[];if(!M.vertexAttributes||!M.vertexAttributes.position)return new Q.PooledRBush;M=this._createMeshData(M);N=ea.isSome(N)?yield N.invoke("createIndexThread",M,{transferList:ia}):this.createIndexThread(M).result;return this._createPooledRBush().fromJSON(N)});return function(M,N){return D.apply(this,arguments)}}();u.createIndexThread=function(D){const M=new Float64Array(D.position),N=this._createPooledRBush();return D.components?this._createIndexComponentsThread(N,
M,D.components.map(ia=>new Uint32Array(ia))):this._createIndexAllThread(N,M)};u._createIndexAllThread=function(D,M){const N=Array(M.length/9);let ia=0;for(let ha=0;ha<M.length;ha+=9)N[ia++]=x(M,ha+0,ha+3,ha+6);D.load(N);return{result:D.toJSON()}};u._createIndexComponentsThread=function(D,M,N){var ia=0;for(var ha of N)ia+=ha.length/3;ia=Array(ia);ha=0;for(const n of N)for(N=0;N<n.length;N+=3)ia[ha++]=x(M,3*n[N+0],3*n[N+1],3*n[N+2]);D.load(ia);return{result:D.toJSON()}};u._createMeshData=function(D){const M=
(D.transform?O.georeferenceApplyTransform({position:D.vertexAttributes.position,normal:null,tangent:null},D.transform,D.spatialReference).position:D.vertexAttributes.position).buffer;return!D.components||D.components.some(N=>!N.faces)?{position:M}:{position:M,components:D.components.map(N=>N.faces)}};u._createPooledRBush=function(){return new Q.PooledRBush(9,d("esri-csp-restrictions")?D=>D:[".minX",".minY",".maxX",".maxY"])};return m}()});